<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.monezhao.mapper.SysMenuMapper">

    <!-- 多表查询:根据条件得到多条记录List(查询条件按需修改!) -->
    <select id="list" resultType="com.monezhao.bean.sys.SysMenu">
        select a.menu_id          as menuId,
               a.menu_name        as menuName,
               a.parent_menu_id   as parentMenuId,
               a.menu_icon        as menuIcon,
               a.menu_url         as menuUrl,
               a.menu_permissions as menuPermissions,
               a.component        as component,
               a.redirect         as redirect,
               a.hidden           as hidden,
               a.is_route         as isRoute,
               a.route_name       as routeName,
               a.is_cache         as isCache,
               a.affix            as affix,
               a.is_leaf          as isLeaf,
               a.sort_no          as sortNo,
               m.menu_name        as parentMenuName

        from t_sys_menu a
                 left join t_sys_menu m on a.parent_menu_id = m.menu_id
        where 1 = 1
        order by a.is_leaf,a.sort_no
    </select>
</mapper>
