(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2414719e","chunk-16b1a994","chunk-09b8cb07","chunk-55d460b8","chunk-70ae3821","chunk-32f0e19c","chunk-a9865208","chunk-91cd5eb6","chunk-2d230fe7"],{"0673":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"exception"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:e.config[e.type].img}})]),e._v(" "),i("div",{staticClass:"content"},[i("h1",[e._v(e._s(e.config[e.type].title))]),e._v(" "),i("div",{staticClass:"desc"},[e._v(e._s(e.config[e.type].desc))]),e._v(" "),i("div",{staticClass:"action"},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleToHome}},[e._v("返回首页")])],1)])])},n=[],a={403:{img:i("26fc"),title:"403",desc:"抱歉，你无权访问该页面"},404:{img:i("a36b"),title:"404",desc:"抱歉，你访问的页面不存在或仍在开发中"},500:{img:i("26fc"),title:"500",desc:"抱歉，服务器出错了"}},o=a,l={name:"Exception",props:{type:{type:String,default:"404"}},data:function(){return{config:o}},methods:{handleToHome:function(){this.$router.push({name:"dashboard"})}}},r=l,c=(i("938e"),i("2877")),d=Object(c["a"])(r,s,n,!1,null,"705ac34e",null);t["default"]=d.exports},"117c":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-row",{attrs:{gutter:5}},[i("el-col",{attrs:{span:8}},[i("div",[i("el-input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"请输入过滤条件"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),i("el-tree",{ref:"menuTree",staticClass:"filter-tree",attrs:{data:e.treeData,"node-key":"menuId",props:e.defaultProps,"filter-node-method":e.filterNode,"highlight-current":"","default-expand-all":"","expand-on-click-node":!1},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),i("el-col",{attrs:{span:16}},[i("div",[i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:func:save",expression:"'sys:func:save'"}],staticClass:"filter-item",staticStyle:{"margin-bottom":"10px"},attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnFuncCreate}},[e._v("新增")]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:func:delete",expression:"'sys:func:delete'"}],staticClass:"filter-item",staticStyle:{"margin-bottom":"10px"},attrs:{icon:"el-icon-delete"},on:{click:function(t){return e.btnFuncDelete()}}},[e._v("批量删除")])],1),e._v(" "),i("el-table",{ref:"funcTable",staticStyle:{width:"100%"},attrs:{data:e.funcRecords,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"功能名称",prop:"funcName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.funcName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"授权",prop:"funcPermissions",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.funcPermissions))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"排序号",prop:"sortNo",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.sortNo))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s)}}},[e._v("查看")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:func:update",expression:"'sys:func:update'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnFuncUpdate(s)}}},[e._v("修改")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:func:delete",expression:"'sys:func:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnFuncDelete(s.funcId)}}},[e._v("删除")])],1)],1)]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.listFuncs}})],1)],1)])],1),e._v(" "),i("el-dialog",{attrs:{title:"功能",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"auto"}},[i("el-form-item",{attrs:{label:"功能名称",prop:"funcName"}},[i("el-input",{model:{value:e.temp.funcName,callback:function(t){e.$set(e.temp,"funcName",t)},expression:"temp.funcName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"授权",prop:"funcPermissions"}},[i("el-input",{model:{value:e.temp.funcPermissions,callback:function(t){e.$set(e.temp,"funcPermissions",t)},expression:"temp.funcPermissions"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"排序号",prop:"sortNo"}},[i("el-input",{model:{value:e.temp.sortNo,callback:function(t){e.$set(e.temp,"sortNo",t)},expression:"temp.sortNo"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入备注信息"},model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"view"!==e.dialogStatus?i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createFuncData():e.updateFuncData()}}},[e._v("\n        确定\n      ")]):e._e()],1)],1)],1)},n=[],a=(i("6b54"),i("333d")),o=i("0fea"),l=i("5c96"),r={name:"SysFunc",components:{Pagination:a["default"]},data:function(){return{funcRecords:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,menuId:void 0},currMenuId:void 0,dialogFormVisible:!1,dialogStatus:"",temp:{funcName:"",menuId:"",funcPermissions:"",sortNo:"",remark:""},rules:{funcName:[{required:!0,message:"该项不能为空",trigger:"change"}],sortNo:[{required:!0,message:"该项不能为空",trigger:"change"}]},filterText:"",treeData:[],defaultProps:{children:"children",label:"label",isLeaf:"isLeaf",data:"data"}}},watch:{filterText:function(e){this.$refs.menuTree.filter(e)}},created:function(){this.getTreeData()},methods:{getTreeData:function(){var e=this;Object(o["c"])("/sys/menu/getTreeData",{}).then((function(t){var i=t.data;e.treeData=i}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){e.isLeaf&&(this.currMenuId=e.id,this.listFuncs())},listFuncs:function(){var e=this;this.listQuery.menuId=this.currMenuId,Object(o["c"])("/sys/func/list",this.listQuery).then((function(t){var i=t.data;e.funcRecords=i.records,e.total=i.total}))},resetTemp:function(){this.temp={funcName:"",menuId:this.currMenuId,funcPermissions:"",sortNo:"",remark:""}},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnFuncCreate:function(){var e=this;this.currMenuId?(this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))):l["Message"].error("请先选择菜单")},createFuncData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["d"])("/sys/func/save",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.listFuncs(e.listQuery)}))}))},btnFuncUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateFuncData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["e"])("/sys/func/update",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.listFuncs(e.listQuery)}))}))},btnFuncDelete:function(e){var t=this,i=e?[e]:this.selectedRecords.map((function(e){return e.funcId}));0!==i.length?Object(o["a"])("/sys/func/delete",{ids:i.toString()}).then((function(e){var i=e.msg;l["Message"].success(i),t.listFuncs(t.listQuery)})):l["Message"].error("请选择要删除的记录")},selectionChange:function(e){this.selectedRecords=e}}},c=r,d=i("2877"),u=Object(d["a"])(c,s,n,!1,null,null,null);t["default"]=u.exports},"1f31":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-making-height"},[i("fm-making-form",{ref:"makingFrom",attrs:{preview:"","generate-json":""}},[i("template",{slot:"action"},[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:form:save,flowable:form:update",expression:"'flowable:form:save,flowable:form:update'"}],attrs:{type:"text",icon:"el-icon-upload"},on:{click:e.btnSave}},[e._v("保存\n      ")])],1)],2)],1)},n=[],a=i("0fea"),o=i("5c96"),l={name:"FlowableFormEdit",data:function(){return{formKey:void 0,formData:{formKey:void 0,formName:"",formJson:""},defaultJson:{list:[],config:{labelWidth:100,labelPosition:"right",size:"small"}}}},created:function(){this.$route.query&&this.$route.query.formKey&&(this.formKey=this.$route.query.formKey),this.getFormData()},methods:{getFormData:function(){var e=this;this.formKey?Object(a["c"])("/flowable/form/queryById",{id:this.formKey}).then((function(t){var i=t.data;e.formData=i,e.formData&&e.formData.formJson?setTimeout((function(){return e.$refs.makingFrom.setJSON(JSON.parse(e.formData.formJson))}),100):setTimeout((function(){return e.$refs.makingFrom.setJSON(e.defaultJson)}),100)})):o["Message"].error("formKey is null")},btnSave:function(){this.formData.formJson=JSON.stringify(this.$refs.makingFrom.getJSON()),Object(a["e"])("/flowable/form/update",this.formData).then((function(e){var t=e.msg;e.data;o["Message"].success(t)}))}}},r=l,c=(i("8c7d"),i("2877")),d=Object(c["a"])(r,s,n,!1,null,null,null);t["default"]=d.exports},"1f81":function(e,t,i){"use strict";i("5a28")},2011:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-row",{attrs:{gutter:5}},[i("el-col",{attrs:{span:8}},[i("div",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:menu:save",expression:"'sys:menu:save'"}],attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnAdd}},[e._v("新增")]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:menu:delete",expression:"'sys:menu:delete'"}],attrs:{icon:"el-icon-delete"},on:{click:e.btnDelete}},[e._v("删除")]),e._v(" "),i("el-input",{staticStyle:{margin:"10px 0px 10px 0px"},attrs:{placeholder:"请输入过滤条件"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),i("el-tree",{ref:"menuTree",staticClass:"filter-tree",attrs:{data:e.treeData,"node-key":"menuId",props:e.defaultProps,"filter-node-method":e.filterNode,"highlight-current":"","default-expand-all":"","expand-on-click-node":!1},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),i("el-col",{attrs:{span:16}},[i("div",[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,"label-position":"right","label-width":"auto"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"菜单ID",prop:"menuId"}},[i("el-input",{attrs:{readonly:"update"===e.status},model:{value:e.temp.menuId,callback:function(t){e.$set(e.temp,"menuId",t)},expression:"temp.menuId"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"上级菜单ID",prop:"parentMenuId",hidden:""}},[i("el-input",{attrs:{readonly:""},model:{value:e.temp.parentMenuId,callback:function(t){e.$set(e.temp,"parentMenuId",t)},expression:"temp.parentMenuId"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"上级菜单",prop:"parentMenuName"}},[i("el-input",{attrs:{readonly:""},model:{value:e.temp.parentMenuName,callback:function(t){e.$set(e.temp,"parentMenuName",t)},expression:"temp.parentMenuName"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[i("el-input",{model:{value:e.temp.menuName,callback:function(t){e.$set(e.temp,"menuName",t)},expression:"temp.menuName"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"菜单图标",prop:"menuIcon"}},[i("el-input",{model:{value:e.temp.menuIcon,callback:function(t){e.$set(e.temp,"menuIcon",t)},expression:"temp.menuIcon"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"菜单URL",prop:"menuUrl"}},[i("el-input",{model:{value:e.temp.menuUrl,callback:function(t){e.$set(e.temp,"menuUrl",t)},expression:"temp.menuUrl"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"授权",prop:"menuPermissions"}},[i("el-input",{model:{value:e.temp.menuPermissions,callback:function(t){e.$set(e.temp,"menuPermissions",t)},expression:"temp.menuPermissions"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"组件",prop:"component"}},[i("el-input",{model:{value:e.temp.component,callback:function(t){e.$set(e.temp,"component",t)},expression:"temp.component"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"重定向",prop:"redirect"}},[i("el-input",{model:{value:e.temp.redirect,callback:function(t){e.$set(e.temp,"redirect",t)},expression:"temp.redirect"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"是否路由",prop:"isRoute"}},[i("el-select",{attrs:{placeholder:"是否路由"},model:{value:e.temp.isRoute,callback:function(t){e.$set(e.temp,"isRoute",t)},expression:"temp.isRoute"}},e._l(e.dicts.yesOrNo,(function(e){return i("el-option",{key:e.value,attrs:{label:e.content,value:e.value}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"路由名称",prop:"routeName"}},[i("el-input",{model:{value:e.temp.routeName,callback:function(t){e.$set(e.temp,"routeName",t)},expression:"temp.routeName"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"是否隐藏",prop:"hidden"}},[i("el-select",{attrs:{placeholder:"是否隐藏"},model:{value:e.temp.hidden,callback:function(t){e.$set(e.temp,"hidden",t)},expression:"temp.hidden"}},e._l(e.dicts.yesOrNo,(function(e){return i("el-option",{key:e.value,attrs:{label:e.content,value:e.value}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"是否缓存",prop:"isCache"}},[i("el-select",{attrs:{placeholder:"是否缓存"},model:{value:e.temp.isCache,callback:function(t){e.$set(e.temp,"isCache",t)},expression:"temp.isCache"}},e._l(e.dicts.yesOrNo,(function(e){return i("el-option",{key:e.value,attrs:{label:e.content,value:e.value}})})),1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"是否常驻菜单",prop:"affix"}},[i("el-select",{attrs:{placeholder:"是否常驻菜单"},model:{value:e.temp.affix,callback:function(t){e.$set(e.temp,"affix",t)},expression:"temp.affix"}},e._l(e.dicts.yesOrNo,(function(e){return i("el-option",{key:e.value,attrs:{label:e.content,value:e.value}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"是否叶子",prop:"isLeaf"}},[i("el-select",{attrs:{placeholder:"是否叶子",disabled:""},model:{value:e.temp.isLeaf,callback:function(t){e.$set(e.temp,"isLeaf",t)},expression:"temp.isLeaf"}},e._l(e.dicts.yesOrNo,(function(e){return i("el-option",{key:e.value,attrs:{label:e.content,value:e.value}})})),1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"排序号",prop:"sortNo"}},[i("el-input",{model:{value:e.temp.sortNo,callback:function(t){e.$set(e.temp,"sortNo",t)},expression:"temp.sortNo"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["sys:menu:save","sys:menu:update"],expression:"['sys:menu:save','sys:menu:update']"}],attrs:{icon:"el-icon-check",type:"primary"},on:{click:e.btnSave}},[e._v("保存")])],1)],1)],1)],1)],1)])],1)],1)},n=[],a=i("0fea"),o=i("5c96"),l={name:"SysMenu",data:function(){return{dicts:[],status:"",temp:{menuId:void 0,menuName:"",parentMenuId:"",menuIcon:"",menuUrl:"",menuPermissions:"",component:"",redirect:"",hidden:"0",isRoute:"1",routeName:"",isCache:"1",affix:"0",isLeaf:"1",sortNo:"",parentMenuName:""},rules:{menuId:[{required:!0,message:"该项不能为空",trigger:"change"}],menuName:[{required:!0,message:"该项不能为空",trigger:"change"},{min:0,max:7,message:"长度不能超过7个字符",trigger:"blur"}],menuUrl:[{required:!0,message:"该项不能为空",trigger:"change"}],sortNo:[{required:!0,message:"该项不能为空",trigger:"change"}]},filterText:"",treeData:[],defaultProps:{children:"children",label:"label",isLeaf:"isLeaf",data:"data"}}},watch:{filterText:function(e){this.$refs.menuTree.filter(e)}},created:function(){var e=this;this.getTreeData(),this.getDicts("menuLevel,menuType,yesOrNo").then((function(t){var i=t.data;e.dicts=i}))},methods:{getTreeData:function(){var e=this;Object(a["c"])("/sys/menu/getTreeData",{}).then((function(t){var i=t.data;e.treeData=i}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){var t=e.data;this.status="update",this.temp=Object.assign({},t)},btnSave:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&("update"===e.status?Object(a["e"])("/sys/menu/update",e.temp).then((function(t){var i=t.msg,s=t.data;o["Message"].success(i),e.temp=Object.assign({},s),e.$refs.menuTree.getCurrentNode().label=s.menuName,e.$refs.menuTree.getCurrentNode().data=Object.assign({},s)})):Object(a["d"])("/sys/menu/save",e.temp).then((function(t){var i=t.msg,s=t.data;o["Message"].success(i),e.temp=Object.assign({},s),e.getTreeData()})))}))},resetTemp:function(){this.temp={menuId:void 0,menuName:"",parentMenuId:"",menuIcon:"",menuUrl:"",menuPermissions:"",component:"",redirect:"",hidden:"0",isRoute:"1",routeName:"",isCache:"1",affix:"0",isLeaf:"1",sortNo:"",parentMenuName:""}},btnAdd:function(){var e=this,t="",i="";this.temp.menuId&&(t=this.temp.menuId,i=this.temp.menuName),this.resetTemp(),this.temp.parentMenuId=t,this.temp.parentMenuName=i,this.status="create",this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},btnDelete:function(){var e=this;if(this.temp.menuId){var t=this.$refs.menuTree.getCurrentNode();t&&t.children&&t.children.length>0?o["Message"].error("请先删除叶子节点"):Object(a["a"])("/sys/menu/delete",{id:this.temp.menuId}).then((function(t){var i=t.msg;o["Message"].success(i),e.resetTemp(),e.$nextTick((function(){e.$refs["dataForm"].clearValidate()})),e.getTreeData()}))}else o["Message"].error("请选择要删除的记录")}}},r=l,c=i("2877"),d=Object(c["a"])(r,s,n,!1,null,null,null);t["default"]=d.exports},2017:function(e,t,i){"use strict";i("d8d0")},2482:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-link",{on:{click:function(t){return e.downloadFile(e.fileName)}}},[e._v(e._s(e.fileName))]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.uploadFile()}}},[e._v("上传文件")]),e._v(" "),i("upload-file-vue",{ref:"uploadFileVue",on:{uploadOk:e.uploadOk}})],1)},n=[],a=i("d721"),o=i("b775"),l={components:[a["default"]],data:function(){return{fileName:""}},methods:{downloadFile:function(e){var t=e.substring(0,e.lastIndexOf("."));o["a"].get("/base/file/download/"+e,{responseType:"blob"}).then((function(e){var i=new Blob([e]);if("download"in document.createElement("a")){var s=document.createElement("a");s.download=t,s.style.display="none",s.href=URL.createObjectURL(i),document.body.appendChild(s),s.click(),URL.revokeObjectURL(s.href),document.body.removeChild(s)}else navigator.msSaveBlob(i,t)}))},uploadFile:function(){this.$refs.uploadFileVue.show("/base/file/upload","single",!1)},uploadOk:function(e){console.log(e)}}},r=l,c=i("2877"),d=Object(c["a"])(r,s,n,!1,null,null,null);t["default"]=d.exports},"26fc":function(e,t,i){e.exports=i.p+"static/img/404_cloud.0f4bc32b.png"},"2b2b":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("div",{staticClass:"filter-container"},[i("el-checkbox",{on:{change:e.list},model:{value:e.listQuery.startedByMe,callback:function(t){e.$set(e.listQuery,"startedByMe",t)},expression:"listQuery.startedByMe"}},[e._v("我发起的")]),e._v(" "),i("el-checkbox",{on:{change:e.list},model:{value:e.listQuery.ccToMe,callback:function(t){e.$set(e.listQuery,"ccToMe",t)},expression:"listQuery.ccToMe"}},[e._v("抄送我")]),e._v(" "),i("el-checkbox",{on:{change:e.list},model:{value:e.listQuery.unfinished,callback:function(t){e.$set(e.listQuery,"unfinished",t)},expression:"listQuery.unfinished"}},[e._v("未办结")]),e._v(" "),i("el-checkbox",{on:{change:e.list},model:{value:e.listQuery.finished,callback:function(t){e.$set(e.listQuery,"finished",t)},expression:"listQuery.finished"}},[e._v("已办结")]),e._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{icon:"el-icon-zoom-out",type:"primary"},on:{click:e.btnReset}},[e._v("重置")])],1)]),e._v(" "),i("el-row",e._l(e.myInvolvedRecords,(function(t,s){return i("el-col",{key:s,attrs:{span:12}},[i("div",{staticClass:"filter-container",staticStyle:{"margin-right":"3px","margin-bottom":"3px"}},[i("el-card",[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("router-link",{attrs:{to:{path:"/myFlowable/myProcessQuery",query:{processDefinitionCategory:t.category,startedByMe:e.listQuery.startedByMe,ccToMe:e.listQuery.ccToMe,unfinished:e.listQuery.unfinished,finished:e.listQuery.finished}}}},[i("el-link",{attrs:{type:"primary"}},[e._v("\n                "+e._s(e.formatDictText(e.dicts.processCategory,t.categoryName))+"\n              ")])],1)],1),e._v(" "),i("div",{staticStyle:{height:"110px","padding-left":"15px"}},[i("el-scrollbar",{staticClass:"scroll-container"},e._l(t.processDefinitionVoList,(function(t,s){return i("router-link",{key:s,attrs:{to:{path:"/myFlowable/myProcessQuery",query:{processDefinitionKey:t.processDefinitionKey,startedByMe:e.listQuery.startedByMe,ccToMe:e.listQuery.ccToMe,unfinished:e.listQuery.unfinished,finished:e.listQuery.finished}}}},[i("el-link",{staticStyle:{"padding-bottom":"5px"},attrs:{type:"info"}},[e._v("\n                  "+e._s(t.processDefinitionName)+"("+e._s(t.count)+")\n                ")]),e._v(" "),i("br")],1)})),1)],1)])],1)])})),1)],1)},n=[],a=i("0fea"),o=(i("5f87"),{name:"FlowableMyProcess",data:function(){return{dicts:[],myInvolvedRecords:null,myInvolvedTotal:0,listQuery:{startedByMe:!1,ccToMe:!1,unfinished:!1,finished:!1},processInstanceId:"",dialogViewVisible:!1}},beforeCreate:function(){var e=this;this.getDicts("processCategory").then((function(t){var i=t.data;e.dicts=i}))},created:function(){this.list()},methods:{list:function(){var e=this;Object(a["c"])("/flowable/processInstance/listMyInvolvedSummary",this.listQuery).then((function(t){var i=t.data;e.myInvolvedRecords=i}))},btnReset:function(){this.listQuery={startedByMe:!1,ccToMe:!1,unfinished:!1,finished:!1},this.list()}}}),l=o,r=(i("cdd7"),i("2877")),c=Object(r["a"])(l,s,n,!1,null,"7576d80c",null);t["default"]=c.exports},"33d0":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[i("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])},n=[],a={name:"MonitorDruid",data:function(){return{src:"/balance/druid/index.html",height:document.documentElement.clientHeight+"px;",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight+"px;"}}},o=a,l=i("2877"),r=Object(l["a"])(o,s,n,!1,null,null,null);t["default"]=r.exports},"35b1":function(e,t,i){},"3bdc":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("div",{staticClass:"filter-container"},[i("el-checkbox",{model:{value:e.listQuery.startedByMe,callback:function(t){e.$set(e.listQuery,"startedByMe",t)},expression:"listQuery.startedByMe"}},[e._v("我发起的")]),e._v(" "),i("el-checkbox",{model:{value:e.listQuery.ccToMe,callback:function(t){e.$set(e.listQuery,"ccToMe",t)},expression:"listQuery.ccToMe"}},[e._v("抄送我")]),e._v(" "),i("el-checkbox",{model:{value:e.listQuery.unfinished,callback:function(t){e.$set(e.listQuery,"unfinished",t)},expression:"listQuery.unfinished"}},[e._v("未办结")]),e._v(" "),i("el-checkbox",{model:{value:e.listQuery.finished,callback:function(t){e.$set(e.listQuery,"finished",t)},expression:"listQuery.finished"}},[e._v("已办结")])],1),e._v(" "),i("div",[i("el-select",{staticClass:"filter-item",attrs:{placeholder:"流程分类"},model:{value:e.listQuery.processDefinitionCategory,callback:function(t){e.$set(e.listQuery,"processDefinitionCategory",t)},expression:"listQuery.processDefinitionCategory"}},e._l(e.dicts.processCategory,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程Key"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnMyInvolvedQuery(t)}},model:{value:e.listQuery.processDefinitionKey,callback:function(t){e.$set(e.listQuery,"processDefinitionKey",t)},expression:"listQuery.processDefinitionKey"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"业务主键KEY"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnMyInvolvedQuery(t)}},model:{value:e.listQuery.businessKey,callback:function(t){e.$set(e.listQuery,"businessKey",t)},expression:"listQuery.businessKey"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"启动人"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnMyInvolvedQuery(t)}},model:{value:e.listQuery.startedBy,callback:function(t){e.$set(e.listQuery,"startedBy",t)},expression:"listQuery.startedBy"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnMyInvolvedQuery}},[i("i",{staticClass:"el-icon-search el-icon&#45;&#45;left"}),e._v("查询\n        "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnMyInvolvedReset(t)}}},[e._v("重置\n          ")])],1)],1)],1)]),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.myInvolvedRecords,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}}},[i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"流程实例名称",prop:"name",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"业务主键Key",prop:"businessKey",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.businessKey))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"启动人",prop:"startUserId",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.startUserId))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"开始时间",prop:"startTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.startTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"结束时间",prop:"endTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.endTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s.id)}}},[e._v("查看详情\n            ")])],1)],1)]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.myInvolvedTotal>0,expression:"myInvolvedTotal>0"}],attrs:{total:e.myInvolvedTotal,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),e._v(" "),e.dialogViewVisible?i("process-detail",{attrs:{visible:e.dialogViewVisible,"process-instance-id":e.processInstanceId},on:{"update:visible":function(t){e.dialogViewVisible=t}}}):e._e()],1)},n=[],a=i("333d"),o=i("0fea"),l=(i("5f87"),i("3579")),r={name:"FlowableMyProcessQuery",components:{ProcessDetail:l["default"],Pagination:a["default"]},data:function(){return{dicts:[],myInvolvedRecords:null,myInvolvedTotal:0,listQuery:{current:1,size:10,startedByMe:!1,ccToMe:!1,finished:!1,unfinished:!1,processDefinitionCategory:void 0,processDefinitionKey:void 0,processInstanceId:void 0,processInstanceName:void 0,businessKey:void 0},processInstanceId:"",dialogViewVisible:!1}},beforeCreate:function(){var e=this;this.getDicts("processCategory").then((function(t){var i=t.data;e.dicts=i}))},created:function(){this.$route.query&&(this.$route.query.processDefinitionCategory&&(this.listQuery.processDefinitionCategory=this.$route.query.processDefinitionCategory),this.$route.query.processDefinitionKey&&(this.listQuery.processDefinitionKey=this.$route.query.processDefinitionKey),this.$route.query.startedByMe&&(this.listQuery.startedByMe=this.$route.query.startedByMe),this.$route.query.ccToMe&&(this.listQuery.ccToMe=this.$route.query.ccToMe),this.$route.query.unfinished&&(this.listQuery.unfinished=this.$route.query.unfinished),this.$route.query.finished&&(this.listQuery.finished=this.$route.query.finished)),this.list()},methods:{list:function(){var e=this;Object(o["c"])("/flowable/processInstance/listMyInvolved",this.listQuery).then((function(t){var i=t.data;e.myInvolvedRecords=i.records,e.myInvolvedTotal=i.total}))},btnMyInvolvedQuery:function(){this.listQuery.current=1,this.list()},btnMyInvolvedReset:function(){this.listQuery={current:1,size:10,startedByMe:!1,ccToMe:!1,processDefinitionCategory:void 0,processInstanceId:void 0,processInstanceName:void 0,businessKey:void 0,startedBy:void 0,unfinished:!1,finished:!1},this.list()},btnView:function(e){this.processInstanceId=e,this.dialogViewVisible=!0}}},c=r,d=i("2877"),u=Object(d["a"])(c,s,n,!1,null,null,null);t["default"]=u.exports},"3c66":function(e,t,i){},"3de8":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-select",{attrs:{value:e.valueTitle,clearable:e.clearable,disabled:e.disabled},on:{clear:e.clearHandle}},[i("el-input",{staticClass:"selectInput",attrs:{placeholder:e.placeholder},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),i("el-option",{staticClass:"options",attrs:{value:e.valueTitle,label:e.valueTitle}},[i("el-tree",{ref:"selectTree",attrs:{id:"tree-option",accordion:e.accordion,data:e.options,props:e.props,"node-key":e.props.value,"default-expand-all":"","filter-node-method":e.filterNode,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick}})],1)],1)},n=[],a=(i("ac6a"),i("2d63")),o={name:"ElTreeSelect",props:{props:{type:Object,default:function(){return{value:"id",label:"label",children:"children"}}},options:{type:Array,default:function(){return[]}},value:{type:String,default:function(){return null}},clearable:{type:Boolean,default:function(){return!0}},disabled:{type:Boolean,default:function(){return!0}},accordion:{type:Boolean,default:function(){return!1}},placeholder:{type:String,default:function(){return"检索关键字"}}},data:function(){return{filterText:"",valueId:this.value,valueTitle:"",defaultExpandedKey:[]}},watch:{value:function(){this.valueId=this.value,this.initHandle()},filterText:function(e){this.$refs.selectTree.filter(e)}},mounted:function(){this.initHandle()},methods:{initHandle:function(){console.log(this.valueId),this.valueId?(this.valueTitle=this.$refs.selectTree.getNode(this.valueId).data[this.props.label],this.$refs.selectTree.setCurrentKey(this.valueId),this.defaultExpandedKey=[this.valueId]):this.valueTitle="",this.initScroll()},initScroll:function(){this.$nextTick((function(){var e=document.querySelectorAll(".el-scrollbar .el-select-dropdown__wrap")[0],t=document.querySelectorAll(".el-scrollbar .el-scrollbar__bar");e.style.cssText="margin: 0px; max-height: none; overflow: hidden;";var i,s=Object(a["a"])(t);try{for(s.s();!(i=s.n()).done;){var n=i.value;n.style.width=0}}catch(o){s.e(o)}finally{s.f()}}))},handleNodeClick:function(e){this.valueTitle=e[this.props.label],this.valueId=e[this.props.value],this.$emit("getValue",this.valueId),this.$emit("getNode",e),this.defaultExpandedKey=[]},clearHandle:function(){this.valueTitle="",this.valueId=null,this.defaultExpandedKey=[],this.clearSelected(),this.$emit("getValue",null),this.$emit("getNode",null)},clearSelected:function(){var e=document.querySelectorAll("#tree-option .el-tree-node");e.forEach((function(e){return e.classList.remove("is-current")}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)}}},l=o,r=(i("f96e"),i("2877")),c=Object(r["a"])(l,s,n,!1,null,"57bc1281",null);t["default"]=c.exports},"3e20":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:post:save",expression:"'sys:post:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCreate}},[e._v("新增")]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:post:delete",expression:"'sys:post:delete'"}],staticClass:"filter-item",attrs:{icon:"el-icon-delete"},on:{click:function(t){return e.btnDelete()}}},[e._v("批量删除")])],1),e._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"岗位名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.postName,callback:function(t){e.$set(e.listQuery,"postName",t)},expression:"listQuery.postName"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n        "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"岗位id",prop:"postId",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.postId))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"岗位名称",prop:"postName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.postName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"备注",prop:"remark",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.remark))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"排序号",prop:"sortNo",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.sortNo))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s)}}},[e._v("查看")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:post:update",expression:"'sys:post:update'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUpdate(s)}}},[e._v("修改")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:post:delete",expression:"'sys:post:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.postId)}}},[e._v("删除")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:post:getPostUser",expression:"'sys:post:getPostUser'"}],attrs:{icon:"el-icon-setting",divided:""},nativeOn:{click:function(t){return e.btnPostUser(s.postId,s.postName)}}},[e._v("分配用户")])],1)],1)]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}})],1),e._v(" "),i("el-dialog",{attrs:{title:"岗位",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"auto"}},[i("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[i("el-input",{model:{value:e.temp.postName,callback:function(t){e.$set(e.temp,"postName",t)},expression:"temp.postName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"排序号",prop:"sortNo"}},[i("el-input",{model:{value:e.temp.sortNo,callback:function(t){e.$set(e.temp,"sortNo",t)},expression:"temp.sortNo"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"remark"}},[i("el-input",{model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"view"!==e.dialogStatus?i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("确定")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.postUserTitle,width:"80%",visible:e.dialogPostUserVisible,"custom-class":"el-dialog-custom-height"},on:{"update:visible":function(t){e.dialogPostUserVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-button-group",[i("el-button",{staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnPostUserAdd}},[e._v("新增")]),e._v(" "),i("el-button",{staticClass:"filter-item",attrs:{icon:"el-icon-delete"},on:{click:e.btnPostUserDelete}},[e._v("批量删除")])],1),e._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:"用户姓名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getPostUser(t)}},model:{value:e.listQueryPostUser.userName,callback:function(t){e.$set(e.listQueryPostUser,"userName",t)},expression:"listQueryPostUser.userName"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.getPostUser}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n          "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnPostUserReset(t)}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),i("el-table",{ref:"postUserTable",staticStyle:{width:"100%"},attrs:{data:e.recordsPostUser,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChangePostUser}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"用户姓名",prop:"userName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.userName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"所属机构",prop:"orgName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.orgName))])]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalPostUser>0,expression:"totalPostUser>0"}],attrs:{total:e.totalPostUser,current:e.listQueryPostUser.current,size:e.listQueryPostUser.size},on:{"update:current":function(t){return e.$set(e.listQueryPostUser,"current",t)},"update:size":function(t){return e.$set(e.listQueryPostUser,"size",t)},pagination:e.getPostUser}})],1)],1),e._v(" "),i("select-user",{ref:"selectUser",attrs:{"append-to-body":!0,"multiple-select":!0},on:{selectUserFinished:e.selectUserFinished}})],1)},n=[],a=(i("6b54"),i("333d")),o=i("c4f3"),l=i("0fea"),r=i("5c96"),c={name:"SysPost",components:{Pagination:a["default"],SelectUser:o["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,postName:void 0},dialogFormVisible:!1,dialogStatus:"",temp:{postName:"",sortNo:"",remark:""},rules:{postName:[{required:!0,message:"该项不能为空",trigger:"change"}]},dialogPostUserVisible:!1,currPostId:"",currPostName:"",recordsPostUser:null,selectedRecordsPostUser:[],totalPostUser:0,listQueryPostUser:{current:1,size:10,postId:void 0,userName:void 0}}},computed:{postUserTitle:{get:function(){return"岗位【"+this.currPostName+"】分配用户"}}},beforeCreate:function(){},created:function(){this.list()},methods:{list:function(){var e=this;Object(l["c"])("/sys/post/list",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,postName:void 0},this.list()},resetTemp:function(){this.temp={postName:"",sortNo:"",remark:""}},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(l["d"])("/sys/post/save",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,r["Message"].success(i),e.list()}))}))},btnUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(l["e"])("/sys/post/update",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,r["Message"].success(i),e.list()}))}))},btnDelete:function(e){var t=this,i=e?[e]:this.selectedRecords.map((function(e){return e.postId}));0!==i.length?Object(l["a"])("/sys/post/delete",{ids:i.toString()}).then((function(e){var i=e.msg;r["Message"].success(i),t.list()})):r["Message"].error("请选择要删除的记录")},selectionChange:function(e){this.selectedRecords=e},btnPostUser:function(e,t){this.currPostId=e,this.currPostName=t,this.dialogPostUserVisible=!0,this.getPostUser()},getPostUser:function(){var e=this;this.listQueryPostUser.postId=this.currPostId,Object(l["c"])("/sys/post/getPostUser",this.listQueryPostUser).then((function(t){var i=t.data;e.recordsPostUser=i.records,e.totalPostUser=i.total}))},btnPostUserQuery:function(){this.listQueryPostUser.current=1,this.getPostUser()},btnPostUserReset:function(){this.listQueryPostUser={current:1,size:10,postId:void 0,userName:void 0},this.getPostUser()},selectionChangePostUser:function(e){this.selectedRecordsPostUser=e},btnPostUserAdd:function(){this.$refs.selectUser.show()},selectUserFinished:function(e){var t=this;if(e&&0!==e.length){var i=e.map((function(e){return e.userId}));Object(l["d"])("/sys/post/savePostUsers",{postId:this.currPostId,userId:i.toString()}).then((function(e){var i=e.msg;r["Message"].success(i),t.btnPostUserQuery()}))}else r["Message"].error("请先选择用户")},btnPostUserDelete:function(){var e=this,t=this.selectedRecordsPostUser.map((function(e){return e.userId}));0!==t.length?Object(l["a"])("/sys/post/deletePostUsers",{postId:this.currPostId,userIds:t.toString()}).then((function(t){var i=t.msg;r["Message"].success(i),e.btnPostUserQuery()})):r["Message"].error("请选择要删除的记录")}}},d=c,u=i("2877"),p=Object(u["a"])(d,s,n,!1,null,null,null);t["default"]=p.exports},"3f4b":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"发起流程",visible:e.dialogStartProcessVisibleInChild,fullscreen:!1},on:{"update:visible":function(t){e.dialogStartProcessVisibleInChild=t}}},[e.generateStartFormVisible?i("div",[i("fm-generate-form",{ref:"generateStartForm",attrs:{data:e.startFormJson}})],1):e._e(),e._v(" "),i("select-user",{ref:"selectUser",attrs:{"append-to-body":!0,"multiple-select":!0},on:{selectUserFinished:e.selectUserFinished}}),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-form",{attrs:{"label-width":"100px"}},[e.showBusinessKey?i("el-form-item",{attrs:{label:"业务主键Key:"}},[i("el-input",{attrs:{placeholder:"请输入业务主键Key"},model:{value:e.businessKey,callback:function(t){e.businessKey=t},expression:"businessKey"}})],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"抄送给:"}},[i("el-row",{attrs:{align:"left"}},[i("el-col",{attrs:{span:1,align:"left"}},[i("i",{staticClass:"el-icon-plus el-icon--left",staticStyle:{cursor:"pointer"},on:{click:e.doSelectCcTo}})]),e._v(" "),i("el-col",{attrs:{span:23,align:"left"}},e._l(e.ccToVos,(function(t){return i("el-tag",{key:t.userId,staticStyle:{"margin-left":"5px"},attrs:{effect:"plain",closable:""},on:{close:function(i){return e.handleCcToClose(t)}}},[e._v(e._s(t.userName)+"\n            ")])})),1)],1)],1)],1),e._v(" "),i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogStartProcessVisibleInChild=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:e.doStartInstance}},[e._v("确定\n    ")])],1)],1)},n=[],a=i("0fea"),o=i("5c96"),l=i("c4f3"),r={name:"StartProcess",components:{SelectUser:l["default"]},props:{visible:{type:Boolean,default:function(){return!1}},processDefinition:{type:Object,default:function(){return{}}}},data:function(){return{generateStartFormVisible:!1,startFormJson:void 0,variables:void 0,showBusinessKey:!1,businessKey:void 0,ccToVos:[]}},computed:{dialogStartProcessVisibleInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},created:function(){this.initData()},methods:{initData:function(){var e=this;this.processDefinition.formKey&&Object(a["c"])("/flowable/processDefinition/renderedStartForm",{processDefinitionId:this.processDefinition.id}).then((function(t){var i=t.data;e.showBusinessKey=i.showBusinessKey,i.renderedStartForm&&(e.startFormJson=JSON.parse(i.renderedStartForm),e.generateStartFormVisible=!0)}))},doSelectCcTo:function(){this.$refs.selectUser.show()},selectUserFinished:function(e){e&&0!=e.length?this.ccToVos=e:o["Message"].error("请先选择用户")},handleCcToClose:function(e){this.ccToVos.splice(this.ccToVos.indexOf(e),1)},doStartInstance:function(){var e=this;this.$refs.generateStartForm?this.$refs.generateStartForm.getData().then((function(t){if(t&&void 0!=t){var i=JSON.stringify(t),s=Object.assign({processInstanceFormData:i},t);return Object(a["d"])("/flowable/processInstance/start",{processDefinitionId:e.processDefinition.id,businessKey:e.businessKey,values:s,ccToVos:e.ccToVos}).then((function(t){var i=t.msg;o["Message"].success(i),e.dialogStartProcessVisibleInChild=!1}))}})).catch((function(e){})):Object(a["d"])("/flowable/processInstance/start",{processDefinitionId:this.processDefinition.id,businessKey:this.businessKey,ccToVos:this.ccToVos}).then((function(t){var i=t.msg;o["Message"].success(i),e.dialogStartProcessVisibleInChild=!1}))}}},c=r,d=i("2877"),u=Object(d["a"])(c,s,n,!1,null,null,null);t["default"]=u.exports},4841:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:10}},[i("dic-type")],1),e._v(" "),i("el-col",{attrs:{span:14}},[i("dic-info")],1)],1)],1)},n=[],a=i("b393"),o=i("59b1"),l={name:"DictionaryData",components:{DicType:a["default"],DicInfo:o["default"]},data:function(){return{}}},r=l,c=i("2877"),d=Object(c["a"])(r,s,n,!1,null,null,null);t["default"]=d.exports},"49d5":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"head-info",class:e.center&&"center"},[i("span",[e._v(e._s(e.title))]),e._v(" "),i("p",[e._v(e._s(e.content))])])},n=[],a=(i("c5f6"),{name:"HeadInfo",props:{title:{type:String,default:""},content:{type:Number,default:0},bordered:{type:Boolean,default:!0},center:{type:Boolean,default:!0}}}),o=a,l=(i("1f81"),i("2877")),r=Object(l["a"])(o,s,n,!1,null,"0ddec6ac",null);t["default"]=r.exports},"4d29":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-checkbox",{model:{value:e.listQuery.unfinished,callback:function(t){e.$set(e.listQuery,"unfinished",t)},expression:"listQuery.unfinished"}},[e._v("任务未办结")]),e._v(" "),i("el-checkbox",{model:{value:e.listQuery.finished,callback:function(t){e.$set(e.listQuery,"finished",t)},expression:"listQuery.finished"}},[e._v("任务已办结")]),e._v(" "),i("el-checkbox",{model:{value:e.listQuery.processUnfinished,callback:function(t){e.$set(e.listQuery,"processUnfinished",t)},expression:"listQuery.processUnfinished"}},[e._v("流程未办结")]),e._v(" "),i("el-checkbox",{model:{value:e.listQuery.processFinished,callback:function(t){e.$set(e.listQuery,"processFinished",t)},expression:"listQuery.processFinished"}},[e._v("流程已办结")])],1),e._v(" "),i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程实例ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceId,callback:function(t){e.$set(e.listQuery,"processInstanceId",t)},expression:"listQuery.processInstanceId"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"任务ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.taskId,callback:function(t){e.$set(e.listQuery,"taskId",t)},expression:"listQuery.taskId"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"任务名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.taskName,callback:function(t){e.$set(e.listQuery,"taskName",t)},expression:"listQuery.taskName"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"业务主键"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceBusinessKey,callback:function(t){e.$set(e.listQuery,"processInstanceBusinessKey",t)},expression:"listQuery.processInstanceBusinessKey"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"执行人"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.taskAssignee,callback:function(t){e.$set(e.listQuery,"taskAssignee",t)},expression:"listQuery.taskAssignee"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"所有人"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.taskOwner,callback:function(t){e.$set(e.listQuery,"taskOwner",t)},expression:"listQuery.taskOwner"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"干系人"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.taskInvolvedUser,callback:function(t){e.$set(e.listQuery,"taskInvolvedUser",t)},expression:"listQuery.taskInvolvedUser"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"父任务ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.parentTaskId,callback:function(t){e.$set(e.listQuery,"parentTaskId",t)},expression:"listQuery.parentTaskId"}}),e._v(" "),i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",placeholder:"到期日开始",type:"date"},model:{value:e.listQuery.taskDueAfter,callback:function(t){e.$set(e.listQuery,"taskDueAfter",t)},expression:"listQuery.taskDueAfter"}}),e._v(" "),i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",placeholder:"到期日结束",type:"date"},model:{value:e.listQuery.taskDueBefore,callback:function(t){e.$set(e.listQuery,"taskDueBefore",t)},expression:"listQuery.taskDueBefore"}}),e._v(" "),i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"创建时间开始",type:"datetime"},model:{value:e.listQuery.taskCreatedAfter,callback:function(t){e.$set(e.listQuery,"taskCreatedAfter",t)},expression:"listQuery.taskCreatedAfter"}}),e._v(" "),i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"创建时间结束",type:"datetime"},model:{value:e.listQuery.taskCreatedBefore,callback:function(t){e.$set(e.listQuery,"taskCreatedBefore",t)},expression:"listQuery.taskCreatedBefore"}}),e._v(" "),i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"完成时间开始",type:"datetime"},model:{value:e.listQuery.taskCompletedAfter,callback:function(t){e.$set(e.listQuery,"taskCompletedAfter",t)},expression:"listQuery.taskCompletedAfter"}}),e._v(" "),i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"完成时间结束",type:"datetime"},model:{value:e.listQuery.taskCompletedBefore,callback:function(t){e.$set(e.listQuery,"taskCompletedBefore",t)},expression:"listQuery.taskCompletedBefore"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n      "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"流程实例名称",prop:"processInstanceName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.processInstanceName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"任务名称",prop:"name",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"开始时间",prop:"claimTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.createTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"结束时间",prop:"endTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.endTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"所有人",prop:"owner",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.owner))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"执行人",prop:"assignee",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.assignee))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnViewTask(s)}}},[e._v("查看")]),e._v(" "),i("el-dropdown-item",{attrs:{icon:"el-icon-view",divided:""},nativeOn:{click:function(t){return e.btnView(s.processInstanceId)}}},[e._v("查看详情\n            ")]),e._v(" "),null!=s.endTime||null!=s.assignee&&""!=s.assignee?e._e():i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:task:execute",expression:"'flowable:task:execute'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnClaim(s)}}},[e._v("认领并执行\n            ")]),e._v(" "),null==s.endTime&&s.assignee===e.$store.getters.sysUser.userId?i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:task:execute",expression:"'flowable:task:execute'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUnclaim(s)}}},[e._v("取消认领\n            ")]):e._e(),e._v(" "),null==s.endTime&&null!=s.assignee&&s.assignee===e.$store.getters.sysUser.userId?i("el-dropdown-item",{attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnExcuteTask(s)}}},[e._v("执行\n            ")]):e._e()],1)],1)]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),e._v(" "),e.dialogTaskDetailVisible?i("task-detail",{attrs:{visible:e.dialogTaskDetailVisible,dicts:e.dicts,"task-detail-data":e.taskDetailData},on:{"update:visible":function(t){e.dialogTaskDetailVisible=t}}}):e._e(),e._v(" "),e.dialogExcuteTaskVisible?i("execute-task",{attrs:{visible:e.dialogExcuteTaskVisible,"execute-task-id":e.executeTaskId},on:{"update:visible":function(t){e.dialogExcuteTaskVisible=t},executeTaskFinished:e.list}}):e._e(),e._v(" "),e.dialogViewVisible?i("process-detail",{attrs:{visible:e.dialogViewVisible,"process-instance-id":e.processInstanceId},on:{"update:visible":function(t){e.dialogViewVisible=t}}}):e._e()],1)},n=[],a=i("333d"),o=i("0fea"),l=i("5c96"),r=i("9d14"),c=i("f357"),d=i("3579"),u={name:"FlowableTask",components:{Pagination:a["default"],TaskDetail:r["default"],ExecuteTask:c["default"],ProcessDetail:d["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,processInstanceId:void 0,taskId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskDescription:void 0,taskAssignee:void 0,taskOwner:void 0,taskInvolvedUser:void 0,finished:!1,unfinished:!1,processFinished:!1,processUnfinished:!1,suspended:!1,active:!1,taskParentTaskId:void 0,taskDueBefore:void 0,taskDueAfter:void 0,taskCreatedBefore:void 0,taskCreatedAfter:void 0,taskCompletedBefore:void 0,taskCompletedAfter:void 0,taskCandidateUser:void 0,taskCandidateGroupIn:void 0},dialogTaskDetailVisible:!1,dialogExcuteTaskVisible:!1,dialogTaskBackNodesVisible:!1,formJson:void 0,taskDetailData:{id:"",name:"",description:"",category:"",owner:"",assignee:"",claimTime:"",dueDate:"",endTime:"",durationInMillis:"",workTimeInMillis:"",priority:"",taskDefinitionKey:"",processInstanceId:"",processInstanceName:"",processDefinitionId:"",processDefinitionName:"",processDefinitionDescription:"",processDefinitionKey:"",processDefinitionCategory:"",processDefinitionVersion:"",processDefinitionDeploymentId:"",formKey:"",renderedTaskForm:"",processInstanceStartUserId:"",initiatorCanCompleteTask:"",memberOfCandidateGroup:"",memberOfCandidateUsers:"",delegationState:"",suspended:"",involvedPeople:"",ownerName:"",assigneeName:"",tenantId:""},executeTaskId:"",processInstanceId:"",dialogViewVisible:!1}},created:function(){this.$route.query&&this.$route.query.processInstanceId&&(this.listQuery.processInstanceId=this.$route.query.processInstanceId),this.list()},methods:{list:function(){var e=this;Object(o["c"])("/flowable/task/list",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,processInstanceId:void 0,taskId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskDescription:void 0,taskAssignee:void 0,taskOwner:void 0,taskInvolvedUser:void 0,finished:!1,unfinished:!1,processFinished:!1,processUnfinished:!1,taskParentTaskId:void 0,taskDueBefore:void 0,taskDueAfter:void 0,taskCreatedBefore:void 0,taskCreatedAfter:void 0,taskCompletedBefore:void 0,taskCompletedAfter:void 0,taskCandidateUser:void 0,taskCandidateGroupIn:void 0},this.list()},btnViewTask:function(e){var t=this;Object(o["c"])("/flowable/task/queryById",{taskId:e.id}).then((function(e){var i=e.data;t.taskDetailData=Object.assign({},i),t.dialogTaskDetailVisible=!0}))},btnClaim:function(e){var t=this;Object(o["e"])("/flowable/task/claim",{taskId:e.id}).then((function(i){i.msg;t.list(),t.btnExcuteTask(e)})).catch((function(e){t.list()}))},btnUnclaim:function(e){var t=this;Object(o["e"])("/flowable/task/unclaim",{taskId:e.id}).then((function(e){var i=e.msg;l["Message"].success(i),t.list()}))},btnExcuteTask:function(e){this.executeTaskId=e.id,this.dialogExcuteTaskVisible=!0},doExcuteTask:function(){var e=this;this.$refs.generateForm.getData().then((function(t){Object(o["e"])("/flowable/task/complete",{taskId:e.taskDetailData.id,values:t}).then((function(t){var i=t.msg;l["Message"].success(i),e.dialogExcuteTaskVisible=!1,e.list()}))})).catch((function(e){}))},btnBackTask:function(e){this.executeTaskId=e.id,this.dialogTaskBackNodesVisible=!0},btnView:function(e){this.processInstanceId=e,this.dialogViewVisible=!0},selectionChange:function(e){this.selectedRecords=e}}},p=u,m=i("2877"),f=Object(m["a"])(p,s,n,!1,null,null,null);t["default"]=f.exports},"4e8e":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:e.title,fullscreen:"",visible:e.dialogProcessDefinitionIdentityLinkInChild,width:"75%"},on:{"update:visible":function(t){e.dialogProcessDefinitionIdentityLinkInChild=t}}},[i("el-button-group",{staticStyle:{"padding-bottom":"10px"}},[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinitionIdentityLink:save",expression:"'flowable:processDefinitionIdentityLink:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCreate}},[e._v("新增")])],1),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"授权ID",prop:"identityId",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.identityId))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"授权类型",prop:"identityType",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{innerHTML:e._s(e.formatDictText(e.dicts.identityType,t.row.identityType))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"授权名称",prop:"identityName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.identityName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s)}}},[e._v("查看\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinitionIdentityLink:delete",expression:"'flowable:processDefinitionIdentityLink:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s)}}},[e._v("删除\n            ")])],1)],1)]}}])})],1),e._v(" "),i("el-dialog",{attrs:{title:"流程授权",visible:e.dialogFormVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"110px"}},[i("el-form-item",{attrs:{label:"授权类型",prop:"identityType"}},[i("el-select",{attrs:{placeholder:"授权类型"},model:{value:e.temp.identityType,callback:function(t){e.$set(e.temp,"identityType",t)},expression:"temp.identityType"}},e._l(e.dicts.identityType,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"授权id",prop:"identityId"}},[i("el-input",{attrs:{placeholder:e.placeholderIdentityId},model:{value:e.temp.identityId,callback:function(t){e.$set(e.temp,"identityId",t)},expression:"temp.identityId"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"view"!==e.dialogStatus?i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){return e.createData()}}},[e._v("确定\n      ")]):e._e()],1)],1)],1)},n=[],a=i("0fea"),o=i("5c96"),l={name:"ProcessDefinitionIdentityLink",props:{visible:{type:Boolean,default:function(){return!1}},processDefinitionId:{type:String,default:function(){return""}},processDefinitionName:{type:String,default:function(){return""}}},data:function(){return{records:[],selectedRecords:[],dicts:[],listQuery:{processDefinitionId:this.processDefinitionId,identityType:"",identityId:""},dialogFormVisible:!1,dialogStatus:"",temp:{processDefinitionId:this.processDefinitionId,identityType:"",identityId:""},rules:{identityType:[{required:!0,message:"该项不能为空",trigger:"change"}],identityId:[{required:!0,message:"该项不能为空",trigger:"change"}]}}},computed:{dialogProcessDefinitionIdentityLinkInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},title:{get:function(){return"流程授权【"+this.processDefinitionName+"】"}},placeholderIdentityId:{get:function(){return"1"==this.temp.identityType?"请输入用户id":"2"==this.temp.identityType?"请输入岗位id":"请先选择授权类型"}}},created:function(){var e=this;this.getDicts("identityType").then((function(t){var i=t.data;e.dicts=i})),this.list()},methods:{list:function(){var e=this;Object(a["c"])("/flowable/processDefinitionIdentityLink/list",this.listQuery).then((function(t){var i=t.data;e.records=i}))},resetTemp:function(){this.temp={processDefinitionId:this.processDefinitionId,identityType:"",identityId:""}},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(a["d"])("/flowable/processDefinitionIdentityLink/save",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,o["Message"].success(i),e.list()}))}))},btnDelete:function(e){var t=this;Object(a["a"])("/flowable/processDefinitionIdentityLink/delete",{processDefinitionId:this.processDefinitionId,identityType:e.identityType,identityId:e.identityId}).then((function(e){var i=e.msg;o["Message"].success(i),t.list()}))},selectionChange:function(e){this.selectedRecords=e}}},r=l,c=i("2877"),d=Object(c["a"])(r,s,n,!1,null,null,null);t["default"]=d.exports},"59b1":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-card",[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("字典信息 "+e._s(e.checkedRow.codeTypeName?"- "+e.checkedRow.codeTypeName:""))])]),e._v(" "),i("div",{staticClass:"filter-container"},[i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:codeInfo:save",expression:"'sys:codeInfo:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCodeInfoCreate}},[e._v("新增")]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:codeInfo:delete",expression:"'sys:codeInfo:delete'"}],staticClass:"filter-item",attrs:{icon:"el-icon-delete"},on:{click:function(t){return e.btnCodeInfoDelete()}}},[e._v("批量删除")])],1),e._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:"下拉框内容"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnCodeInfoQuery(t)}},model:{value:e.listCodeInfoQuery.content,callback:function(t){e.$set(e.listCodeInfoQuery,"content",t)},expression:"listCodeInfoQuery.content"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:"下拉框值"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnCodeInfoQuery(t)}},model:{value:e.listCodeInfoQuery.value,callback:function(t){e.$set(e.listCodeInfoQuery,"value",t)},expression:"listCodeInfoQuery.value"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnCodeInfoQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n        "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnCodeInfoReset(t)}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listCodeInfoLoading,expression:"listCodeInfoLoading"}],ref:"codeInfoTable",attrs:{data:e.recordsCodeInfo,"highlight-current-row":"","element-loading-text":"拼命加载中"},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"下拉框内容",prop:"content",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.content))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"下拉框值",prop:"value",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.value))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"排序号",prop:"sortNo",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.sortNo))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"是否显示",prop:"isOk",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{innerHTML:e._s(e.formatDictText(e.dicts.yesOrNo,t.row.isOk))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("\n            操作\n            "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnCodeInfoView(s)}}},[e._v("查看")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:codeInfo:update",expression:"'sys:codeInfo:update'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnCodeInfoUpdate(s)}}},[e._v("修改")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:codeInfo:delete",expression:"'sys:codeInfo:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnCodeInfoDelete(s.codeInfoId)}}},[e._v("删除")])],1)],1)]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalCodeInfo>0,expression:"totalCodeInfo>0"}],attrs:{total:e.totalCodeInfo,current:e.listCodeInfoQuery.current,size:e.listCodeInfoQuery.size},on:{"update:current":function(t){return e.$set(e.listCodeInfoQuery,"current",t)},"update:size":function(t){return e.$set(e.listCodeInfoQuery,"size",t)},pagination:e.listCodeInfo}})],1),e._v(" "),i("el-dialog",{attrs:{title:"字典信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"140px"}},[i("el-form-item",{attrs:{label:"下拉框内容",prop:"content"}},[i("el-input",{staticStyle:{width:"90%"},model:{value:e.temp.content,callback:function(t){e.$set(e.temp,"content",t)},expression:"temp.content"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"下拉框值",prop:"value"}},[i("el-input",{staticStyle:{width:"90%"},model:{value:e.temp.value,callback:function(t){e.$set(e.temp,"value",t)},expression:"temp.value"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"上级联动值",prop:"parentValue"}},[i("el-input",{staticStyle:{width:"90%"},model:{value:e.temp.parentValue,callback:function(t){e.$set(e.temp,"parentValue",t)},expression:"temp.parentValue"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"排序号",prop:"sortNo"}},[i("el-input",{staticStyle:{width:"90%"},model:{value:e.temp.sortNo,callback:function(t){e.$set(e.temp,"sortNo",t)},expression:"temp.sortNo"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"是否显示",prop:"isOk"}},[i("el-select",{attrs:{placeholder:"是否显示"},model:{value:e.temp.isOk,callback:function(t){e.$set(e.temp,"isOk",t)},expression:"temp.isOk"}},e._l(e.dicts.yesOrNo,(function(e){return i("el-option",{key:e.value,attrs:{label:e.content,value:e.value}})})),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{staticStyle:{width:"90%"},attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入备注信息"},model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"view"!==e.dialogStatus?i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createCodeInfoData():e.updateCodeInfoData()}}},[e._v("确定")]):e._e()],1)],1)],1)},n=[],a=(i("6b54"),i("333d")),o=i("0fea"),l=i("5c96"),r=i("651a"),c={name:"SysCodeInfo",components:{Pagination:a["default"]},data:function(){return{dicts:[],total:0,selectedRecords:[],recordsCodeInfo:null,totalCodeInfo:0,listCodeInfoLoading:!1,listCodeInfoQuery:{current:1,size:10,codeTypeId:void 0,value:void 0,content:void 0},currCodeTypeId:"",dialogFormVisible:!1,dialogStatus:"",temp:{codeTypeId:this.currCodeTypeId,value:"",content:"",parentValue:"",sortNo:"",isOk:"1",remark:""},rules:{value:[{required:!0,message:"该项不能为空",trigger:"change"}],content:[{required:!0,message:"该项不能为空",trigger:"change"}],isOk:[{required:!0,message:"该项不能为空",trigger:"change"}],sortNo:[{required:!0,message:"该项不能为空",trigger:"change"}]},checkedRow:{}}},beforeCreate:function(){var e=this;this.getDicts("yesOrNo").then((function(t){var i=t.data;e.dicts=i}))},created:function(){var e=this;r["a"].$on("checkedRow",(function(t){e.checkedRow=t,e.listCodeInfoQuery.codeTypeId=t.codeTypeId,e.currCodeTypeId=t.codeTypeId,e.listCodeInfo()}))},methods:{listCodeInfo:function(){var e=this;this.listCodeInfoLoading=!0,Object(o["c"])("/sys/codeInfo/list",this.listCodeInfoQuery).then((function(t){var i=t.data;e.recordsCodeInfo=i.records,e.totalCodeInfo=i.total,e.listCodeInfoLoading=!1}))},btnCodeInfoQuery:function(){this.listCodeInfoQuery.current=1,this.listCodeInfo()},btnCodeInfoReset:function(){this.listCodeInfoQuery={current:1,size:10,codeTypeId:this.currCodeTypeId,value:void 0,content:void 0},this.listCodeInfo()},resetTemp:function(){this.temp={codeTypeId:this.currCodeTypeId,value:"",content:"",parentValue:"",sortNo:"",isOk:"1",remark:""}},btnCodeInfoView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCodeInfoCreate:function(){var e=this;this.checkedRow.codeTypeName?(this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))):l["Message"].error("请先选择代码类别")},createCodeInfoData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["d"])("/sys/codeInfo/save",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.listCodeInfo()}))}))},btnCodeInfoUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateCodeInfoData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["e"])("/sys/codeInfo/update",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.listCodeInfo()}))}))},btnCodeInfoDelete:function(e){var t=this,i=e?[e]:this.selectedRecords.map((function(e){return e.codeInfoId}));0!==i.length?Object(o["a"])("/sys/codeInfo/delete",{ids:i.toString()}).then((function(e){var i=e.msg;l["Message"].success(i),t.listCodeInfo()})):l["Message"].error("请选择要删除的记录")},selectionChange:function(e){this.selectedRecords=e}}},d=c,u=i("2877"),p=Object(u["a"])(d,s,n,!1,null,null,null);t["default"]=p.exports},"5a28":function(e,t,i){},6086:function(e,t,i){},6241:function(e,t,i){"use strict";i("35b1")},6289:function(e,t,i){"use strict";i("82eb5")},"63fe":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:config:save",expression:"'sys:config:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCreate}},[e._v("新增")])],1),e._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"系统参数ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.configId,callback:function(t){e.$set(e.listQuery,"configId",t)},expression:"listQuery.configId"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"系统参数名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.configName,callback:function(t){e.$set(e.listQuery,"configName",t)},expression:"listQuery.configName"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n        "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"系统参数ID",prop:"configId",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.configId))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"系统参数名称",prop:"configName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.configName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"系统参数值",prop:"configValue",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.configValue))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"排序号",prop:"sortNo",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.sortNo))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"备注",prop:"remark",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.remark))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s)}}},[e._v("查看")]),e._v(" "),"1"===s.canUpdate?i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:config:update",expression:"'sys:config:update'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUpdate(s)}}},[e._v("修改")]):e._e(),e._v(" "),"1"===s.canDelete?i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:config:delete",expression:"'sys:config:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.configId)}}},[e._v("删除")]):e._e()],1)],1)]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}})],1),e._v(" "),i("el-dialog",{attrs:{title:"系统参数",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"auto"}},[i("el-form-item",{attrs:{label:"系统参数ID",prop:"configId"}},[i("el-input",{attrs:{readonly:"update"===e.dialogStatus},model:{value:e.temp.configId,callback:function(t){e.$set(e.temp,"configId",t)},expression:"temp.configId"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"系统参数名称",prop:"configName"}},[i("el-input",{model:{value:e.temp.configName,callback:function(t){e.$set(e.temp,"configName",t)},expression:"temp.configName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"系统参数值",prop:"configValue"}},[i("el-input",{model:{value:e.temp.configValue,callback:function(t){e.$set(e.temp,"configValue",t)},expression:"temp.configValue"}})],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"create"===e.dialogStatus,expression:"dialogStatus === 'create'"}],attrs:{label:"可否修改",prop:"canUpdate"}},[i("el-select",{attrs:{placeholder:"可否修改"},model:{value:e.temp.canUpdate,callback:function(t){e.$set(e.temp,"canUpdate",t)},expression:"temp.canUpdate"}},e._l(e.dicts.yesOrNo,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"create"===e.dialogStatus,expression:"dialogStatus === 'create'"}],attrs:{label:"可否删除",prop:"canDelete"}},[i("el-select",{attrs:{placeholder:"可否删除"},model:{value:e.temp.canDelete,callback:function(t){e.$set(e.temp,"canDelete",t)},expression:"temp.canDelete"}},e._l(e.dicts.yesOrNo,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"排序号",prop:"sortNo"}},[i("el-input",{model:{value:e.temp.sortNo,callback:function(t){e.$set(e.temp,"sortNo",t)},expression:"temp.sortNo"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"remark"}},[i("el-input",{model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"view"!==e.dialogStatus?i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("确定")]):e._e()],1)],1)],1)},n=[],a=(i("6b54"),i("333d")),o=i("0fea"),l=i("5c96"),r={name:"SysConfig",components:{Pagination:a["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,configId:void 0,configName:void 0},dialogFormVisible:!1,dialogStatus:"",temp:{configId:void 0,configName:"",configValue:"",sortNo:"",canUpdate:"1",canDelete:"1",remark:""},rules:{configId:[{required:!0,message:"该项不能为空",trigger:"change"}],configName:[{required:!0,message:"该项不能为空",trigger:"change"}],configValue:[{required:!0,message:"该项不能为空",trigger:"change"}],sortNo:[{required:!0,message:"该项不能为空",trigger:"change"}]}}},beforeCreate:function(){var e=this;this.getDicts("yesOrNo").then((function(t){var i=t.data;e.dicts=i}))},created:function(){this.list()},methods:{list:function(){var e=this;Object(o["c"])("/sys/config/list",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,configId:void 0,configName:void 0},this.list()},resetTemp:function(){this.temp={configId:void 0,configName:"",configValue:"",canUpdate:"1",canDelete:"1",sortNo:"",remark:""}},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["d"])("/sys/config/save",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["e"])("/sys/config/update",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnDelete:function(e){var t=this,i=e?[e]:this.selectedRecords.map((function(e){return e.configId}));0!==i.length?Object(o["a"])("/sys/config/delete",{ids:i.toString()}).then((function(e){var i=e.msg;l["Message"].success(i),t.list()})):l["Message"].error("请选择要删除的记录")},selectionChange:function(e){this.selectedRecords=e}}},c=r,d=i("2877"),u=Object(d["a"])(c,s,n,!1,null,null,null);t["default"]=u.exports},"651a":function(e,t,i){"use strict";var s=i("2b0e");t["a"]=new s["default"]},"686d":function(e,t,i){},"692e":function(e,t,i){var s={"./App.vue":"3dfd","./components/Breadcrumb/index.vue":"6350","./components/Hamburger/index.vue":"4f1e","./components/HeadInfo/index.vue":"49d5","./components/Pagination/index.vue":"333d","./components/Screenfull/index.vue":"e886","./components/ShortCut/index.vue":"0fdb","./components/SizeSelect/index.vue":"fe79","./components/SvgIcon/index.vue":"c00a","./components/SwitchRoles/index.vue":"2fde","./components/TreeSelect/index.vue":"3de8","./components/UpdatePassword/index.vue":"c87d","./components/UploadFileVue/index.vue":"d721","./components/UploadFileVue/useModal.vue":"2482","./components/VueBpmn/index.vue":"3631","./components/select/SelectOrg/index.vue":"80a1","./components/select/SelectUser/index.vue":"c4f3","./layout/components/AppMain.vue":"1a4e","./layout/components/Navbar.vue":"850b","./layout/components/Sidebar/Item.vue":"837c","./layout/components/Sidebar/Link.vue":"a6e1","./layout/components/Sidebar/Logo.vue":"c463","./layout/components/Sidebar/SidebarItem.vue":"119c","./layout/components/Sidebar/index.vue":"a04e","./layout/components/TagsView/ScrollPane.vue":"b3d7","./layout/components/TagsView/index.vue":"baad","./layout/index.vue":"c1f7","./views/dashboard/index.vue":"9406","./views/exception/403.vue":"e409","./views/exception/404.vue":"cc89","./views/exception/500.vue":"6c05","./views/exception/ExceptionPage.vue":"0673","./views/flowable/components/ExecuteTask.vue":"f357","./views/flowable/components/ProcessDetail.vue":"3579","./views/flowable/components/ProcessImage.vue":"d35e","./views/flowable/components/StartProcess.vue":"3f4b","./views/flowable/components/TaskBackNodes.vue":"db89","./views/flowable/components/TaskDetail.vue":"9d14","./views/flowable/form/edit.vue":"1f31","./views/flowable/form/index.vue":"8652","./views/flowable/model/edit.vue":"af4a","./views/flowable/model/index.vue":"c208","./views/flowable/myProcess/index.vue":"2b2b","./views/flowable/myProcess/query.vue":"3bdc","./views/flowable/processDefinition/ProcessDefinitionIdentityLink.vue":"4e8e","./views/flowable/processDefinition/index.vue":"a95a","./views/flowable/processInstance/index.vue":"e841","./views/flowable/startMyProcess/index.vue":"7529","./views/flowable/task/index.vue":"4d29","./views/flowable/taskDone/index.vue":"879c","./views/flowable/taskToRead/index.vue":"d3a05","./views/flowable/taskTodo/index.vue":"bf7e","./views/login/index.vue":"9ed6","./views/redirect/index.vue":"ef3c","./views/statement/table/index.vue":"ab01","./views/sys/balanceDetail/index.vue":"7040","./views/sys/balanceMain/index.vue":"bd6a","./views/sys/codeCreate/index.vue":"7281","./views/sys/codeType/index.vue":"4841","./views/sys/codeType/modules/DicInfo.vue":"59b1","./views/sys/codeType/modules/DicType.vue":"b393","./views/sys/config/index.vue":"63fe","./views/sys/func/index.vue":"117c","./views/sys/job/index.vue":"7c19","./views/sys/jobLog/index.vue":"fa85","./views/sys/log/index.vue":"e476","./views/sys/menu/index.vue":"2011","./views/sys/monitor/druid/index.vue":"33d0","./views/sys/monitor/server/index.vue":"e4c8","./views/sys/monitor/swagger/index.vue":"9e66","./views/sys/org/index.vue":"a437","./views/sys/org/modules/OrgDetail.vue":"ef02","./views/sys/org/modules/OrgModal.vue":"7ec5","./views/sys/picUpDown/index.vue":"dca1","./views/sys/post/index.vue":"3e20","./views/sys/role/index.vue":"cdfb","./views/sys/user/index.vue":"c2a2"};function n(e){var t=a(e);return i(t)}function a(e){var t=s[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}n.keys=function(){return Object.keys(s)},n.resolve=a,e.exports=n,n.id="692e"},"69eb":function(e,t,i){},"6c05":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("exception-page",{attrs:{type:"500"}})},n=[],a=i("0673"),o={components:{ExceptionPage:a["default"]}},l=o,r=i("2877"),c=Object(r["a"])(l,s,n,!1,null,"0bd7c1dd",null);t["default"]=c.exports},"6ef1":function(e,t,i){"use strict";i("945d")},7040:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-button-group",[i("el-button",{staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCreate}},[e._v("新增")]),e._v(" "),i("el-button",{staticClass:"filter-item",attrs:{icon:"el-icon-delete"},on:{click:function(t){return e.btnDelete()}}},[e._v("批量删除")])],1),e._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-select",{staticClass:"filter-item",attrs:{placeholder:"账户类型"},model:{value:e.listQuery.balanceType,callback:function(t){e.$set(e.listQuery,"balanceType",t)},expression:"listQuery.balanceType"}},e._l(e.dicts.balanceType,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n        "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"账户余额",prop:"account",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(e.formatMoney(t.row.account)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"账户类型",prop:"balanceType",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{innerHTML:e._s(e.formatDictText(e.dicts.balanceType,t.row.balanceType))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"备注",prop:"remark",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.remark))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-button",{attrs:{icon:"el-icon-edit"},nativeOn:{click:function(t){return e.btnUpdate(s)}}},[e._v("修改")]),e._v(" "),i("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),i("el-button",{attrs:{icon:"el-icon-delete"},nativeOn:{click:function(t){return e.btnDelete(s.balanceDetailId)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}})],1),e._v(" "),i("el-dialog",{attrs:{title:"账户明细",visible:e.dialogFormDetailVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogFormDetailVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,"label-position":"right","label-width":"auto"}},[i("el-form-item",{attrs:{label:"账户类型",prop:"balanceType"}},[i("el-select",{attrs:{filterable:"",placeholder:"账户类型"},model:{value:e.temp.balanceType,callback:function(t){e.$set(e.temp,"balanceType",t)},expression:"temp.balanceType"}},e._l(e.dicts.balanceType,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"账户余额",prop:"account"}},[i("el-input-number",{attrs:{"controls-position":"right",min:0,precision:2,step:1},nativeOn:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;"create"===e.dialogStatus?e.createData():e.updateData()}},model:{value:e.temp.account,callback:function(t){e.$set(e.temp,"account",t)},expression:"temp.account"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"remark"}},[i("el-input",{staticStyle:{width:"60%"},model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormDetailVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("确定")])],1)],1)],1)},n=[],a=(i("6b54"),i("a481"),i("333d")),o=i("0fea"),l=i("5c96"),r={name:"SysBalanceDetail",components:{Pagination:a["default"]},props:{balanceMainId:{required:!0,type:String}},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,balanceType:void 0,balanceMainId:this.balanceMainId},dialogFormDetailVisible:!1,dialogStatus:"",temp:{account:"",balanceType:"",remark:"",balanceMainId:this.balanceMainId},rules:{account:[{required:!0,message:"该项不能为空",trigger:"change"}],balanceType:[{required:!0,message:"该项不能为空",trigger:"change"}]}}},beforeCreate:function(){var e=this;this.getDicts("balanceType").then((function(t){var i=t.data;e.dicts=i}))},created:function(){this.list()},methods:{formatMoney:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"￥",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:".";e=e||0,t=isNaN(t=Math.abs(t))?2:t;var a=e<0?"-":"",o=parseInt(e=Math.abs(+e||0).toFixed(t),10)+"",l=o.length;return l=l>3?l%3:0,i+a+(l?o.substr(0,l)+s:"")+o.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+s)+(t?n+Math.abs(e-o).toFixed(t).slice(2):"")},list:function(){var e=this;Object(o["c"])("/sys/balanceDetail/list",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,balanceType:void 0,balanceMainId:this.balanceMainId},this.list()},resetTemp:function(){this.temp={account:"",balanceType:"",remark:"",balanceMainId:this.balanceMainId}},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormDetailVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["d"])("/sys/balanceDetail/save",e.temp).then((function(t){var i=t.msg;e.dialogFormDetailVisible=!1,l["Message"].success(i),e.list()}))}))},btnUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormDetailVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["e"])("/sys/balanceDetail/update",e.temp).then((function(t){var i=t.msg;e.dialogFormDetailVisible=!1,l["Message"].success(i),e.list()}))}))},btnDelete:function(e){var t=this,i=e?[e]:this.selectedRecords.map((function(e){return e.balanceDetailId}));0!==i.length?this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["a"])("/sys/balanceDetail/delete",{ids:i.toString()}).then((function(e){var i=e.msg;l["Message"].success(i),t.list()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})})):l["Message"].error("请选择要删除的记录")},selectionChange:function(e){this.selectedRecords=e}}},c=r,d=i("2877"),u=Object(d["a"])(c,s,n,!1,null,null,null);t["default"]=u.exports},7281:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:codeCreate:save",expression:"'sys:codeCreate:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCreate}},[e._v("新增")]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:codeCreate:delete",expression:"'sys:codeCreate:delete'"}],staticClass:"filter-item",attrs:{icon:"el-icon-delete"},on:{click:function(t){return e.btnDelete()}}},[e._v("批量删除")])],1),e._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"表名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.codeCreateTablename,callback:function(t){e.$set(e.listQuery,"codeCreateTablename",t)},expression:"listQuery.codeCreateTablename"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"模块名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.codeCreateModule,callback:function(t){e.$set(e.listQuery,"codeCreateModule",t)},expression:"listQuery.codeCreateModule"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"文件名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.codeCreateFilename,callback:function(t){e.$set(e.listQuery,"codeCreateFilename",t)},expression:"listQuery.codeCreateFilename"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n        "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"表名",prop:"codeCreateTablename",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.codeCreateTablename))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"模块名",prop:"codeCreateModule",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.codeCreateModule))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"文件名",prop:"codeCreateFilename",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.codeCreateFilename))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s)}}},[e._v("查看")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:codeCreate:update",expression:"'sys:codeCreate:update'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUpdate(s)}}},[e._v("修改")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:codeCreate:delete",expression:"'sys:codeCreate:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.codeCreateId)}}},[e._v("删除")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:codeCreate:export",expression:"'sys:codeCreate:export'"}],attrs:{icon:"el-icon-download",divided:""},nativeOn:{click:function(t){return e.btnExport(s)}}},[e._v("下载")])],1)],1)]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}})],1),e._v(" "),i("el-dialog",{attrs:{title:"代码在线生成",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"80px"}},[i("el-form-item",{attrs:{label:"表名",prop:"codeCreateTablename"}},[i("el-input",{staticStyle:{width:"95%"},model:{value:e.temp.codeCreateTablename,callback:function(t){e.$set(e.temp,"codeCreateTablename",t)},expression:"temp.codeCreateTablename"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"模块名",prop:"codeCreateModule"}},[i("el-input",{staticStyle:{width:"95%"},model:{value:e.temp.codeCreateModule,callback:function(t){e.$set(e.temp,"codeCreateModule",t)},expression:"temp.codeCreateModule"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"文件名",prop:"codeCreateFilename"}},[i("el-input",{staticStyle:{width:"95%"},model:{value:e.temp.codeCreateFilename,callback:function(t){e.$set(e.temp,"codeCreateFilename",t)},expression:"temp.codeCreateFilename"}}),e._v(" "),i("el-button",{staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnImport}},[e._v("导入")])],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"view"!==e.dialogStatus?i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("确定")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"文件导入",visible:e.dialogImportVisible},on:{"update:visible":function(t){e.dialogImportVisible=t}}},[i("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"","show-file-list":!1,"http-request":e.doImport}},[i("i",{staticClass:"el-icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),i("em",[e._v("点击上传")])]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("请选择需要上传的文件")])])],1)],1)},n=[],a=(i("6b54"),i("333d")),o=i("0fea"),l=i("5c96"),r={name:"SysCodeCreate",components:{Pagination:a["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,codeCreateTablename:void 0,codeCreateModule:void 0,codeCreateFilename:void 0},dialogFormVisible:!1,dialogStatus:"",temp:{codeCreateTablename:"",codeCreateModule:"",codeCreateFilename:""},rules:{codeCreateTablename:[{required:!0,message:"该项不能为空",trigger:"change"}],codeCreateModule:[{required:!0,message:"该项不能为空",trigger:"change"}],codeCreateFilename:[{required:!0,message:"该项不能为空",trigger:"change"}]},dialogImportVisible:!1}},beforeCreate:function(){},created:function(){this.list()},methods:{list:function(){var e=this;Object(o["c"])("/sys/codeCreate/list",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,codeCreateTablename:void 0,codeCreateModule:void 0,codeCreateFilename:void 0},this.list()},resetTemp:function(){this.temp={codeCreateTablename:"",codeCreateModule:"",codeCreateFilename:""}},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["d"])("/sys/codeCreate/save",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["e"])("/sys/codeCreate/update",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnDelete:function(e){var t=this,i=e?[e]:this.selectedRecords.map((function(e){return e.sysCodecreatePk}));0!==i.length?Object(o["a"])("/sys/codeCreate/delete",{ids:i.toString()}).then((function(e){var i=e.msg;l["Message"].success(i),t.list()})):l["Message"].error("请选择要删除的记录")},selectionChange:function(e){this.selectedRecords=e},btnImport:function(){this.dialogImportVisible=!0},doImport:function(e){var t=this,i=new FormData;i.set("file",e.file),Object(o["d"])("/sys/codeCreate/doImport",i).then((function(e){var i=e.msg;t.dialogImportVisible=!1,t.temp.codeCreateFilename=i}))},btnExport:function(e){Object(o["b"])("/sys/codeCreate/doExport","get",{codeCreateFilename:e.codeCreateFilename},e.codeCreateFilename)}}},c=r,d=i("2877"),u=Object(d["a"])(c,s,n,!1,null,null,null);t["default"]=u.exports},7529:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程定义名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processDefinitionName,callback:function(t){e.$set(e.listQuery,"processDefinitionName",t)},expression:"listQuery.processDefinitionName"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n      "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1),e._v(" "),i("el-row",e._l(e.records,(function(t,s){return i("el-col",{key:s,attrs:{span:12}},[i("div",{staticClass:"filter-container",staticStyle:{"margin-right":"3px","margin-bottom":"3px"}},[i("el-card",[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v(e._s(t.name)+"-v"+e._s(t.version))]),e._v(" "),i("div",{staticStyle:{position:"relative","text-align":"right"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.btnImage(t.id)}}},[e._v("流程图")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.btnStartInstance(t)}}},[e._v("发起流程")])],1)]),e._v(" "),i("div",{staticClass:"text item"},[e._v(e._s(t.description?t.description:"无描述"))]),e._v(" "),i("div",{staticClass:"text item"},[e._v(e._s(t.category?t.category:"无命名空间"))])])],1)])})),1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),e._v(" "),i("el-dialog",{attrs:{title:"流程图",fullscreen:"",visible:e.dialogImageVisible,width:"80%"},on:{"update:visible":function(t){e.dialogImageVisible=t}}},[i("img",{attrs:{src:e.imagePath,alt:"流程图"}})]),e._v(" "),e.dialogStartInstanceVisible?i("start-process",{attrs:{visible:e.dialogStartInstanceVisible,"process-definition":e.processDefinition},on:{"update:visible":function(t){e.dialogStartInstanceVisible=t}}}):e._e()],1)},n=[],a=i("333d"),o=i("0fea"),l=i("5c96"),r=i("5f87"),c=i("3f4b"),d={name:"FlowableStartMyProcess",components:{StartProcess:c["default"],Pagination:a["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,processDefinitionId:void 0,processDefinitionName:void 0,processDefinitionKey:void 0,latestVersion:!0,suspended:void 0},dialogFormVisible:!1,dialogImportVisible:!1,dialogImageVisible:!1,imagePath:"",dialogStartInstanceVisible:!1,formJson:void 0,dialogProcessDefinitionIdentityLinkVisible:!1,selectedProcessDefinitionId:"",selectedProcessDefinitionName:"",processDefinition:void 0}},created:function(){this.list()},methods:{list:function(){var e=this;Object(o["c"])("/flowable/processDefinition/listMyself",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total,0===i.total&&l["Message"].info("查无可发起的流程")}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,processDefinitionId:void 0,processDefinitionName:void 0,processDefinitionKey:void 0,latestVersion:!0,suspended:void 0},this.list()},btnImage:function(e){this.imagePath="".concat("/balance")+"/flowable/processDefinition/image?processDefinitionId="+e+"&access_token="+Object(r["a"])()+"&time="+new Date,console.log(this.imagePath),this.dialogImageVisible=!0},btnStartInstance:function(e){this.processDefinition=e,this.dialogStartInstanceVisible=!0}}},u=d,p=i("2877"),m=Object(p["a"])(u,s,n,!1,null,null,null);t["default"]=m.exports},"7c19":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:job:save",expression:"'sys:job:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCreate}},[e._v("新增")]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:job:delete",expression:"'sys:job:delete'"}],staticClass:"filter-item",attrs:{icon:"el-icon-delete"},on:{click:function(t){return e.btnDelete()}}},[e._v("批量删除")])],1),e._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"任务名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.jobName,callback:function(t){e.$set(e.listQuery,"jobName",t)},expression:"listQuery.jobName"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"任务组名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.jobGroup,callback:function(t){e.$set(e.listQuery,"jobGroup",t)},expression:"listQuery.jobGroup"}}),e._v(" "),i("el-select",{staticClass:"filter-item",attrs:{placeholder:"计划执行错误策略"},model:{value:e.listQuery.misfirePolicy,callback:function(t){e.$set(e.listQuery,"misfirePolicy",t)},expression:"listQuery.misfirePolicy"}},e._l(e.dicts.misfirePolicy,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1),e._v(" "),i("el-select",{staticClass:"filter-item",attrs:{placeholder:"是否并发执行"},model:{value:e.listQuery.concurrent,callback:function(t){e.$set(e.listQuery,"concurrent",t)},expression:"listQuery.concurrent"}},e._l(e.dicts.yesOrNo,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1),e._v(" "),i("el-select",{staticClass:"filter-item",attrs:{placeholder:"是否正常状态"},model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},e._l(e.dicts.yesOrNo,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n        "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"任务名称",prop:"jobName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.jobName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"任务组名",prop:"jobGroup",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.jobGroup))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"计划执行错误策略",prop:"misfirePolicy",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{innerHTML:e._s(e.formatDictText(e.dicts.misfirePolicy,t.row.misfirePolicy))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"是否并发执行",prop:"concurrent",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{innerHTML:e._s(e.formatDictText(e.dicts.yesOrNo,t.row.concurrent))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"是否正常状态",prop:"status",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{innerHTML:e._s(e.formatDictText(e.dicts.yesOrNo,t.row.status))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s)}}},[e._v("查看")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:job:update",expression:"'sys:job:update'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUpdate(s)}}},[e._v("修改")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:job:delete",expression:"'sys:job:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.jobId)}}},[e._v("删除")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:job:changeStatus",expression:"'sys:job:changeStatus'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnChangeStatus(s.jobId)}}},[e._v(e._s("0"==s.status?"激活":"挂起"))]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:job:run",expression:"'sys:job:run'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnRun(s.jobId)}}},[e._v("立即执行")])],1)],1)]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}})],1),e._v(" "),i("el-dialog",{attrs:{title:"定时任务",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"auto"}},[i("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[i("el-input",{model:{value:e.temp.jobName,callback:function(t){e.$set(e.temp,"jobName",t)},expression:"temp.jobName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"任务组名",prop:"jobGroup"}},[i("el-input",{model:{value:e.temp.jobGroup,callback:function(t){e.$set(e.temp,"jobGroup",t)},expression:"temp.jobGroup"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"调用目标字符串",prop:"invokeTarget"}},[i("el-input",{model:{value:e.temp.invokeTarget,callback:function(t){e.$set(e.temp,"invokeTarget",t)},expression:"temp.invokeTarget"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"cron执行表达式",prop:"cronExpression"}},[i("el-input",{model:{value:e.temp.cronExpression,callback:function(t){e.$set(e.temp,"cronExpression",t)},expression:"temp.cronExpression"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"计划执行错误策略",prop:"misfirePolicy"}},[i("el-select",{attrs:{placeholder:"计划执行错误策略"},model:{value:e.temp.misfirePolicy,callback:function(t){e.$set(e.temp,"misfirePolicy",t)},expression:"temp.misfirePolicy"}},e._l(e.dicts.misfirePolicy,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"是否并发执行",prop:"concurrent"}},[i("el-select",{attrs:{placeholder:"是否并发执行"},model:{value:e.temp.concurrent,callback:function(t){e.$set(e.temp,"concurrent",t)},expression:"temp.concurrent"}},e._l(e.dicts.yesOrNo,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"remark"}},[i("el-input",{model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"view"!==e.dialogStatus?i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("确定")]):e._e()],1)],1)],1)},n=[],a=(i("6b54"),i("333d")),o=i("0fea"),l=i("5c96"),r={name:"SysJob",components:{Pagination:a["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,jobName:void 0,jobGroup:void 0,misfirePolicy:void 0,concurrent:void 0,status:void 0},dialogFormVisible:!1,dialogStatus:"",temp:{jobId:void 0,jobName:"",jobGroup:"",invokeTarget:"",cronExpression:"",misfirePolicy:"",concurrent:"",status:"",remark:""},rules:{jobId:[{required:!0,message:"该项不能为空",trigger:"change"}],jobName:[{required:!0,message:"该项不能为空",trigger:"change"}],jobGroup:[{required:!0,message:"该项不能为空",trigger:"change"}],invokeTarget:[{required:!0,message:"该项不能为空",trigger:"change"}],cronExpression:[{required:!0,message:"该项不能为空",trigger:"change"}],misfirePolicy:[{required:!0,message:"该项不能为空",trigger:"change"}],concurrent:[{required:!0,message:"该项不能为空",trigger:"change"}]}}},beforeCreate:function(){var e=this;this.getDicts("misfirePolicy,yesOrNo").then((function(t){var i=t.data;e.dicts=i}))},created:function(){this.list()},methods:{list:function(){var e=this;Object(o["c"])("/sys/job/list",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,jobName:void 0,jobGroup:void 0,misfirePolicy:void 0,concurrent:void 0,status:void 0},this.list()},resetTemp:function(){this.temp={jobId:void 0,jobName:"",jobGroup:"",invokeTarget:"",cronExpression:"",misfirePolicy:"",concurrent:"",status:"",remark:""}},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["d"])("/sys/job/save",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["e"])("/sys/job/update",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnDelete:function(e){var t=this,i=e?[e]:this.selectedRecords.map((function(e){return e.jobId}));0!==i.length?Object(o["a"])("/sys/job/delete",{ids:i.toString()}).then((function(e){var i=e.msg;l["Message"].success(i),t.list()})):l["Message"].error("请选择要删除的记录")},selectionChange:function(e){this.selectedRecords=e},btnChangeStatus:function(e){var t=this;Object(o["e"])("/sys/job/changeStatus",{jobId:e}).then((function(e){var i=e.msg;l["Message"].success(i),t.list()}))},btnRun:function(e){var t=this;Object(o["e"])("/sys/job/run",{jobId:e}).then((function(e){var i=e.msg;l["Message"].success(i),t.list()}))}}},c=r,d=i("2877"),u=Object(d["a"])(c,s,n,!1,null,null,null);t["default"]=u.exports},"7ec5":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:"add"===e.handleType?"添加子机构":"编辑当前机构",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,"label-position":"right","label-width":"110px"}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"机构级次码",prop:"orgLevelCode"}},[i("el-input",{model:{value:e.temp.orgLevelCode,callback:function(t){e.$set(e.temp,"orgLevelCode",t)},expression:"temp.orgLevelCode"}})],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构ID",prop:"orgId"}},[i("el-input",{attrs:{disabled:"edit"===e.handleType},model:{value:e.temp.orgId,callback:function(t){e.$set(e.temp,"orgId",t)},expression:"temp.orgId"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"上级机构",prop:"parentOrgId"}},[i("tree-select",{attrs:{options:e.treeData,value:e.temp.parentOrgId,disabled:"1000000000"===e.temp.orgId},on:{getNode:function(t){return e.getNode(t)},getValue:function(t){return e.getValue(t)}}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构名称",prop:"orgName"}},[i("el-input",{model:{value:e.temp.orgName,callback:function(t){e.$set(e.temp,"orgName",t)},expression:"temp.orgName"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构简称",prop:"shortName"}},[i("el-input",{model:{value:e.temp.shortName,callback:function(t){e.$set(e.temp,"shortName",t)},expression:"temp.shortName"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构类型",prop:"orgType"}},[i("el-select",{attrs:{placeholder:"机构类型"},model:{value:e.temp.orgType,callback:function(t){e.$set(e.temp,"orgType",t)},expression:"temp.orgType"}},e._l(e.dicts.orgType,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}})],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入备注信息"},model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1)],1)],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)])],1)},n=[],a=i("0fea"),o=i("5c96"),l=i("3de8"),r={components:{TreeSelect:l["default"]},data:function(){var e=this,t=function(t,i,s){"1000000000"===e.temp.orgId?i?s(new Error("顶层节点不能选择父节点")):s():i?s():s(new Error("该项不能为空"))};return{dialogVisible:!1,handleType:"add",temp:{orgId:void 0,orgName:"",parentOrgId:"",shortName:"",orgType:"1",orgLevel:"",orgLevelCode:"",remark:"",isLeaf:"",parentOrgName:""},dicts:[],rules:{orgId:[{required:!0,message:"该项不能为空",trigger:"change"}],parentOrgId:[{validator:t,trigger:"blur"}],orgName:[{required:!0,message:"该项不能为空",trigger:"change"}],orgType:[{required:!0,message:"该项不能为空",trigger:"change"}]},treeData:[],treeLoading:!1}},methods:{add:function(e,t){var i=this;this.dicts=t,this.temp={},this.temp.parentOrgName=e.label,this.temp.parentOrgId=e.id,this.temp.orgLevel="",this.temp.orgLevelCode="",this.$nextTick((function(){i.$refs["dataForm"].clearValidate()})),this.handleType="add",this.getTreeData()},edit:function(e,t){this.temp=Object.assign({},e.data),this.dicts=t,this.handleType="edit",this.getTreeData()},handleClose:function(){this.dialogVisible=!1,this.$refs.dataForm.resetFields()},getTreeData:function(){var e=this;this.treeLoading=!0,Object(a["c"])("/sys/org/getTreeData",{}).then((function(t){var i=t.data;e.removeCurrentNode(i[0],e.temp.orgId),console.log(i),e.treeData=i,e.treeLoading=!1,e.dialogVisible=!0}))},removeCurrentNode:function(e,t){if(e.children&&e.children.length>0)for(var i=0;i<e.children.length;i++){if(e.children[i].id==t)return void e.children.splice(i,1);this.removeCurrentNode(e.children[i],t)}},getNode:function(e){},getValue:function(e){console.log(e),this.temp.parentOrgId=e},onSubmit:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&("add"===e.handleType?Object(a["d"])("/sys/org/save",e.temp).then((function(t){t.msg,t.data;var i=t.code;200===i?(e.$emit("ok"),o["Message"].success("添加子机构成功！")):o["Message"].error("添加子机构失败！")})).finally((function(){e.handleClose()})):Object(a["e"])("/sys/org/update",e.temp).then((function(t){t.msg,t.data;var i=t.code;200===i?(e.$emit("ok"),o["Message"].success("编辑子机构成功！")):o["Message"].error("编辑子机构失败！")})).finally((function(){e.handleClose()})))}))}}},c=r,d=i("2877"),u=Object(d["a"])(c,s,n,!1,null,"1c5de33c",null);t["default"]=u.exports},"80a1":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"选择机构",visible:e.visibleInChild,"append-to-body":e.appendToBody,"before-close":e.close},on:{"update:visible":function(t){e.visibleInChild=t}}},[i("div",{staticClass:"el-dialog-body-custom-height"},[i("el-input",{staticStyle:{margin:"10px 0px 10px 0px"},attrs:{placeholder:"请输入过滤条件"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),i("el-tree",{ref:"_selectOrgTree",staticClass:"filter-tree",attrs:{data:e.treeData,"node-key":"id",props:e.defaultProps,"filter-node-method":e.filterNode,"check-strictly":"","show-checkbox":e.multipleSelect}})],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.visibleInChild=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:e.confirm}},[e._v("确定")])],1)])},n=[],a=i("0fea"),o=i("5c96"),l={name:"SelectOrg",props:{visible:{type:Boolean,default:!1},multipleSelect:{type:Boolean,default:!1},type:{type:String,default:""},appendToBody:{type:Boolean,default:!1}},data:function(){return{filterText:"",treeData:[],defaultProps:{children:"children",label:"label",isLeaf:"isLeaf",data:"data"}}},computed:{visibleInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},watch:{filterText:function(e){this.$refs._selectOrgTree.filter(e)}},methods:{close:function(){this.visibleInChild=!1},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},getTreeData:function(){var e=this;Object(a["c"])("/sys/org/getSelectTreeData",{type:this.type}).then((function(t){var i=t.data;e.treeData=i}))},confirm:function(){if(this.multipleSelect){var e=this.$refs._selectOrgTree.getCheckedNodes();if(!e||0===e.length)return void o["Message"].error("请先选择机构");this.$emit("selectOrgFinished",e)}else{var t=this.$refs._selectOrgTree.getCurrentNode();if(!t)return void o["Message"].error("请先选择机构");this.$emit("selectOrgFinished",t)}this.visibleInChild=!1}}},r=l,c=i("2877"),d=Object(c["a"])(r,s,n,!1,null,null,null);t["default"]=d.exports},"82eb5":function(e,t,i){},8652:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"表单key"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.formKey,callback:function(t){e.$set(e.listQuery,"formKey",t)},expression:"listQuery.formKey"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"表单名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.formName,callback:function(t){e.$set(e.listQuery,"formName",t)},expression:"listQuery.formName"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n      "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1),e._v(" "),i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:form:save",expression:"'flowable:form:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCreate}},[e._v("新增\n      ")]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:form:delete",expression:"'flowable:form:delete'"}],staticClass:"filter-item",attrs:{icon:"el-icon-delete"},on:{click:function(t){return e.btnDelete()}}},[e._v("批量删除\n      ")])],1)],1),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"表单key",prop:"formKey",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.formKey))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"表单名称",prop:"formName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.formName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s)}}},[e._v("查看")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:form:update",expression:"'flowable:form:update'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUpdate(s)}}},[e._v("修改\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:form:update",expression:"'flowable:form:update'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUpdateFormJson(s)}}},[e._v("修改表单\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:form:delete",expression:"'flowable:form:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.formKey)}}},[e._v("删除\n            ")])],1)],1)]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),e._v(" "),i("el-dialog",{attrs:{title:"流程表单",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"110px"}},[i("el-form-item",{attrs:{label:"表单key",prop:"formKey"}},[i("el-input",{attrs:{readonly:"update"===e.dialogStatus},model:{value:e.temp.formKey,callback:function(t){e.$set(e.temp,"formKey",t)},expression:"temp.formKey"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"表单名称",prop:"formName"}},[i("el-input",{model:{value:e.temp.formName,callback:function(t){e.$set(e.temp,"formName",t)},expression:"temp.formName"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"view"!==e.dialogStatus?i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("确定\n      ")]):e._e()],1)],1)],1)},n=[],a=(i("6b54"),i("333d")),o=i("0fea"),l=i("5c96"),r={name:"FlowableForm",components:{Pagination:a["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,formKey:void 0,formName:void 0},dialogFormVisible:!1,dialogStatus:"",temp:{formKey:void 0,formName:""},rules:{formKey:[{required:!0,message:"该项不能为空",trigger:"change"}],formName:[{required:!0,message:"该项不能为空",trigger:"change"}]}}},created:function(){this.list()},methods:{list:function(){var e=this;Object(o["c"])("/flowable/form/list",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,formKey:void 0,formName:void 0},this.list()},resetTemp:function(){this.temp={formKey:void 0,formName:""}},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["d"])("/flowable/form/save",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnUpdateFormJson:function(e){this.$router.push({path:"/flowableFormEdit",query:{formKey:e.formKey}})},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["e"])("/flowable/form/update",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnDelete:function(e){var t=this,i=e?[e]:this.selectedRecords.map((function(e){return e.formKey}));0!=i.length?Object(o["a"])("/flowable/form/delete",{ids:i.toString()}).then((function(e){var i=e.msg;l["Message"].success(i),t.list()})):l["Message"].error("请选择要删除的记录")},selectionChange:function(e){this.selectedRecords=e}}},c=r,d=i("2877"),u=Object(d["a"])(c,s,n,!1,null,null,null);t["default"]=u.exports},"879c":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-checkbox",{model:{value:e.listQuery.processUnfinished,callback:function(t){e.$set(e.listQuery,"processUnfinished",t)},expression:"listQuery.processUnfinished"}},[e._v("流程未办结")]),e._v(" "),i("el-checkbox",{model:{value:e.listQuery.processFinished,callback:function(t){e.$set(e.listQuery,"processFinished",t)},expression:"listQuery.processFinished"}},[e._v("流程已办结")])],1),e._v(" "),i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程实例ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceId,callback:function(t){e.$set(e.listQuery,"processInstanceId",t)},expression:"listQuery.processInstanceId"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"任务名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.taskName,callback:function(t){e.$set(e.listQuery,"taskName",t)},expression:"listQuery.taskName"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"业务主键Key"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceBusinessKey,callback:function(t){e.$set(e.listQuery,"processInstanceBusinessKey",t)},expression:"listQuery.processInstanceBusinessKey"}}),e._v(" "),i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"创建时间开始",type:"datetime"},model:{value:e.listQuery.taskCreatedAfter,callback:function(t){e.$set(e.listQuery,"taskCreatedAfter",t)},expression:"listQuery.taskCreatedAfter"}}),e._v(" "),i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"创建时间结束",type:"datetime"},model:{value:e.listQuery.taskCreatedBefore,callback:function(t){e.$set(e.listQuery,"taskCreatedBefore",t)},expression:"listQuery.taskCreatedBefore"}}),e._v(" "),i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"完成时间开始",type:"datetime"},model:{value:e.listQuery.taskCompletedAfter,callback:function(t){e.$set(e.listQuery,"taskCompletedAfter",t)},expression:"listQuery.taskCompletedAfter"}}),e._v(" "),i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"完成时间结束",type:"datetime"},model:{value:e.listQuery.taskCompletedBefore,callback:function(t){e.$set(e.listQuery,"taskCompletedBefore",t)},expression:"listQuery.taskCompletedBefore"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n      "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1),e._v(" "),i("el-table",{staticStyle:{width:"99%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}}},[i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"流程实例名称",prop:"processInstanceName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.processInstanceName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"任务名称",prop:"name",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"开始时间",prop:"createTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.createTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"完成时间",prop:"endTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.endTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"工作耗时",prop:"workTimeInMillis",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.workTimeInMillis))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"总耗时",prop:"durationInMillis",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.durationInMillis))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"所有人",prop:"owner",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.owner))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"执行人",prop:"assignee",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.assignee))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s.processInstanceId)}}},[e._v("查看详情\n            ")])],1)],1)]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),e._v(" "),e.dialogViewVisible?i("process-detail",{attrs:{visible:e.dialogViewVisible,"process-instance-id":e.processInstanceId},on:{"update:visible":function(t){e.dialogViewVisible=t}}}):e._e()],1)},n=[],a=i("333d"),o=i("0fea"),l=i("3579"),r={name:"FlowableTaskDone",components:{ProcessDetail:l["default"],Pagination:a["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,processInstanceId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskCreatedAfter:void 0,taskCreatedBefore:void 0,taskCompletedAfter:void 0,taskCompletedBefore:void 0,processUnfinished:!1,processFinished:!1},formJson:void 0,processInstanceId:"",dialogViewVisible:!1}},created:function(){this.list()},methods:{list:function(){var e=this;Object(o["c"])("/flowable/task/listDone",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,processInstanceId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskCreatedAfter:void 0,taskCreatedBefore:void 0,taskCompletedAfter:void 0,taskCompletedBefore:void 0,processUnfinished:!1,processFinished:!1},this.list()},btnView:function(e){this.processInstanceId=e,this.dialogViewVisible=!0}}},c=r,d=i("2877"),u=Object(d["a"])(c,s,n,!1,null,null,null);t["default"]=u.exports},"8c7d":function(e,t,i){"use strict";i("9de8")},"938e":function(e,t,i){"use strict";i("3c66")},9406:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home-page"},[i("el-row",{staticClass:"head-info",attrs:{gutter:8}},[i("el-col",{attrs:{span:12}},[i("el-card",{staticClass:"head-info-card box-card",attrs:{shadow:"hover"}},[i("el-row",{attrs:{span:12}},[i("div",{staticClass:"head-info-avatar"},[e.avatar?i("img",{attrs:{alt:"头像",src:e.avatar}}):i("img",{attrs:{alt:"头像",src:e.defaultAvatar}})]),e._v(" "),i("div",{staticClass:"head-info-count"},[i("div",{staticClass:"head-info-welcome"},[e._v("\n              "+e._s(e.welcomeMessage)+"\n            ")]),e._v(" "),i("div",{staticClass:"head-info-desc"},[i("p",[e._v("\n                "+e._s(e.sysOrg?e.sysOrg.orgName:"暂无部门")+" |\n                "+e._s(e.sysRole?e.sysRole.roleName:"暂无角色")+"\n              ")])])])]),e._v(" "),i("el-divider"),e._v(" "),i("el-row",{attrs:{span:12}},[i("div",[i("el-row",[i("el-col",{attrs:{span:8}},[i("head-info",{attrs:{title:"今日IP",content:e.todayIp}})],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("head-info",{attrs:{title:"今日访问",content:e.todayVisitCount}})],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("head-info",{attrs:{title:"总访问量",content:e.totalVisitCount}})],1)],1)],1)])],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-card",{staticClass:"head-info-card box-card",attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("快捷方式")])]),e._v(" "),i("span",e._l(e.menuList,(function(t,s){return i("div",{key:s,staticStyle:{float:"left"}},[i("router-link",{class:["pan-btn",e.colorList[s%7]],attrs:{to:t.path}},[i("svg-icon",{attrs:{"icon-class":t.icon}}),e._v("\n              "+e._s(t.name)+"\n            ")],1)],1)})),0)])],1)],1),e._v(" "),i("el-row",{staticClass:"count-info",attrs:{gutter:8}},[i("el-col",{staticClass:"visit-count-wrapper",attrs:{span:24}},[i("el-card",{staticClass:"visit-count box-card",attrs:{shadow:"hover"}},[i("div",{staticStyle:{height:"400px"},attrs:{id:"dashboard_chart"}})])],1)],1)],1)},n=[],a=i("2d63"),o=(i("7f7f"),i("db72")),l=i("2f62"),r=i("49d5"),c=i("0fea"),d={name:"Dashboard",components:{HeadInfo:r["default"]},data:function(){return{todayIp:0,todayVisitCount:0,totalVisitCount:0,menuList:[],colorList:["blue-btn","red-btn","light-blue-btn","pink-btn","green-btn","tiffany-btn","yellow-btn"],welcomeMessage:""}},computed:Object(o["a"])({},Object(l["b"])(["avatar","defaultAvatar","name","sysUser","sysRole","sysOrg"])),mounted:function(){this.welcomeMessage=this.welcome(),this.getChart()},methods:{welcome:function(){var e=new Date,t=e.getHours(),i=t<6?"早上好":t<=11?"上午好":t<=13?"中午好":t<=18?"下午好":"晚上好",s=["喝杯咖啡休息下吧☕","要不要和朋友打局LOL","几天没见又更好看了呢😍","今天又写了几个Bug🐞呢","今天在群里吹水了吗","今天吃了什么好吃的呢","今天您微笑了吗😊","今天帮助别人解决问题了吗","准备吃些什么呢","周末要不要去看电影？"],n=Math.floor(Math.random()*s.length);return"".concat(i,"，").concat(this.name,"，").concat(s[n])},getChart:function(){var e=this;Object(c["d"])("/sys/user/index",this.sysUser).then((function(t){var i=t.data;e.todayIp=i.todayIp,e.todayVisitCount=i.todayVisitCount,e.totalVisitCount=i.totalVisitCount,e.menuList=i.menuList;for(var s=[],n=[],o=6;o>=0;o--){var l,r=e.$moment().subtract(o,"days").format("MM-DD"),c=!1,d=Object(a["a"])(i.lastSevenVisitCount);try{for(d.s();!(l=d.n()).done;){var u=l.value;u.days===r&&(c=!0,s.push(u.count))}}catch(_){d.e(_)}finally{d.f()}c||s.push(0),n.push(r)}for(var p=[],m=6;m>=0;m--){var f,v=e.$moment().subtract(m,"days").format("MM-DD"),b=!1,y=Object(a["a"])(i.lastSevenUserVisitCount);try{for(y.s();!(f=y.n()).done;){var h=f.value;h.days===v&&(b=!0,p.push(h.count))}}catch(_){y.e(_)}finally{y.f()}b||p.push(0)}var g=e.$echarts.init(document.getElementById("dashboard_chart"));g.setOption({title:{text:"近七日系统访问记录",left:"left"},xAxis:{data:n},yAxis:{minInterval:1},legend:{data:["您","总数"]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},series:[{name:"您",type:"bar",barWidth:"30%",barGap:"10%",data:p},{name:"总数",type:"bar",barWidth:"30%",barGap:"10%",data:s}]})})).catch((function(t){console.error(t),e.$message.error("获取首页信息失败")}))}}},u=d,p=(i("a475"),i("2877")),m=Object(p["a"])(u,s,n,!1,null,"2eeede60",null);t["default"]=m.exports},"945d":function(e,t,i){},"9d14":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"任务信息",visible:e.dialogTaskDetailVisibleInChild,width:"75%"},on:{"update:visible":function(t){e.dialogTaskDetailVisibleInChild=t}}},[i("el-form",{ref:"dataForm",attrs:{model:e.taskDetailData,disabled:"","label-position":"right","label-width":"110px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"任务ID",prop:"id"}},[i("el-input",{model:{value:e.taskDetailData.id,callback:function(t){e.$set(e.taskDetailData,"id",t)},expression:"taskDetailData.id"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"任务名称",prop:"name"}},[i("el-input",{model:{value:e.taskDetailData.name,callback:function(t){e.$set(e.taskDetailData,"name",t)},expression:"taskDetailData.name"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"任务分类",prop:"category"}},[i("el-input",{model:{value:e.taskDetailData.category,callback:function(t){e.$set(e.taskDetailData,"category",t)},expression:"taskDetailData.category"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"任务描述",prop:"description"}},[i("el-input",{model:{value:e.taskDetailData.description,callback:function(t){e.$set(e.taskDetailData,"description",t)},expression:"taskDetailData.description"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"所有人",prop:"owner"}},[i("el-input",{model:{value:e.taskDetailData.owner,callback:function(t){e.$set(e.taskDetailData,"owner",t)},expression:"taskDetailData.owner"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"所有人姓名",prop:"ownerName"}},[i("el-input",{model:{value:e.taskDetailData.ownerName,callback:function(t){e.$set(e.taskDetailData,"ownerName",t)},expression:"taskDetailData.ownerName"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"认领时间",prop:"claimTime"}},[i("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.taskDetailData.claimTime,callback:function(t){e.$set(e.taskDetailData,"claimTime",t)},expression:"taskDetailData.claimTime"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"执行人",prop:"assignee"}},[i("el-input",{model:{value:e.taskDetailData.assignee,callback:function(t){e.$set(e.taskDetailData,"assignee",t)},expression:"taskDetailData.assignee"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"执行人姓名",prop:"assigneeName"}},[i("el-input",{model:{value:e.taskDetailData.assigneeName,callback:function(t){e.$set(e.taskDetailData,"assigneeName",t)},expression:"taskDetailData.assigneeName"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"到期日",prop:"dueDate"}},[i("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.taskDetailData.dueDate,callback:function(t){e.$set(e.taskDetailData,"dueDate",t)},expression:"taskDetailData.dueDate"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[i("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.taskDetailData.endTime,callback:function(t){e.$set(e.taskDetailData,"endTime",t)},expression:"taskDetailData.endTime"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"状态",prop:"suspended"}},[null==e.taskDetailData.endTime?i("el-input",{model:{value:e.taskDetailData.suspended?"挂起":"激活",callback:function(t){e.$set(e.taskDetailData,"suspended?'挂起':'激活'",t)},expression:"taskDetailData.suspended?'挂起':'激活'"}}):i("el-input",{attrs:{value:"已完成"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"持续时间",prop:"durationInMillis"}},[i("el-input",{model:{value:e.taskDetailData.durationInMillis,callback:function(t){e.$set(e.taskDetailData,"durationInMillis",t)},expression:"taskDetailData.durationInMillis"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"工作时间",prop:"workTimeInMillis"}},[i("el-input",{model:{value:e.taskDetailData.workTimeInMillis,callback:function(t){e.$set(e.taskDetailData,"workTimeInMillis",t)},expression:"taskDetailData.workTimeInMillis"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"优先级",prop:"priority"}},[i("el-input",{model:{value:e.taskDetailData.priority,callback:function(t){e.$set(e.taskDetailData,"priority",t)},expression:"taskDetailData.priority"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"任务定义KEY",prop:"taskDefinitionKey"}},[i("el-input",{model:{value:e.taskDetailData.taskDefinitionKey,callback:function(t){e.$set(e.taskDetailData,"taskDefinitionKey",t)},expression:"taskDetailData.taskDefinitionKey"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"流程实例ID",prop:"processInstanceId"}},[i("el-input",{model:{value:e.taskDetailData.processInstanceId,callback:function(t){e.$set(e.taskDetailData,"processInstanceId",t)},expression:"taskDetailData.processInstanceId"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"流程实例名称",prop:"processInstanceName"}},[i("el-input",{model:{value:e.taskDetailData.processInstanceName,callback:function(t){e.$set(e.taskDetailData,"processInstanceName",t)},expression:"taskDetailData.processInstanceName"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"流程定义ID",prop:"processDefinitionId"}},[i("el-input",{model:{value:e.taskDetailData.processDefinitionId,callback:function(t){e.$set(e.taskDetailData,"processDefinitionId",t)},expression:"taskDetailData.processDefinitionId"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"流程定义名称",prop:"processDefinitionName"}},[i("el-input",{model:{value:e.taskDetailData.processDefinitionName,callback:function(t){e.$set(e.taskDetailData,"processDefinitionName",t)},expression:"taskDetailData.processDefinitionName"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"流程定义描述",prop:"processDefinitionDescription"}},[i("el-input",{model:{value:e.taskDetailData.processDefinitionDescription,callback:function(t){e.$set(e.taskDetailData,"processDefinitionDescription",t)},expression:"taskDetailData.processDefinitionDescription"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"流程定义KEY",prop:"processDefinitionKey"}},[i("el-input",{model:{value:e.taskDetailData.processDefinitionKey,callback:function(t){e.$set(e.taskDetailData,"processDefinitionKey",t)},expression:"taskDetailData.processDefinitionKey"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"流程定义分类",prop:"processDefinitionCategory"}},[i("el-input",{model:{value:e.taskDetailData.processDefinitionCategory,callback:function(t){e.$set(e.taskDetailData,"processDefinitionCategory",t)},expression:"taskDetailData.processDefinitionCategory"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"流程定义版本",prop:"processDefinitionVersion"}},[i("el-input",{model:{value:e.taskDetailData.processDefinitionVersion,callback:function(t){e.$set(e.taskDetailData,"processDefinitionVersion",t)},expression:"taskDetailData.processDefinitionVersion"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"流程定义发布ID",prop:"processDefinitionDeploymentId"}},[i("el-input",{model:{value:e.taskDetailData.processDefinitionDeploymentId,callback:function(t){e.$set(e.taskDetailData,"processDefinitionDeploymentId",t)},expression:"taskDetailData.processDefinitionDeploymentId"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"表单KEY",prop:"formKey"}},[i("el-input",{model:{value:e.taskDetailData.formKey,callback:function(t){e.$set(e.taskDetailData,"formKey",t)},expression:"taskDetailData.formKey"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"流程启动人",prop:"processInstanceStartUserId"}},[i("el-input",{model:{value:e.taskDetailData.processInstanceStartUserId,callback:function(t){e.$set(e.taskDetailData,"processInstanceStartUserId",t)},expression:"taskDetailData.processInstanceStartUserId"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"发起人完成任务",prop:"initiatorCanCompleteTask"}},[i("el-select",{attrs:{placeholder:"发起人完成任务"},model:{value:e.taskDetailData.initiatorCanCompleteTask,callback:function(t){e.$set(e.taskDetailData,"initiatorCanCompleteTask",t)},expression:"taskDetailData.initiatorCanCompleteTask"}},e._l(e.dicts.trueOrFalse,(function(e){return i("el-option",{key:e.value,attrs:{label:e.content,value:e.value}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"候选组",prop:"memberOfCandidateGroup"}},[i("el-select",{attrs:{placeholder:"候选组"},model:{value:e.taskDetailData.memberOfCandidateGroup,callback:function(t){e.$set(e.taskDetailData,"memberOfCandidateGroup",t)},expression:"taskDetailData.memberOfCandidateGroup"}},e._l(e.dicts.trueOrFalse,(function(e){return i("el-option",{key:e.value,attrs:{label:e.content,value:e.value}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"候选成员",prop:"memberOfCandidateUsers"}},[i("el-select",{attrs:{placeholder:"候选成员"},model:{value:e.taskDetailData.memberOfCandidateUsers,callback:function(t){e.$set(e.taskDetailData,"memberOfCandidateUsers",t)},expression:"taskDetailData.memberOfCandidateUsers"}},e._l(e.dicts.trueOrFalse,(function(e){return i("el-option",{key:e.value,attrs:{label:e.content,value:e.value}})})),1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"委派状态",prop:"delegationState"}},[i("el-input",{model:{value:e.taskDetailData.delegationState,callback:function(t){e.$set(e.taskDetailData,"delegationState",t)},expression:"taskDetailData.delegationState"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:8}}),e._v(" "),i("el-col",{attrs:{span:8}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogTaskDetailVisibleInChild=!1}}},[e._v("取消")])],1)],1)},n=[],a=(i("0fea"),{name:"TaskDetail",props:{visible:{type:Boolean,default:function(){return!1}},dicts:{type:Object,default:function(){return{}}},taskDetailData:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{dialogTaskDetailVisibleInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}}}),o=a,l=i("2877"),r=Object(l["a"])(o,s,n,!1,null,null,null);t["default"]=r.exports},"9de8":function(e,t,i){},"9e66":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[i("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])},n=[],a={name:"MonitorSwagger",data:function(){return{src:"/balance/doc.html",height:document.documentElement.clientHeight+"px;",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight+"px;"}}},o=a,l=i("2877"),r=Object(l["a"])(o,s,n,!1,null,null,null);t["default"]=r.exports},"9ed6":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login-container"},[i("vue-particles",{attrs:{color:"#409EFF","particle-opacity":.7,"particles-number":80,"shape-type":"circle","particle-size":4,"lines-color":"#409EFF","lines-width":1,"line-linked":!0,"line-opacity":.4,"lines-distance":150,"move-speed":3,"hover-effect":!0,"hover-mode":"grab","click-effect":!0,"click-mode":"push"}}),e._v(" "),i("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{size:"medium",model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[i("div",{staticClass:"login-border"},[i("div",{staticClass:"title-container"},[i("h3",{staticClass:"title"},[e._v("系统登录")])]),e._v(" "),i("el-form-item",{attrs:{prop:"userId"}},[i("span",{staticClass:"svg-container"},[i("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),i("el-input",{ref:"userId",attrs:{size:"medium",placeholder:"用户名",name:"userId",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.userId,callback:function(t){e.$set(e.loginForm,"userId",t)},expression:"loginForm.userId"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"password"}},[i("span",{staticClass:"svg-container"},[i("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),i("el-input",{ref:"password",attrs:{size:"medium",type:"password",placeholder:"密码",name:"password",tabindex:"2","auto-complete":"on","show-password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),e.useCaptcha?i("el-form-item",[i("span",{staticClass:"svg-container"},[i("svg-icon",{attrs:{"icon-class":"code"}})],1),e._v(" "),i("el-input",{staticStyle:{width:"200px"},attrs:{size:"medium",placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.captcha,callback:function(t){e.$set(e.loginForm,"captcha",t)},expression:"loginForm.captcha"}}),e._v(" "),i("span",{staticClass:"show-captcha"},[i("img",{attrs:{src:e.captchaPath,alt:"点击刷新图片"},on:{click:e.getCaptcha}})])],1):e._e(),e._v(" "),i("el-row",{staticStyle:{width:"100%"}},[i("el-col",{attrs:{span:12}},[i("el-button",{staticStyle:{width:"60%","margin-left":"20%"},attrs:{size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.reset(t)}}},[e._v("重 置\n          ")])],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-button",{staticStyle:{width:"60%","margin-left":"20%"},attrs:{size:"medium",loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录\n          ")])],1)],1)],1)])],1)},n=[],a=i("db72"),o=i("ed08"),l=i("0fea"),r={name:"Login",data:function(){var e=function(e,t,i){0===t.length?i(new Error("请输入用户名")):i()},t=function(e,t,i){0===t.length?i(new Error("请输入密码")):i()};return{captchaPath:"",useCaptcha:!1,loginForm:{userId:"",password:"",uuid:"",captcha:""},loginRules:{userId:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},loading:!1,redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){var e=this;Object(l["c"])("/sys/useCaptcha").then((function(t){var i=t.msg;console.log(i),"0"===i&&(e.useCaptcha=!0,e.getCaptcha())}))},methods:{handleLogin:function(){var e=this,t=Object(a["a"])(Object(a["a"])({},this.loginForm),{},{userId:this.loginForm.userId.trim(),password:Object(o["b"])(this.loginForm.password.trim())});this.$refs.loginForm.validate((function(i){if(!i)return!1;e.loading=!0,e.$store.dispatch("user/login",t).then((function(){e.$store.dispatch("tagsView/delAllViews").then((function(){e.$router.push({path:e.redirect||"/"}),e.loading=!1}))})).catch((function(){e.loading=!1}))}))},reset:function(){this.$refs.loginForm.resetFields()},getCaptcha:function(){this.loginForm.uuid=Object(o["a"])(),this.captchaPath="".concat("/balance","/sys/captcha.jpg?uuid=").concat(this.loginForm.uuid)}}},c=r,d=(i("2017"),i("6ef1"),i("2877")),u=Object(d["a"])(c,s,n,!1,null,"1984f1e6",null);t["default"]=u.exports},a36b:function(e,t,i){e.exports=i.p+"static/img/404.a57b6f31.png"},a437:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:6}},[i("el-card",[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("机构树")])]),e._v(" "),i("el-input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"请输入过滤条件","prefix-icon":"el-icon-search"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"orgTree",staticClass:"filter-tree",attrs:{data:e.treeData,"highlight-current":"","node-key":"id",props:e.defaultProps,"default-expand-all":"","filter-node-method":e.filterNode,"expand-on-click-node":!1},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.node,n=t.data;return i("span",{staticClass:"custom-tree-node"},[i("span",[e._v(e._s(s.label))]),e._v(" "),i("span",[i("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[i("i",{staticClass:"el-icon-delete deleteIcon",on:{click:function(t){return e.deleteNode(n.id)}}})]),e._v(" "),i("el-tooltip",{attrs:{effect:"dark",content:"新增",placement:"top"}},[i("i",{staticClass:"el-icon-plus addIcon",on:{click:function(t){return e.addNode(n)}}})]),e._v(" "),i("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top"}},[i("i",{staticClass:"el-icon-edit editIcon",on:{click:function(t){return e.editNode(n)}}})])],1)])}}])})],1)],1),e._v(" "),i("el-col",{attrs:{span:18}},[i("el-card",[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("机构图谱")])]),e._v(" "),i("div",e._l(e.treeData,(function(t){return i("el-row",{key:t.id},[i("el-col",[i("el-scrollbar",{staticStyle:{width:"100%"}},[i("vue2-org-tree",{attrs:{name:"vueOrgTree",data:t,horizontal:e.horizontal,collapsable:e.collapsable,"label-class-name":e.labelClassName,"render-content":e.renderContent},on:{"on-expand":e.onExpands,"on-node-click":e.onNodeClick}})],1)],1)],1)})),1)])],1)],1),e._v(" "),i("org-modal",{ref:"orgModal",on:{ok:e.refreshTree}}),e._v(" "),i("org-detail",{ref:"orgDetail"})],1)},n=[],a=(i("ac6a"),i("0fea")),o=i("5c96"),l=i("7ec5"),r=i("ef02"),c={name:"BaseOrg",components:{OrgModal:l["default"],OrgDetail:r["default"]},data:function(){return{dicts:[],filterText:"",treeData:[],defaultProps:{children:"children",label:"label",isLeaf:"isLeaf",data:"data"},loading:!1,horizontal:!1,collapsable:!0,expandAll:!0,labelClassName:"bg-white",orgLoading:!1}},watch:{filterText:function(e){this.$refs.orgTree.filter(e)}},created:function(){var e=this;this.getTreeData(),this.getDicts("orgLevel,orgType,yesOrNo").then((function(t){var i=t.data;console.log(i),e.dicts=i}))},methods:{getTreeData:function(){var e=this;this.loading=!0,Object(a["c"])("/sys/org/getTreeData",{}).then((function(t){var i=t.data;e.treeData=i,e.show(i),e.loading=!1}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},addNode:function(e){this.$refs.orgModal.add(e,this.dicts)},editNode:function(e){this.$refs.orgModal.edit(e,this.dicts)},deleteNode:function(e){var t=this;this.$confirm("此操作将永久删除该机构节点, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(a["a"])("/sys/org/delete",{ids:e}).then((function(e){var i=e.msg,s=e.code;200===s?(o["Message"].success("删除机构节点成功"),t.getTreeData()):o["Message"].error("删除机构节点失败:"+i)}))}))},refreshTree:function(){this.getTreeData()},show:function(e){console.log(e),this.toggleExpand(e,this.expandAll)},renderContent:function(e,t){var i=this,s=this.dicts;return console.log(s),e("el-dropdown",{attrs:{trigger:"click"}},[e("span",{class:"el-dropdown-link"},[t.label]),e("el-dropdown-menu",{slot:"dropdown"},[e("el-dropdown-item",{nativeOn:{click:function(){i.$refs.orgDetail.show(t.data)}}},[e("i",{class:"el-icon-tickets"}),"详情"]),e("el-dropdown-item",{attrs:{divided:!0},nativeOn:{click:function(){i.$refs.orgModal.add(t,s)}}},[e("i",{class:"el-icon-plus"}),"添加子节点"]),e("el-dropdown-item",{attrs:{divided:!0},nativeOn:{click:function(){i.$refs.orgModal.edit(t,s)}}},[e("i",{class:"el-icon-edit"}),"编辑子节点"]),e("el-dropdown-item",{attrs:{divided:!0},nativeOn:{click:function(){i.deleteNode(t.id)}}},[e("i",{class:"el-icon-delete"}),"删除子节点"])])])},onExpands:function(e,t){"expand"in t?(t.expand=!t.expand,!t.expand&&t.children&&this.collapse(t.children)):this.$set(t,"expand",!0)},onNodeClick:function(e,t){console.log(t)},collapse:function(e){var t=this;e.forEach((function(e){e.expand&&(e.expand=!1),e.children&&t.collapse(e.children)}))},toggleExpand:function(e,t){var i=this;Array.isArray(e)?e.forEach((function(e){i.$set(e,"expand",t),e.children&&i.toggleExpand(e.children,t)})):(this.$set(e,"expand",t),e.children&&i.toggleExpand(e.children,t))}}},d=c,u=(i("6289"),i("2877")),p=Object(u["a"])(d,s,n,!1,null,null,null);t["default"]=p.exports},a475:function(e,t,i){"use strict";i("6086")},a95a:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-checkbox",{model:{value:e.listQuery.latestVersion,callback:function(t){e.$set(e.listQuery,"latestVersion",t)},expression:"listQuery.latestVersion"}},[e._v("最新版本")]),e._v(" "),i("el-checkbox",{model:{value:e.listQuery.suspended,callback:function(t){e.$set(e.listQuery,"suspended",t)},expression:"listQuery.suspended"}},[e._v("挂起的")]),e._v(" "),i("el-checkbox",{model:{value:e.listQuery.active,callback:function(t){e.$set(e.listQuery,"active",t)},expression:"listQuery.active"}},[e._v("激活的")])],1),e._v(" "),i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程定义ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processDefinitionId,callback:function(t){e.$set(e.listQuery,"processDefinitionId",t)},expression:"listQuery.processDefinitionId"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程定义名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processDefinitionName,callback:function(t){e.$set(e.listQuery,"processDefinitionName",t)},expression:"listQuery.processDefinitionName"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程定义KEY"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processDefinitionKey,callback:function(t){e.$set(e.listQuery,"processDefinitionKey",t)},expression:"listQuery.processDefinitionKey"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n      "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1),e._v(" "),i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinition:import",expression:"'flowable:processDefinition:import'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnImport}},[e._v("导入")])],1)],1),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"流程定义名称",prop:"name",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"流程定义KEY",prop:"key",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.key))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"流程定义分类",prop:"category",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{innerHTML:e._s(e.formatDictText(e.dicts.processCategory,t.row.category))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"版本",prop:"version",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.version))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"状态",prop:"suspended",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.suspended?"挂起":"激活"))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"表单key",prop:"formKey",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.formKey))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s)}}},[e._v("查看\n            ")]),e._v(" "),i("el-dropdown-item",{attrs:{icon:"el-icon-view",divided:""},nativeOn:{click:function(t){return e.btnImage(s.id)}}},[e._v("流程图\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinitionIdentityLink:list",expression:"'flowable:processDefinitionIdentityLink:list'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnProcessDefinitionIdentityLink(s)}}},[e._v("流程授权\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinition:xml",expression:"'flowable:processDefinition:xml'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnExport(s)}}},[e._v("导出\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinition:suspendOrActivate",expression:"'flowable:processDefinition:suspendOrActivate'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnSuspendOrActivate(s.id,s.suspended)}}},[e._v(e._s(s.suspended?"激活":"挂起")+"\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinition:delete",expression:"'flowable:processDefinition:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.id)}}},[e._v("删除\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinition:delete",expression:"'flowable:processDefinition:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.id,!0)}}},[e._v("删除包含实例\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processInstance:list",expression:"'flowable:processInstance:list'"}],attrs:{icon:"el-icon-view",divided:""},nativeOn:{click:function(t){return e.btnViewProcessInstanceList(s)}}},[e._v("实例列表\n            ")])],1)],1)]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),e._v(" "),i("el-dialog",{attrs:{title:"流程定义",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{model:e.temp,disabled:"","label-position":"right","label-width":"110px"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"流程定义ID",prop:"id"}},[i("el-input",{model:{value:e.temp.id,callback:function(t){e.$set(e.temp,"id",t)},expression:"temp.id"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"流程定义名称",prop:"name"}},[i("el-input",{model:{value:e.temp.name,callback:function(t){e.$set(e.temp,"name",t)},expression:"temp.name"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"流程定义KEY",prop:"key"}},[i("el-input",{model:{value:e.temp.key,callback:function(t){e.$set(e.temp,"key",t)},expression:"temp.key"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"流程定义分类",prop:"category"}},[i("el-input",{model:{value:e.temp.category,callback:function(t){e.$set(e.temp,"category",t)},expression:"temp.category"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"流程定义描述",prop:"description"}},[i("el-input",{model:{value:e.temp.description,callback:function(t){e.$set(e.temp,"description",t)},expression:"temp.description"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"版本",prop:"version"}},[i("el-input",{model:{value:e.temp.version,callback:function(t){e.$set(e.temp,"version",t)},expression:"temp.version"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"状态",prop:"suspended"}},[i("el-input",{model:{value:e.suspended,callback:function(t){e.suspended=t},expression:"suspended"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"表单key",prop:"formKey"}},[i("el-input",{model:{value:e.temp.formKey,callback:function(t){e.$set(e.temp,"formKey",t)},expression:"temp.formKey"}})],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"流程定义导入",visible:e.dialogImportVisible},on:{"update:visible":function(t){e.dialogImportVisible=t}}},[i("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"","show-file-list":!1,"before-upload":e.beforeUpload,"http-request":e.doImport}},[i("i",{staticClass:"el-icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),i("em",[e._v("点击上传")])]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传.bpmn20.xml,.bpmn,.bar,.zip文件，且不超过512K")])])],1),e._v(" "),e.dialogProcessImageVisible?i("process-image",{attrs:{visible:e.dialogProcessImageVisible,"process-definition-id":e.selectedProcessDefinitionId},on:{"update:visible":function(t){e.dialogProcessImageVisible=t}}}):e._e(),e._v(" "),e.dialogProcessDefinitionIdentityLinkVisible?i("process-definition-identity-link",{attrs:{visible:e.dialogProcessDefinitionIdentityLinkVisible,"process-definition-id":e.selectedProcessDefinitionId,"process-definition-name":e.selectedProcessDefinitionName},on:{"update:visible":function(t){e.dialogProcessDefinitionIdentityLinkVisible=t}}}):e._e()],1)},n=[],a=(i("aef6"),i("7f7f"),i("6b54"),i("333d")),o=i("0fea"),l=i("5c96"),r=(i("5f87"),i("d35e")),c=i("4e8e"),d={name:"FlowableProcessDefinition",components:{ProcessImage:r["default"],ProcessDefinitionIdentityLink:c["default"],Pagination:a["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,processDefinitionId:void 0,processDefinitionName:void 0,processDefinitionKey:void 0,latestVersion:!0,suspended:!1,active:!1},dialogFormVisible:!1,dialogImportVisible:!1,dialogProcessImageVisible:!1,imagePath:"",formJson:void 0,temp:{id:void 0,name:"",key:"",category:"",description:"",version:"",latestVersion:"",suspended:"",formKey:"",tenantId:""},dialogProcessDefinitionIdentityLinkVisible:!1,selectedProcessDefinitionId:"",suspended:"",selectedProcessDefinitionName:""}},beforeCreate:function(){var e=this;this.getDicts("processCategory").then((function(t){var i=t.data;e.dicts=i}))},created:function(){this.list()},methods:{list:function(){var e=this;Object(o["c"])("/flowable/processDefinition/list",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,processDefinitionId:void 0,processDefinitionName:void 0,processDefinitionKey:void 0,latestVersion:!0,suspended:!1,active:!1},this.list()},btnView:function(e){this.temp=Object.assign({},e),this.suspended=this.temp.suspended?"挂起":"激活",this.dialogFormVisible=!0},btnViewProcessInstanceList:function(e){this.$router.push({path:"/flowable/processInstance",query:{processDefinitionId:e.id}})},btnDelete:function(e,t){var i=this,s=e?[e]:this.selectedRecords.map((function(e){return e.id}));0!==s.length?s.length>1?l["Message"].error("只能选择一条记录"):Object(o["a"])("/flowable/processDefinition/delete",{processDefinitionId:s.toString(),cascade:t}).then((function(e){var t=e.msg;l["Message"].success(t),i.list()})):l["Message"].error("请选择要删除的记录")},btnSuspendOrActivate:function(e,t){var i=this,s=t?"activate":"suspend";Object(o["e"])("/flowable/processDefinition/"+s,{processDefinitionId:e}).then((function(e){var t=e.msg;l["Message"].success(t),i.list()}))},btnImport:function(){this.dialogImportVisible=!0},beforeUpload:function(e){var t=e.name,i=t.endsWith(".bpmn20.xml")||t.endsWith(".bpmn")||t.endsWith(".bar")||t.endsWith(".zip"),s=e.size/1024/512<1;return i||l["Message"].error("上传文件格式不正确"),s||l["Message"].error("上传文件大小不能超过512K"),i&&s},doImport:function(e){var t=this,i=new FormData;i.set("file",e.file),Object(o["d"])("/flowable/processDefinition/import",i).then((function(e){var i=e.msg;t.dialogImportVisible=!1,l["Message"].success(i),t.list()}))},btnExport:function(e){Object(o["b"])("/flowable/processDefinition/xml","get",{processDefinitionId:e.id},e.name+"-v"+e.version+".bpmn20.xml")},btnImage:function(e){this.selectedProcessDefinitionId=e,this.dialogProcessImageVisible=!0},btnProcessDefinitionIdentityLink:function(e){this.selectedProcessDefinitionId=e.id,this.selectedProcessDefinitionName=e.name,this.dialogProcessDefinitionIdentityLinkVisible=!0},selectionChange:function(e){this.selectedRecords=e}}},u=d,p=i("2877"),m=Object(p["a"])(u,s,n,!1,null,null,null);t["default"]=m.exports},ab01:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-card",{staticStyle:{"border-color":"#f1f1f1"},attrs:{shadow:"hover"}},[i("span",{staticStyle:{"margin-left":"22rem"}},[e._v("查询范围：")]),e._v(" "),i("el-date-picker",{attrs:{editable:!1,type:"monthrange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份",format:"yyyy 年 MM 月","value-format":"yyyy-MM","picker-options":e.pickerOptions},on:{change:e.onChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),e._v(" "),i("el-card",{staticStyle:{"border-color":"#f1f1f1"},attrs:{shadow:"hover"}},[i("div",{staticStyle:{height:"600px"},attrs:{id:"line_chart"}})])],1)])},n=[],a=(i("7f7f"),i("0fea")),o=(i("c1df"),{name:"StatementTable",data:function(){return{value:[],pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()-864e5},shortcuts:[{text:"今年至今",onClick:function(e){var t=new Date,i=new Date((new Date).getFullYear(),0);e.$emit("pick",[i,t])}},{text:"最近1年",onClick:function(e){var t=new Date,i=new Date;i.setMonth(i.getMonth()-12),e.$emit("pick",[i,t])}},{text:"最近2年",onClick:function(e){var t=new Date,i=new Date;i.setMonth(i.getMonth()-24),e.$emit("pick",[i,t])}}]}}},mounted:function(){var e=new Date,t=new Date((new Date).getFullYear(),0);this.value[0]=this.$moment(t).format("YYYY-MM"),this.value[1]=this.$moment(e).format("YYYY-MM"),this.getChart()},methods:{onChange:function(e){console.log(this.value),this.query={startMonth:this.value[0],endMonth:this.value[1]},this.getChart()},getChart:function(){var e=this;Object(a["d"])("/sys/statement/query",{startMonth:this.value[0],endMonth:this.value[1]}).then((function(t){var i=t.data,s=e.$echarts.init(document.getElementById("line_chart")),n=i.y.map((function(e){return e.name}));s.setOption({title:{text:i.title,left:"left"},xAxis:{name:i.xtitle,data:i.x,axisPointer:{type:"shadow"},axisLabel:{interval:0,rotate:40}},legend:{data:n},yAxis:{name:i.ytitle},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},series:i.y})})).catch((function(t){console.error(t),e.$message.error("获取报表失败")}))}}}),l=o,r=i("2877"),c=Object(r["a"])(l,s,n,!1,null,"48c4587e",null);t["default"]=c.exports},aef6:function(e,t,i){"use strict";var s=i("5ca1"),n=i("9def"),a=i("d2c8"),o="endsWith",l=""[o];s(s.P+s.F*i("5147")(o),"String",{endsWith:function(e){var t=a(this,e,o),i=arguments.length>1?arguments[1]:void 0,s=n(t.length),r=void 0===i?s:Math.min(n(i),s),c=String(e);return l?l.call(t,c,r):t.slice(r-c.length,r)===c}})},b393:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-card",[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("字典类别")])]),e._v(" "),i("div",{staticClass:"filter-container"},[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:codeType:save",expression:"'sys:codeType:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCreate}},[e._v("新增")]),e._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"代码类别ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.codeTypeId,callback:function(t){e.$set(e.listQuery,"codeTypeId",t)},expression:"listQuery.codeTypeId"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"代码类别名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.codeTypeName,callback:function(t){e.$set(e.listQuery,"codeTypeName",t)},expression:"listQuery.codeTypeName"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n        "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),i("el-table",{ref:"dicTypeTable",attrs:{data:e.records,"highlight-current-row":""},on:{"row-click":e.chooseOne}},[i("el-table-column",{attrs:{width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-radio",{attrs:{label:t.row.codeTypeId},model:{value:e.currentRadio,callback:function(t){e.currentRadio=t},expression:"currentRadio"}},[i("span",{staticClass:"el-radio__label"})])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"代码类别ID",prop:"codeTypeId",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.codeTypeId))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"代码类别名称",prop:"codeTypeName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.codeTypeName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"排序号",prop:"sortNo",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.sortNo))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"备注",prop:"remark",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.remark))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("\n            操作\n            "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s)}}},[e._v("查看")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:codeType:update",expression:"'sys:codeType:update'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUpdate(s)}}},[e._v("修改")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:codeType:delete",expression:"'sys:codeType:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.codeTypeId)}}},[e._v("删除")])],1)],1)]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}})],1),e._v(" "),i("el-dialog",{attrs:{title:"代码类别",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"110px"}},[i("el-form-item",{attrs:{label:"代码类别ID",prop:"codeTypeId"}},[i("el-input",{attrs:{readonly:"update"===e.dialogStatus},model:{value:e.temp.codeTypeId,callback:function(t){e.$set(e.temp,"codeTypeId",t)},expression:"temp.codeTypeId"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"代码类别名称",prop:"codeTypeName"}},[i("el-input",{model:{value:e.temp.codeTypeName,callback:function(t){e.$set(e.temp,"codeTypeName",t)},expression:"temp.codeTypeName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"排序号",prop:"sortNo"}},[i("el-input",{model:{value:e.temp.sortNo,callback:function(t){e.$set(e.temp,"sortNo",t)},expression:"temp.sortNo"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"remark"}},[i("el-input",{model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"view"!==e.dialogStatus?i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("确定")]):e._e()],1)],1)],1)},n=[],a=(i("6b54"),i("333d")),o=i("0fea"),l=i("5c96"),r=i("651a"),c={name:"SysCodeType",components:{Pagination:a["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,codeTypeId:void 0,codeTypeName:void 0},dialogFormVisible:!1,dialogStatus:"",temp:{codeTypeId:void 0,codeTypeName:"",sortNo:"",remark:""},rules:{codeTypeId:[{required:!0,message:"该项不能为空",trigger:"change"}],codeTypeName:[{required:!0,message:"该项不能为空",trigger:"change"}],sortNo:[{required:!0,message:"该项不能为空",trigger:"change"}]},currentRadio:null,listCodeInfoQuery:{current:1,size:10,codeTypeId:void 0,value:void 0,content:void 0}}},beforeCreate:function(){},created:function(){this.list()},methods:{list:function(){var e=this;Object(o["c"])("/sys/codeType/list",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,codeTypeId:void 0,codeTypeName:void 0},this.list()},resetTemp:function(){this.temp={codeTypeId:void 0,codeTypeName:"",sortNo:"",remark:""}},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["d"])("/sys/codeType/save",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["e"])("/sys/codeType/update",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnDelete:function(e){var t=this,i=e?[e]:this.selectedRecords.map((function(e){return e.codeTypeId}));0!==i.length?Object(o["a"])("/sys/codeType/delete",{ids:i.toString()}).then((function(e){var i=e.msg;l["Message"].success(i),t.list()})):l["Message"].error("请选择要删除的记录")},chooseOne:function(e){this.selectedRecords=e,this.currentRadio=e.codeTypeId,console.log(e),r["a"].$emit("checkedRow",e)}}},d=c,u=i("2877"),p=Object(u["a"])(d,s,n,!1,null,null,null);t["default"]=p.exports},bd6a:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:balanceMain:save",expression:"'sys:balanceMain:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCreate}},[e._v("新增")]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:balanceMain:delete",expression:"'sys:balanceMain:delete'"}],staticClass:"filter-item",attrs:{icon:"el-icon-delete"},on:{click:function(t){return e.btnDelete()}}},[e._v("批量删除")])],1),e._v(" "),i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:balanceMain:import",expression:"'sys:balanceMain:import'"}],staticClass:"filter-item",attrs:{icon:"el-icon-upload",type:"primary"},on:{click:e.btnImport}},[e._v("导入")]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:balanceMain:export",expression:"'sys:balanceMain:export'"}],staticClass:"filter-item",attrs:{icon:"el-icon-download"},on:{click:e.btnExport}},[e._v("导出当前页\n      ")]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:balanceMain:export",expression:"'sys:balanceMain:export'"}],staticClass:"filter-item",attrs:{icon:"el-icon-download"},on:{click:e.btnExportAll}},[e._v("导出全部\n      ")])],1),e._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",format:"yyyy 年 MM 月 dd 日","picker-options":e.pickerOptions,placeholder:"记录时间",type:"date"},model:{value:e.listQuery.accountDate,callback:function(t){e.$set(e.listQuery,"accountDate",t)},expression:"listQuery.accountDate"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n        "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"记录时间",prop:"accountDate",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(e.formatDate(t.row.accountDate)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"账户余额",prop:"account",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(e.formatMoney(t.row.account)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"备注",prop:"remark",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.remark))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center",width:"400px"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:balanceMain:update",expression:"'sys:balanceMain:update'"}],attrs:{icon:"el-icon-edit"},nativeOn:{click:function(t){return e.btnUpdate(s)}}},[e._v("修改")]),e._v(" "),i("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:balanceMain:delete",expression:"'sys:balanceMain:delete'"}],attrs:{icon:"el-icon-delete"},nativeOn:{click:function(t){return e.btnDelete(s.balanceMainId)}}},[e._v("删除")]),e._v(" "),i("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),i("el-button",{attrs:{icon:"el-icon-more"},nativeOn:{click:function(t){return e.btnDetail(s)}}},[e._v("详情")]),e._v(" "),i("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),i("el-button",{attrs:{icon:"el-icon-sort"},nativeOn:{click:function(t){return e.btnCompare(s)}}},[e._v("对比")])]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}})],1),e._v(" "),i("el-dialog",{attrs:{title:"账户余额",visible:e.dialogFormVisible,"destroy-on-close":""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,"label-position":"right","label-width":"auto"}},[i("el-form-item",{attrs:{label:"记录时间",prop:"accountDate"}},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:"yyyy 年 MM 月 dd 日","picker-options":e.pickerOptions,type:"date"},model:{value:e.temp.accountDate,callback:function(t){e.$set(e.temp,"accountDate",t)},expression:"temp.accountDate"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"remark"}},[i("el-input",{model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("确定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"账户详情 - "+e.mainDate,visible:e.dialogDetailVisible,"destroy-on-close":"",width:"80%","before-close":e.detailClose}},[e.dialogDetailVisible?i("sys-balance-detail",{attrs:{"balance-main-id":e.balanceMainId}}):e._e()],1),e._v(" "),i("el-dialog",{attrs:{title:"余额对比",visible:e.dialogCompareVisible,"label-position":"right","destroy-on-close":""},on:{"update:visible":function(t){e.dialogCompareVisible=t}}},[i("el-form",{ref:"compareForm",attrs:{rules:e.compareRules,model:e.compareTemp,"label-width":"auto"}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"当前日期",prop:"selectDate"}},[i("el-date-picker",{attrs:{readonly:"","value-format":"yyyy-MM-dd",format:"yyyy 年 MM 月 dd 日","picker-options":e.pickerOptions,type:"date"},model:{value:e.compareTemp.selectDate,callback:function(t){e.$set(e.compareTemp,"selectDate",t)},expression:"compareTemp.selectDate"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"对比日期",prop:"compareDate"}},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:"yyyy 年 MM 月 dd 日","picker-options":e.pickerOptions,type:"date"},on:{change:e.dateChange},model:{value:e.compareTemp.compareDate,callback:function(t){e.$set(e.compareTemp,"compareDate",t)},expression:"compareTemp.compareDate"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"当前余额",prop:"selectAccountFormat"}},[i("el-input",{attrs:{readonly:""},model:{value:e.compareTemp.selectAccountFormat,callback:function(t){e.$set(e.compareTemp,"selectAccountFormat",t)},expression:"compareTemp.selectAccountFormat"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"对比余额",prop:"compareAccountFormat"}},[i("el-input",{attrs:{readonly:""},model:{value:e.compareTemp.compareAccountFormat,callback:function(t){e.$set(e.compareTemp,"compareAccountFormat",t)},expression:"compareTemp.compareAccountFormat"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"差值",prop:"diff"}},[i("el-input",{attrs:{readonly:""},model:{value:e.compareTemp.diff,callback:function(t){e.$set(e.compareTemp,"diff",t)},expression:"compareTemp.diff"}})],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogCompareVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:e.compareData}},[e._v("对比")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"文件导入",visible:e.dialogImportVisible},on:{"update:visible":function(t){e.dialogImportVisible=t}}},[i("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"","show-file-list":!1,"http-request":e.doImport}},[i("i",{staticClass:"el-icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),i("em",[e._v("点击上传")])]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("上传数据同天同类型账户余额会被覆盖!")])])],1)],1)},n=[],a=(i("6b54"),i("a481"),i("333d")),o=i("7040"),l=i("0fea"),r=i("5c96"),c={name:"SysBalanceMain",components:{Pagination:a["default"],SysBalanceDetail:o["default"]},data:function(){var e=864e5;return{pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()+e},shortcuts:[{text:"昨天",onClick:function(t){var i=new Date;i.setTime(i.getTime()-e),t.$emit("pick",i)}},{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"明天",onClick:function(t){var i=new Date;i.setTime(i.getTime()+e),t.$emit("pick",i)}}]},dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,accountDate:void 0},dialogFormVisible:!1,dialogDetailVisible:!1,dialogCompareVisible:!1,balanceMainId:null,mainDate:"",dialogStatus:"",temp:{accountDate:"",remark:""},compareTemp:{selectDate:"",selectAccount:"",selectAccountFormat:"",compareDate:"",compareAccount:"",compareAccountFormat:"",diff:""},rules:{accountDate:[{required:!0,message:"该项不能为空",trigger:"change"}]},compareRules:{compareDate:[{required:!0,message:"该项不能为空",trigger:"change"}]},dialogImportVisible:!1}},beforeCreate:function(){},created:function(){this.list()},methods:{formatMoney:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"￥",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:".";e=e||0,t=isNaN(t=Math.abs(t))?2:t;var a=e<0?"-":"",o=parseInt(e=Math.abs(+e||0).toFixed(t),10)+"",l=o.length;return l=l>3?l%3:0,i+a+(l?o.substr(0,l)+s:"")+o.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+s)+(t?n+Math.abs(e-o).toFixed(t).slice(2):"")},formatDate:function(e){return this.$moment(e,"YYYY-MM-DD").format("YYYY 年 MM 月 DD 日")},list:function(){var e=this;Object(l["c"])("/sys/balanceMain/list",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnImport:function(){this.dialogImportVisible=!0},doImport:function(e){var t=this,i=new FormData;i.set("file",e.file),Object(l["d"])("/sys/balanceMain/import",i).then((function(e){var i=e.msg;t.dialogImportVisible=!1,r["Message"].success(i),t.list()}))},btnExport:function(){Object(l["b"])("/sys/balanceMain/export","get",this.listQuery,"SysBalanceMainExportCur.xlsx")},btnExportAll:function(){Object(l["b"])("/sys/balanceMain/exportAll","get","","SysBalanceMainExportAll.xlsx")},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,accountDate:void 0},this.list()},resetTemp:function(){this.temp={accountDate:"",remark:""}},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(l["d"])("/sys/balanceMain/save",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,r["Message"].success(i),e.list()}))}))},btnUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(l["e"])("/sys/balanceMain/update",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,r["Message"].success(i),e.list()}))}))},btnDelete:function(e){var t=this,i=e?[e]:this.selectedRecords.map((function(e){return e.balanceMainId}));0!==i.length?this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["a"])("/sys/balanceMain/delete",{ids:i.toString()}).then((function(e){var i=e.msg;r["Message"].success(i),t.list()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})})):r["Message"].error("请选择要删除的记录")},btnDetail:function(e){this.balanceMainId=e.balanceMainId,this.mainDate=this.$moment(e.accountDate,"YYYY-MM-DD").format("YYYY年MM月DD日"),this.dialogDetailVisible=!0},btnCompare:function(e){this.dialogCompareVisible=!0,this.compareTemp.selectDate=e.accountDate,this.compareTemp.selectAccount=e.account,this.compareTemp.selectAccountFormat=this.formatMoney(e.account)},compareData:function(){var e=this;this.$refs["compareForm"].validate((function(t){t&&Object(l["d"])("/sys/balanceMain/compare",{accountDate:e.compareTemp.compareDate}).then((function(t){var i=t.data,s=t.msg;i?(r["Message"].success(s),e.compareTemp.compareAccount=i.account,e.compareTemp.compareAccountFormat=e.formatMoney(i.account),e.compareTemp.diff=e.formatMoney(e.compareTemp.selectAccount-e.compareTemp.compareAccount)):r["Message"].info(s)}))}))},dateChange:function(){this.compareTemp.compareAccount="",this.compareTemp.compareAccountFormat=""},detailClose:function(){this.dialogDetailVisible=!1,this.list()},selectionChange:function(e){this.selectedRecords=e}}},d=c,u=i("2877"),p=Object(u["a"])(d,s,n,!1,null,null,null);t["default"]=p.exports},c208:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"模型key"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.modelKey,callback:function(t){e.$set(e.listQuery,"modelKey",t)},expression:"listQuery.modelKey"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"模型名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.modelName,callback:function(t){e.$set(e.listQuery,"modelName",t)},expression:"listQuery.modelName"}}),e._v(" "),i("el-select",{staticClass:"filter-item",attrs:{placeholder:"模型类别"},model:{value:e.listQuery.modelCategory,callback:function(t){e.$set(e.listQuery,"modelCategory",t)},expression:"listQuery.modelCategory"}},e._l(e.dicts.processCategory,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n      "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1),e._v(" "),i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:model:save",expression:"'flowable:model:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCreate}},[e._v("新增\n      ")]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:model:import",expression:"'flowable:model:import'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnImport}},[e._v("导入\n      ")])],1)],1),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"模型key",prop:"key",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.key))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"模型名称",prop:"name",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"模型类别",prop:"category",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{innerHTML:e._s(e.formatDictText(e.dicts.processCategory,t.row.category))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"版本",prop:"version",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.version))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"是否发布",prop:"deployed",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.deployed?"是":"否"))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s)}}},[e._v("查看")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:model:update",expression:"'flowable:model:update'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUpdate(s)}}},[e._v("修改\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:model:saveModelEditor",expression:"'flowable:model:saveModelEditor'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUpdateModel(s)}}},[e._v("流程设计\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:model:delete",expression:"'flowable:model:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.id)}}},[e._v("删除\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:model:delete",expression:"'flowable:model:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.id,!0)}}},[e._v("删除包含历史\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:model:deploy",expression:"'flowable:model:deploy'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnDeploy(s.id)}}},[e._v("部署\n            ")])],1)],1)]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),e._v(" "),i("el-dialog",{attrs:{title:"流程模型",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"110px"}},[i("el-form-item",{attrs:{label:"模型key",prop:"key"}},[i("el-input",{model:{value:e.temp.key,callback:function(t){e.$set(e.temp,"key",t)},expression:"temp.key"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"模型名称",prop:"name"}},[i("el-input",{model:{value:e.temp.name,callback:function(t){e.$set(e.temp,"name",t)},expression:"temp.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"模型类别",prop:"category"}},[i("el-select",{attrs:{placeholder:"模型类别"},model:{value:e.temp.category,callback:function(t){e.$set(e.temp,"category",t)},expression:"temp.category"}},e._l(e.dicts.processCategory,(function(e){return i("el-option",{key:e.value,attrs:{label:e.content,value:e.value}})})),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"模型描述",prop:"description"}},[i("el-input",{model:{value:e.temp.description,callback:function(t){e.$set(e.temp,"description",t)},expression:"temp.description"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"租户ID",prop:"tenantId"}},[i("el-input",{model:{value:e.temp.tenantId,callback:function(t){e.$set(e.temp,"tenantId",t)},expression:"temp.tenantId"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"view"!==e.dialogStatus?i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("确定\n      ")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"流程导入",visible:e.dialogImportVisible},on:{"update:visible":function(t){e.dialogImportVisible=t}}},[i("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"","show-file-list":!1,"before-upload":e.beforeUpload,"http-request":e.doImport}},[i("i",{staticClass:"el-icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),i("em",[e._v("点击上传")])]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传.bpmn20.xml,.bpmn文件，且不超过512K")])])],1)],1)},n=[],a=(i("6b54"),i("aef6"),i("7f7f"),i("333d")),o=i("0fea"),l=i("5c96"),r={name:"FlowableModel",components:{Pagination:a["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,modelKey:void 0,modelName:void 0,modelCategory:void 0},dialogFormVisible:!1,dialogStatus:"",temp:{id:void 0,key:"",name:"",category:"",description:"",tenantId:""},rules:{id:[{required:!0,message:"该项不能为空",trigger:"change"}],key:[{required:!0,message:"该项不能为空",trigger:"change"}],name:[{required:!0,message:"该项不能为空",trigger:"change"}]},dialogImportVisible:!1}},beforeCreate:function(){var e=this;this.getDicts("processCategory").then((function(t){var i=t.data;e.dicts=i}))},created:function(){this.list()},methods:{list:function(){var e=this;Object(o["c"])("/flowable/model/list",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,modelKey:void 0,modelName:void 0,modelCategory:void 0},this.list()},resetTemp:function(){this.temp={id:void 0,key:"",name:"",category:"",description:"",tenantId:""}},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},btnImport:function(){this.dialogImportVisible=!0},beforeUpload:function(e){var t=e.name,i=t.endsWith(".bpmn20.xml")||t.endsWith(".bpmn"),s=e.size/1024/512<1;return i||l["Message"].error("上传文件格式不正确"),s||l["Message"].error("上传文件大小不能超过512K"),i&&s},doImport:function(e){var t=this,i=new FormData;i.set("file",e.file),Object(o["d"])("/flowable/model/import",i).then((function(e){var i=e.msg;t.dialogImportVisible=!1,l["Message"].success(i),t.list()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["d"])("/flowable/model/save",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnUpdateModel:function(e){this.$router.push({path:"/flowableModelEdit",query:{id:e.id}})},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["e"])("/flowable/model/update",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnDelete:function(e,t){var i=this,s=e?[e]:this.selectedRecords.map((function(e){return e.id}));0!==s.length?Object(o["a"])("/flowable/model/delete",{ids:s.toString(),cascade:t}).then((function(e){var t=e.msg;l["Message"].success(t),i.list()})):l["Message"].error("请选择要删除的记录")},btnDeploy:function(e){var t=this;Object(o["d"])("/flowable/model/deploy",{id:e}).then((function(e){var i=e.msg;l["Message"].success(i),t.list()}))},selectionChange:function(e){this.selectedRecords=e}}},c=r,d=i("2877"),u=Object(d["a"])(c,s,n,!1,null,null,null);t["default"]=u.exports},c2a2:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:5}},[i("el-card",[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("组织机构")])]),e._v(" "),i("el-input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"输入关键字进行过滤","prefix-icon":"el-icon-search"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"orgTree",attrs:{data:e.treeData,"default-expand-all":"","node-key":"id",props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"current-node-key":"","highlight-current":e.highlight},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.node;return i("span",{staticClass:"custom-tree-node"},[i("span",[e._v(e._s(s.label))])])}}])})],1)],1),e._v(" "),i("el-col",{attrs:{span:19}},[i("el-card",[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v(e._s(e.currentOrg))])]),e._v(" "),i("div",{staticClass:"filter-container"},[i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:user:save",expression:"'sys:user:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCreate}},[e._v("新增\n            ")]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:user:delete",expression:"'sys:user:delete'"}],staticClass:"filter-item",attrs:{icon:"el-icon-delete"},on:{click:function(t){return e.btnDelete()}}},[e._v("批量删除")])],1),e._v(" "),i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:user:export",expression:"'sys:user:export'"}],staticClass:"filter-item",attrs:{icon:"el-icon-download",type:"primary"},on:{click:e.btnExport}},[e._v("导出\n            ")])],1),e._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"登录账户名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.userId,callback:function(t){e.$set(e.listQuery,"userId",t)},expression:"listQuery.userId"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"用户姓名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.userName,callback:function(t){e.$set(e.listQuery,"userName",t)},expression:"listQuery.userName"}}),e._v(" "),i("el-dropdown",{directives:[{name:"permission",rawName:"v-permission",value:"sys:user:list",expression:"'sys:user:list'"}],staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n              "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"登录账户名",prop:"userId",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.userId))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"用户姓名",prop:"userName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.userName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"当前角色",prop:"roleId",align:"center",formatter:e.roleFormatter}}),e._v(" "),i("el-table-column",{attrs:{label:"所属机构",prop:"orgName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.orgName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"用户状态",prop:"status",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{innerHTML:e._s(e.formatDictText(e.dicts.userStatus,t.row.status))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"排序号",prop:"sortNo",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.sortNo))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s)}}},[e._v("查看")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:user:update",expression:"'sys:user:update'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUpdate(s)}}},[e._v("修改")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:user:delete",expression:"'sys:user:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.userId)}}},[e._v("删除")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:user:update",expression:"'sys:user:update'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnResetPassword(s.userId)}}},[e._v("重置密码")]),e._v(" "),i("el-dropdown-item",{attrs:{icon:"el-icon-collection-tag",divided:""},nativeOn:{click:function(t){return e.btnShortCut(s)}}},[e._v("快捷方式")])],1)],1)]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}})],1)],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"用户",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"auto"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"登录账户名",prop:"userId"}},[i("el-input",{attrs:{readonly:"update"===e.dialogStatus},model:{value:e.temp.userId,callback:function(t){e.$set(e.temp,"userId",t)},expression:"temp.userId"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"用户姓名",prop:"userName"}},[i("el-input",{model:{value:e.temp.userName,callback:function(t){e.$set(e.temp,"userName",t)},expression:"temp.userName"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"性别",prop:"sex"}},[i("el-select",{attrs:{placeholder:"性别"},model:{value:e.temp.sex,callback:function(t){e.$set(e.temp,"sex",t)},expression:"temp.sex"}},e._l(e.dicts.userSex,(function(e){return i("el-option",{key:e.value,attrs:{label:e.content,value:e.value}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"当前角色",prop:"roleId"}},[i("el-select",{attrs:{placeholder:"当前角色"},model:{value:e.temp.roleId,callback:function(t){e.$set(e.temp,"roleId",t)},expression:"temp.roleId"}},e._l(e.roles,(function(e){return i("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId}})})),1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"所属机构ID",prop:"orgId",hidden:""}},[i("el-input",{model:{value:e.temp.orgId,callback:function(t){e.$set(e.temp,"orgId",t)},expression:"temp.orgId"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"所属机构",prop:"orgName"}},[i("el-input",{model:{value:e.temp.orgName,callback:function(t){e.$set(e.temp,"orgName",t)},expression:"temp.orgName"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.btnSelectOrg},slot:"append"})],1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[i("el-input",{model:{value:e.temp.mobile,callback:function(t){e.$set(e.temp,"mobile",t)},expression:"temp.mobile"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"身份证号",prop:"idCardNo"}},[i("el-input",{model:{value:e.temp.idCardNo,callback:function(t){e.$set(e.temp,"idCardNo",t)},expression:"temp.idCardNo"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"邮箱地址",prop:"email"}},[i("el-input",{model:{value:e.temp.email,callback:function(t){e.$set(e.temp,"email",t)},expression:"temp.email"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"用户状态",prop:"status"}},[i("el-select",{attrs:{placeholder:"用户状态"},model:{value:e.temp.status,callback:function(t){e.$set(e.temp,"status",t)},expression:"temp.status"}},e._l(e.dicts.userStatus,(function(e){return i("el-option",{key:e.value,attrs:{label:e.content,value:e.value}})})),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"排序号",prop:"sortNo"}},[i("el-input",{model:{value:e.temp.sortNo,callback:function(t){e.$set(e.temp,"sortNo",t)},expression:"temp.sortNo"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入备注信息"},model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n        取消\n      ")]),e._v(" "),"view"!==e.dialogStatus?i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("\n        确定\n      ")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"配置快捷方式",visible:e.showShortCutModal,"destroy-on-close":""},on:{"update:visible":function(t){e.showShortCutModal=t}}},[e.showShortCutModal?i("short-cut",{ref:"shortCut",attrs:{"role-id":e.temp.roleId,"user-id":e.temp.userId},on:{shortCutEnd:e.shortCutEnd,shortCutWarning:e.shortCutWarning}}):e._e(),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.showShortCutModal=!1}}},[e._v("\n        取消\n      ")]),e._v(" "),i("el-button",{attrs:{loading:e.menuModalLoading,icon:"el-icon-check",type:"primary"},on:{click:e.editShortCut}},[e._v("\n        确定\n      ")])],1)],1),e._v(" "),i("select-org",{ref:"selectOrg",attrs:{visible:e.selectOrgVisible,"append-to-body":!0,"multiple-select":!1},on:{"update:visible":function(t){e.selectOrgVisible=t},selectOrgFinished:e.selectOrgFinished}})],1)},n=[],a=(i("6b54"),i("333d")),o=i("0fea"),l=i("5c96"),r=i("80a1"),c=i("0fdb"),d={name:"SysUser",components:{Pagination:a["default"],SelectOrg:r["default"],ShortCut:c["default"]},data:function(){return{dicts:[],roles:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,userId:void 0,userName:void 0,orgId:void 0},dialogFormVisible:!1,dialogStatus:"",filterText:"",treeLoading:!1,treeData:[],defaultProps:{children:"children",label:"label",isLeaf:"isLeaf",data:"data"},currentOrg:"",highlight:!0,temp:{userId:void 0,userName:"",sex:"1",roleId:"",orgId:"",orgName:"",mobile:"",idCardNo:"",email:"",status:"1",sortNo:"",remark:""},rules:{userId:[{required:!0,message:"该项不能为空",trigger:"change"}],userName:[{required:!0,message:"该项不能为空",trigger:"change"}],sex:[{required:!0,message:"该项不能为空",trigger:"change"}],roleId:[{required:!0,message:"该项不能为空",trigger:"change"}],orgId:[{required:!0,message:"该项不能为空",trigger:"change"}],mobile:[{required:!0,message:"该项不能为空",trigger:"change"}],idCardNo:[{required:!0,message:"该项不能为空",trigger:"change"}],email:[{required:!0,message:"该项不能为空",trigger:"change"}],status:[{required:!0,message:"该项不能为空",trigger:"change"}],sortNo:[{required:!0,message:"该项不能为空",trigger:"change"}]},showShortCutModal:!1,menuModalLoading:!1,selectOrgVisible:!1}},beforeCreate:function(){var e=this;this.getDicts("userSex,userStatus").then((function(t){var i=t.data;e.dicts=i})),Object(o["c"])("/sys/role/listAll",{}).then((function(t){var i=t.data;e.roles=i}))},created:function(){this.getTreeData(),this.list()},methods:{list:function(){var e=this;Object(o["c"])("/sys/user/queryUserByOrg",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},getTreeData:function(){var e=this;this.treeLoading=!0,Object(o["c"])("/sys/org/getTreeData",{}).then((function(t){var i=t.data;e.treeData=i,console.log(e.treeData[0].id),e.$nextTick((function(){e.$refs.orgTree.setCurrentKey(e.treeData[0].id),e.currentOrg=e.treeData[0].label+"(全部) - 用户信息"})),e.treeLoading=!1}))},btnExport:function(){Object(o["b"])("/sys/user/export","get",this.listQuery,"SysUserExport.xlsx")},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,userId:void 0,userName:void 0,orgId:void 0},this.list()},resetTemp:function(){this.temp={userId:void 0,userName:"",sex:"1",roleId:"",orgId:"",orgName:"",mobile:"",idCardNo:"",email:"",status:"1",sortNo:"",remark:""}},handleNodeClick:function(e){this.highlight=e.id!==this.listQuery.orgId,this.highlight?(this.listQuery.orgId=e.id,this.currentOrg=e.label+" - 用户信息"):(this.listQuery.orgId=void 0,this.currentOrg="全部用户信息"),this.list()},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["d"])("/sys/user/save",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnResetPassword:function(e){var t=this,i=this.$store.getters.sysUser.userId;l["MessageBox"].confirm("是否确定重置密码","提示",{confirmButtonText:"重置密码",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["d"])("/sys/user/resetPassword",{userId:e}).then((function(s){var n=s.msg;l["Message"].success(n),t.list(),e===i&&t.$store.dispatch("user/clearLoginInfo").then((function(){t.$router.push("/login?redirect=".concat(t.$route.fullPath))}))}))}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["e"])("/sys/user/update",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnDelete:function(e){var t=this,i=e?[e]:this.selectedRecords.map((function(e){return e.userId}));0!==i.length?Object(o["a"])("/sys/user/delete",{ids:i.toString()}).then((function(e){var i=e.msg;l["Message"].success(i),t.list()})):l["Message"].error("请选择要删除的记录")},btnShortCut:function(e){this.temp=Object.assign({},e),this.showShortCutModal=!0},editShortCut:function(){this.menuModalLoading=!0,this.$refs.shortCut.editShortCut()},shortCutWarning:function(){this.menuModalLoading=!1},shortCutEnd:function(){this.menuModalLoading=!1,this.showShortCutModal=!1},selectionChange:function(e){this.selectedRecords=e},roleFormatter:function(e,t){for(var i=e.roleId,s=0;s<this.roles.length;s++)if(this.roles[s].roleId===i){i=this.roles[s].roleName;break}return i},btnSelectOrg:function(){this.selectOrgVisible=!0,0===this.$refs.selectOrg.treeData.length&&this.$refs.selectOrg.getTreeData()},selectOrgFinished:function(e){e&&0!==e.length?(this.temp.orgId=e.id,this.temp.orgName=e.label,this.selectOrgVisible=!1):l["Message"].error("请先选择机构")}}},u=d,p=i("2877"),m=Object(p["a"])(u,s,n,!1,null,null,null);t["default"]=m.exports},cc89:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("exception-page",{attrs:{type:"404"}})},n=[],a=i("0673"),o={components:{ExceptionPage:a["default"]}},l=o,r=i("2877"),c=Object(r["a"])(l,s,n,!1,null,"3c8fc1bd",null);t["default"]=c.exports},cdd7:function(e,t,i){"use strict";i("686d")},cdfb:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:role:save",expression:"'sys:role:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCreate}},[e._v("新增\n      ")]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:role:delete",expression:"'sys:role:delete'"}],staticClass:"filter-item",attrs:{icon:"el-icon-delete"},on:{click:function(t){return e.btnDelete()}}},[e._v("批量删除")])],1),e._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"角色名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.roleName,callback:function(t){e.$set(e.listQuery,"roleName",t)},expression:"listQuery.roleName"}}),e._v(" "),i("el-dropdown",{directives:[{name:"permission",rawName:"v-permission",value:"sys:role:list",expression:"'sys:role:list'"}],staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n        "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),i("el-table",{ref:"roleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"角色名称",prop:"roleName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.roleName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"排序号",prop:"sortNo",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.sortNo))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"备注",prop:"remark",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.remark))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s)}}},[e._v("查看")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:role:update",expression:"'sys:role:update'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUpdate(s)}}},[e._v("\n              修改")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:role:delete",expression:"'sys:role:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.roleId)}}},[e._v("\n              删除")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:role:getRolePermissions",expression:"'sys:role:getRolePermissions'"}],attrs:{icon:"el-icon-setting",divided:""},nativeOn:{click:function(t){return e.btnPermission(s)}}},[e._v("\n              角色授权")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:role:getRoleUser",expression:"'sys:role:getRoleUser'"}],attrs:{icon:"el-icon-setting",divided:""},nativeOn:{click:function(t){return e.btnRoleUser(s)}}},[e._v("\n              分配用户")])],1)],1)]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}})],1),e._v(" "),i("el-dialog",{attrs:{title:"角色",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"auto"}},[i("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[i("el-input",{model:{value:e.temp.roleName,callback:function(t){e.$set(e.temp,"roleName",t)},expression:"temp.roleName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"排序号",prop:"sortNo"}},[i("el-input",{model:{value:e.temp.sortNo,callback:function(t){e.$set(e.temp,"sortNo",t)},expression:"temp.sortNo"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入备注信息"},model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"view"!==e.dialogStatus?i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("\n        确定\n      ")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.rolePermissionTitle,visible:e.dialogPermissionFormVisible},on:{"update:visible":function(t){e.dialogPermissionFormVisible=t}}},[i("div",{staticClass:"el-dialog-body-custom-height"},[i("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{gutter:20}},[i("el-col",{attrs:{span:12}},[i("el-card",{attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("所有资源")])]),e._v(" "),i("el-tree",{ref:"permissionTree",staticClass:"filter-tree",attrs:{data:e.treeData,"node-key":"id",props:e.defaultProps,"show-checkbox":"","check-on-click-node":"","check-strictly":"","expand-on-click-node":!1,"default-expanded-keys":e.defaultExpandKeys,"default-checked-keys":e.selectedTreeKeys},on:{"check-change":e.checkChange}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-card",{attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("授权菜单")])]),e._v(" "),i("el-tree",{ref:"rightTree",staticClass:"filter-tree",attrs:{data:e.selectedData,"node-key":"id","default-expanded-keys":e.rightExpandKeys}})],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogPermissionFormVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:e.permissionData}},[e._v("确定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:e.roleUserTitle,width:"80%",visible:e.dialogRoleUserFormVisible,"custom-class":"el-dialog-custom-height"},on:{"update:visible":function(t){e.dialogRoleUserFormVisible=t}}},[i("div",{staticClass:"filter-container"},[i("el-button-group",[i("el-button",{staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnRoleUserAdd}},[e._v("新增")]),e._v(" "),i("el-button",{staticClass:"filter-item",attrs:{icon:"el-icon-delete"},on:{click:e.btnRoleUserDelete}},[e._v("批量删除")])],1),e._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:"用户姓名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getRoleUser(t)}},model:{value:e.listQueryRoleUser.userName,callback:function(t){e.$set(e.listQueryRoleUser,"userName",t)},expression:"listQueryRoleUser.userName"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.getRoleUser}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n          "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnRoleUserReset(t)}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),i("el-table",{ref:"roleUserTable",staticStyle:{width:"100%"},attrs:{data:e.recordsRoleUser,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChangeRoleUser}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"用户姓名",prop:"userName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.userName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"所属机构",prop:"orgName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.orgName))])]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalRoleUser>0,expression:"totalRoleUser>0"}],attrs:{total:e.totalRoleUser,current:e.listQueryRoleUser.current,size:e.listQueryRoleUser.size},on:{"update:current":function(t){return e.$set(e.listQueryRoleUser,"current",t)},"update:size":function(t){return e.$set(e.listQueryRoleUser,"size",t)},pagination:e.getRoleUser}})],1)],1),e._v(" "),i("select-user",{ref:"selectUser",attrs:{"append-to-body":!0,"multiple-select":!0},on:{selectUserFinished:e.selectUserFinished}})],1)},n=[],a=(i("ac6a"),i("6b54"),i("333d")),o=i("c4f3"),l=i("0fea"),r=i("5c96"),c={name:"SysRole",components:{Pagination:a["default"],SelectUser:o["default"]},data:function(){return{records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,roleName:void 0},dialogFormVisible:!1,dialogStatus:"",temp:{roleName:"",sortNo:"",remark:""},rules:{roleName:[{required:!0,message:"该项不能为空",trigger:"change"}],sortNo:[{required:!0,message:"该项不能为空",trigger:"change"}]},dialogPermissionFormVisible:!1,dialogRoleUserFormVisible:!1,treeData:[],defaultProps:{children:"children",label:"label",isLeaf:"isLeaf",data:"data"},currRoleId:"",currRoleName:"",recordsRoleUser:null,selectedRecordsRoleUser:[],totalRoleUser:0,listQueryRoleUser:{current:1,size:10,roleId:void 0,userName:void 0},defaultExpandKeys:[],selectedData:[],selectedTreeKeys:[],loading:!1}},computed:{rolePermissionTitle:{get:function(){return"角色【"+this.currRoleName+"】授权"}},roleUserTitle:{get:function(){return"角色【"+this.currRoleName+"】分配用户"}},rightExpandKeys:{get:function(){return this.selectedData?this.selectedData.map((function(e){return e.id})):[]}}},created:function(){this.list()},methods:{list:function(){var e=this;Object(l["c"])("/sys/role/list",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,roleName:void 0},this.list()},resetTemp:function(){this.temp={roleName:"",sortNo:"",remark:""}},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(l["d"])("/sys/role/save",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,r["Message"].success(i),e.list()}))}))},btnUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(l["e"])("/sys/role/update",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,r["Message"].success(i),e.list()}))}))},btnDelete:function(e){var t=this,i=e?[e]:this.selectedRecords.map((function(e){return e.roleId}));0!==i.length?Object(l["a"])("/sys/role/delete",{ids:i.toString()}).then((function(e){var i=e.msg;r["Message"].success(i),t.list()})):r["Message"].error("请选择要删除的记录")},selectionChange:function(e){this.selectedRecords=e},getTreeData:function(e){var t=this;Object(l["c"])("/sys/role/getRolePermissions",{roleId:e}).then((function(e){var i=e.data;t.treeData=i.permissionTree,t.selectedTreeKeys=i.permissions,t.selectedTreeKeys&&(t.defaultExpandKeys=t.treeData.map((function(e){return e.id})).filter((function(e){return t.selectedTreeKeys.indexOf(e)>=0}))),t.selectedData=t.makeShortCutSelectedMenuData(t.treeData,i.permissions),t.$nextTick((function(){t.loading=!1}))}))},checkChange:function(e,t){var i=this.$refs["permissionTree"].getNode(e);t?this.parentNodesChange(i):this.childNodesChange(i),this.selectedData=this.makeShortCutSelectedMenuData(this.treeData,this.$refs.permissionTree.getCheckedKeys())},childNodesChange:function(e){for(var t=e.childNodes.length,i=0;i<t;i++)e.childNodes[i].checked=!1,this.childNodesChange(e.childNodes[i])},parentNodesChange:function(e){if(e.parent)for(var t in e)"parent"===t&&(e[t].checked=!0,this.parentNodesChange(e[t]))},makeShortCutSelectedMenuData:function(e,t){for(var i=null,s=0;s<e.length;s++){var n=null;if(e[s].children&&e[s].children.length>0&&(n=this.makeShortCutSelectedMenuData(e[s].children,t)),n||t.indexOf(e[s].id)>=0){i||(i=[]);var a={id:e[s].id,isLeaf:e[s].isLeaf,label:e[s].label,parentId:e[s].parentId,data:e[s].data};n&&(a.children=n),i.push(a)}}return i},btnPermission:function(e){this.currRoleId=e.roleId,this.currRoleName=e.roleName,this.loading=!0,this.dialogPermissionFormVisible=!0,this.getTreeData(e.roleId)},permissionData:function(){var e=this,t=this.$refs.permissionTree.getCheckedNodes(),i=[],s=[];t.forEach((function(e){var t=e.data;i.push(t.menuOrFuncId),s.push(t.permissionType)}));var n={roleId:this.currRoleId,menuOrFuncId:i.toString(),permissionType:s.toString()};Object(l["d"])("/sys/role/saveRolePermissions",n).then((function(t){var i=t.msg;r["Message"].success(i),e.dialogPermissionFormVisible=!1}))},btnRoleUser:function(e){this.currRoleId=e.roleId,this.currRoleName=e.roleName,this.dialogRoleUserFormVisible=!0,this.getRoleUser()},getRoleUser:function(){var e=this;this.listQueryRoleUser.roleId=this.currRoleId,Object(l["c"])("/sys/role/getRoleUser",this.listQueryRoleUser).then((function(t){var i=t.data;e.recordsRoleUser=i.records,e.totalRoleUser=i.total}))},btnRoleUserQuery:function(){this.listQueryRoleUser.current=1,this.getRoleUser()},btnRoleUserReset:function(){this.listQueryRoleUser={current:1,size:10,roleId:void 0,userName:void 0},this.getRoleUser()},selectionChangeRoleUser:function(e){this.selectedRecordsRoleUser=e},btnRoleUserAdd:function(){this.$refs.selectUser.show()},selectUserFinished:function(e){var t=this;if(e&&0!==e.length){var i=e.map((function(e){return e.userId}));Object(l["d"])("/sys/role/saveRoleUsers",{roleId:this.currRoleId,userId:i.toString()}).then((function(e){var i=e.msg;r["Message"].success(i),t.btnRoleUserQuery()}))}else r["Message"].error("请先选择用户")},btnRoleUserDelete:function(){var e=this,t=this.selectedRecordsRoleUser.map((function(e){return e.userId}));0!==t.length?Object(l["a"])("/sys/role/deleteRoleUsers",{roleId:this.currRoleId,userIds:t.toString()}).then((function(t){var i=t.msg;r["Message"].success(i),e.btnRoleUserQuery()})):r["Message"].error("请选择要删除的记录")}}},d=c,u=i("2877"),p=Object(u["a"])(d,s,n,!1,null,null,null);t["default"]=p.exports},d35e:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"流程图",visible:e.dialogProcessImageVisibleInChild,fullscreen:""},on:{"update:visible":function(t){e.dialogProcessImageVisibleInChild=t}}},[i("img",{attrs:{src:e.imagePath,alt:"流程图"}})])},n=[],a=i("5f87"),o={name:"ProcessImage",props:{visible:{type:Boolean,default:function(){return!1}},processDefinitionId:{type:String,default:function(){return""}},processInstanceId:{type:String,default:function(){return""}}},data:function(){return{imagePath:""}},computed:{dialogProcessImageVisibleInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},created:function(){this.init()},methods:{init:function(){this.processInstanceId&&null!=this.processInstanceId&&""!==this.processInstanceId?this.imagePath="".concat("/balance")+"/flowable/processInstanceImage?processInstanceId="+this.processInstanceId+"&access_token="+Object(a["a"])()+"&time="+new Date:this.processDefinitionId&&null!=this.processDefinitionId&&""!==this.processDefinitionId&&(this.imagePath="".concat("/balance")+"/flowable/processDefinition/image?processDefinitionId="+this.processDefinitionId+"&access_token="+Object(a["a"])()+"&time="+new Date)}}},l=o,r=i("2877"),c=Object(r["a"])(l,s,n,!1,null,null,null);t["default"]=c.exports},d3a05:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"任务名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.taskName,callback:function(t){e.$set(e.listQuery,"taskName",t)},expression:"listQuery.taskName"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"业务主键Key"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceBusinessKey,callback:function(t){e.$set(e.listQuery,"processInstanceBusinessKey",t)},expression:"listQuery.processInstanceBusinessKey"}}),e._v(" "),i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",placeholder:"到期日开始",type:"date"},model:{value:e.listQuery.taskDueAfter,callback:function(t){e.$set(e.listQuery,"taskDueAfter",t)},expression:"listQuery.taskDueAfter"}}),e._v(" "),i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",placeholder:"到期日结束",type:"date"},model:{value:e.listQuery.taskDueBefore,callback:function(t){e.$set(e.listQuery,"taskDueBefore",t)},expression:"listQuery.taskDueBefore"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n      "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1),e._v(" "),i("el-button-group",[i("el-button",{staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(t){return e.btnRead()}}},[e._v("批量已阅")])],1)],1),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"流程实例名称",prop:"processInstanceName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.processInstanceName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"任务名称",prop:"name",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"开始时间",prop:"createTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.createTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"到期日期",prop:"dueDate",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.dueDate))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"所有人",prop:"owner",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.owner))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"执行人",prop:"assignee",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.assignee))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s.processInstanceId)}}},[e._v("查看详情\n            ")]),e._v(" "),null==s.assignee||""==s.assignee?i("el-dropdown-item",{attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnClaim(s)}}},[e._v("认领\n            ")]):e._e(),e._v(" "),null==s.endTime&&null!=s.assignee&&""!=s.assignee?i("el-dropdown-item",{attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnRead(s.id)}}},[e._v("已阅\n            ")]):e._e()],1)],1)]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),e._v(" "),e.dialogViewVisible?i("process-detail",{attrs:{visible:e.dialogViewVisible,"process-instance-id":e.processInstanceId},on:{"update:visible":function(t){e.dialogViewVisible=t}}}):e._e()],1)},n=[],a=i("333d"),o=i("0fea"),l=i("5c96"),r=i("3579"),c={name:"FlowableTaskToRead",components:{Pagination:a["default"],ProcessDetail:r["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,processInstanceId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskDueAfter:void 0,taskDueBefore:void 0},formJson:void 0,processInstanceId:"",dialogViewVisible:!1}},created:function(){this.list()},methods:{list:function(){var e=this;Object(o["c"])("/flowable/task/listToRead",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,processInstanceId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskDueAfter:void 0,taskDueBefore:void 0},this.list()},btnRead:function(e){var t=this,i=e?[e]:this.selectedRecords.map((function(e){return e.id}));0!=i.length?Object(o["e"])("/flowable/task/read",{taskIds:i}).then((function(e){var i=e.msg;l["Message"].success(i),t.list()})):l["Message"].error("请选择要设置为已阅的记录")},btnView:function(e){this.processInstanceId=e,this.dialogViewVisible=!0},selectionChange:function(e){this.selectedRecords=e}}},d=c,u=i("2877"),p=Object(u["a"])(d,s,n,!1,null,null,null);t["default"]=p.exports},d721:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"上传文件",visible:e.dialogVisible,width:"80%","append-to-body":"","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-row",[e._v("选择文件："),i("input",{attrs:{name:"files",type:"file",multiple:e.multiple},on:{change:function(t){return e.getFiles(t)}}})]),e._v(" "),i("br"),e._v(" "),i("el-row",[e.directory?i("div",[e._v("\n      选择文件夹，遍历该文件夹下所有文件："),i("input",{attrs:{name:"files",type:"file",webkitdirectory:"",mozdirectory:""},on:{change:function(t){return e.getFiles(t)}}})]):e._e()]),e._v(" "),i("br"),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.upload}},[e._v("上传")])],1)},n=[],a=i("b775"),o={name:"UploadFileVue",data:function(){return{url:"",multiple:"single",directory:!1,dialogVisible:!1,files:[]}},methods:{show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/base/file/upload",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i&&(t="multiple"),this.url=e,this.multiple=t,this.dialogVisible=!0},getFiles:function(e){var t=e.target.files;"single"===this.multiple&&(this.files=[]);for(var i=0;i<t.length;i++)this.files.push(t[i])},handleClose:function(){this.dialogVisible=!1},upload:function(){for(var e=this,t=new FormData,i=0;i<this.files.length;i++)t.append("files",this.files[i]);a["a"].post(this.url,t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){var i=t.data;e.dialogVisible=!1,e.$emit("uploadOk",i)}))}}},l=o,r=i("2877"),c=Object(r["a"])(l,s,n,!1,null,null,null);t["default"]=c.exports},d8d0:function(e,t,i){},dca1:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:picUpDown:delete",expression:"'sys:picUpDown:delete'"}],staticClass:"filter-item",attrs:{icon:"el-icon-delete"},on:{click:function(t){return e.btnDelete()}}},[e._v("\n        批量删除\n      ")]),e._v(" "),i("el-button",{staticClass:"filter-item",attrs:{icon:"el-icon-upload"},on:{click:function(t){return e.upload()}}},[e._v("上传")])],1),e._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"图片名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.picName,callback:function(t){e.$set(e.listQuery,"picName",t)},expression:"listQuery.picName"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n        "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"图片名",prop:"picName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.picName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"图片",prop:"pic",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[e.row.picName.toLowerCase().indexOf(".png")>=0?i("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{lazy:"",alt:"图片",src:"data:image/png;base64,"+e.row.pic}}):i("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{lazy:"",alt:"图片",src:"data:image/jpg;base64,"+e.row.pic}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"MD5",prop:"md5",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.md5))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:picUpDown:delete",expression:"'sys:picUpDown:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.picUpDownId)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}})],1),e._v(" "),i("el-dialog",{attrs:{title:"上传图片",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",drag:"","show-file-list":!1,"http-request":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[i("i",{staticClass:"el-icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),i("em",[e._v("点击上传")])]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过2MB")])])],1)],1)},n=[],a=(i("6b54"),i("96cf"),i("3b8d")),o=i("333d"),l=i("0fea"),r=i("5c96"),c={name:"SysPicUpDown",components:{Pagination:o["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,dialogFormVisible:!1,listQuery:{current:1,size:10,picName:void 0}}},beforeCreate:function(){},created:function(){this.list()},methods:{list:function(){var e=this;Object(l["c"])("/sys/picUpDown/list",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},upload:function(){this.dialogFormVisible=!0},handleAvatarSuccess:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var i,s,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=new FormData,i.append("file",t.file),e.next=4,Object(l["d"])("/sys/picUpDown/uploadPic",i);case 4:s=e.sent,n=s.msg,a=s.code,200==a?(this.$message.success("上传成功"),this.dialogFormVisible=!1,this.list()):this.$message.error("上传失败:"+n);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,i=e.size/1024/1024<2;return t?i?void 0:(this.$message.error("上传图片大小不能超过 2MB!"),!1):(this.$message.error("上传图片只能是 JPG 和 Png 格式!"),!1)},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,picName:void 0},this.list()},resetTemp:function(){this.temp={}},btnDelete:function(e){var t=this,i=e?[e]:this.selectedRecords.map((function(e){return e.picUpDownId}));0!=i.length?Object(l["a"])("/sys/picUpDown/delete",{ids:i.toString()}).then((function(e){var i=e.msg;r["Message"].success(i),t.list()})):r["Message"].error("请选择要删除的记录")},selectionChange:function(e){this.selectedRecords=e}}},d=c,u=i("2877"),p=Object(u["a"])(d,s,n,!1,null,null,null);t["default"]=p.exports},e409:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("exception-page",{attrs:{type:"403"}})},n=[],a=i("0673"),o={components:{ExceptionPage:a["default"]}},l=o,r=i("2877"),c=Object(r["a"])(l,s,n,!1,null,"56e461c6",null);t["default"]=c.exports},e476:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container",staticStyle:{float:"right"}},[i("el-select",{staticClass:"filter-item",attrs:{placeholder:"日志类型"},model:{value:e.listQuery.logType,callback:function(t){e.$set(e.listQuery,"logType",t)},expression:"listQuery.logType"}},e._l(e.dicts.logType,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1),e._v(" "),i("el-select",{staticClass:"filter-item",attrs:{placeholder:"操作是否成功"},model:{value:e.listQuery.success,callback:function(t){e.$set(e.listQuery,"success",t)},expression:"listQuery.success"}},e._l(e.dicts.yesOrNo,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"用户登录名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.userId,callback:function(t){e.$set(e.listQuery,"userId",t)},expression:"listQuery.userId"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"操作用户姓名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.userName,callback:function(t){e.$set(e.listQuery,"userName",t)},expression:"listQuery.userName"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"IP地址"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.ip,callback:function(t){e.$set(e.listQuery,"ip",t)},expression:"listQuery.ip"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n      "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1),e._v(" "),i("el-button-group",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:log:save",expression:"'sys:log:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCreate}},[e._v("新增")]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sys:log:delete",expression:"'sys:log:delete'"}],staticClass:"filter-item",attrs:{icon:"el-icon-delete"},on:{click:function(t){return e.btnDelete()}}},[e._v("批量删除")])],1)],1),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"日志类型",prop:"logType",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{innerHTML:e._s(e.formatDictText(e.dicts.logType,t.row.logType))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"日志内容",prop:"logContent",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.logContent))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作用户姓名",prop:"userName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.userName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"IP",prop:"ip",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.ip))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"耗时",prop:"costTime",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.costTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作是否成功",prop:"success",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{innerHTML:e._s(e.formatDictText(e.dicts.yesOrNo,t.row.success))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作时间",prop:"createTime",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.createTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s)}}},[e._v("查看")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:log:update",expression:"'sys:log:update'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUpdate(s)}}},[e._v("修改")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"sys:log:delete",expression:"'sys:log:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.logId)}}},[e._v("删除")])],1)],1)]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}})],1),e._v(" "),i("el-dialog",{attrs:{title:"系统日志",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"auto"}},[i("el-form-item",{attrs:{label:"UUID",prop:"logId"}},[i("el-input",{attrs:{readonly:"update"===e.dialogStatus},model:{value:e.temp.logId,callback:function(t){e.$set(e.temp,"logId",t)},expression:"temp.logId"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"日志类型",prop:"logType"}},[i("el-select",{attrs:{placeholder:"日志类型"},model:{value:e.temp.logType,callback:function(t){e.$set(e.temp,"logType",t)},expression:"temp.logType"}},e._l(e.dicts.logType,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"日志内容",prop:"logContent"}},[i("el-input",{model:{value:e.temp.logContent,callback:function(t){e.$set(e.temp,"logContent",t)},expression:"temp.logContent"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"用户登录名",prop:"userId"}},[i("el-input",{model:{value:e.temp.userId,callback:function(t){e.$set(e.temp,"userId",t)},expression:"temp.userId"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"操作用户姓名",prop:"userName"}},[i("el-input",{model:{value:e.temp.userName,callback:function(t){e.$set(e.temp,"userName",t)},expression:"temp.userName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"IP地址",prop:"ip"}},[i("el-input",{model:{value:e.temp.ip,callback:function(t){e.$set(e.temp,"ip",t)},expression:"temp.ip"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"请求方法",prop:"method"}},[i("el-input",{model:{value:e.temp.method,callback:function(t){e.$set(e.temp,"method",t)},expression:"temp.method"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"请求路径",prop:"requestUrl"}},[i("el-input",{model:{value:e.temp.requestUrl,callback:function(t){e.$set(e.temp,"requestUrl",t)},expression:"temp.requestUrl"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"请求参数",prop:"requestParam"}},[i("el-input",{model:{value:e.temp.requestParam,callback:function(t){e.$set(e.temp,"requestParam",t)},expression:"temp.requestParam"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"请求类型",prop:"requestType"}},[i("el-input",{model:{value:e.temp.requestType,callback:function(t){e.$set(e.temp,"requestType",t)},expression:"temp.requestType"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"操作结果",prop:"operateResult"}},[i("el-input",{model:{value:e.temp.operateResult,callback:function(t){e.$set(e.temp,"operateResult",t)},expression:"temp.operateResult"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"耗时",prop:"costTime"}},[i("el-input",{model:{value:e.temp.costTime,callback:function(t){e.$set(e.temp,"costTime",t)},expression:"temp.costTime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"操作时间",prop:"createTime"}},[i("el-input",{model:{value:e.temp.createTime,callback:function(t){e.$set(e.temp,"createTime",t)},expression:"temp.createTime"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"view"!==e.dialogStatus?i("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("确定")]):e._e()],1)],1)],1)},n=[],a=(i("6b54"),i("333d")),o=i("0fea"),l=i("5c96"),r={name:"SysLog",components:{Pagination:a["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,logType:void 0,userId:void 0,userName:void 0,ip:void 0},dialogFormVisible:!1,dialogStatus:"",temp:{logId:void 0,logType:"",logContent:"",operateType:"",userId:"",userName:"",ip:"",method:"",requestUrl:"",requestParam:"",requestType:"",operateResult:"",costTime:""},rules:{logId:[{required:!0,message:"该项不能为空",trigger:"change"}]}}},beforeCreate:function(){var e=this;this.getDicts("logType,yesOrNo").then((function(t){var i=t.data;e.dicts=i}))},created:function(){this.list()},methods:{list:function(){var e=this;Object(o["c"])("/sys/log/list",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,logType:void 0,userId:void 0,userName:void 0,ip:void 0},this.list()},resetTemp:function(){this.temp={logId:void 0,logType:"",logContent:"",operateType:"",userId:"",userName:"",ip:"",method:"",requestUrl:"",requestParam:"",requestType:"",operateResult:"",costTime:""}},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["d"])("/sys/log/save",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(o["e"])("/sys/log/update",e.temp).then((function(t){var i=t.msg;e.dialogFormVisible=!1,l["Message"].success(i),e.list()}))}))},btnDelete:function(e){var t=this,i=e?[e]:this.selectedRecords.map((function(e){return e.logId}));0!==i.length?Object(o["a"])("/sys/log/delete",{ids:i.toString()}).then((function(e){var i=e.msg;l["Message"].success(i),t.list()})):l["Message"].error("请选择要删除的记录")},selectionChange:function(e){this.selectedRecords=e}}},c=r,d=i("2877"),u=Object(d["a"])(c,s,n,!1,null,null,null);t["default"]=u.exports},e4c8:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中"}},[i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{"margin-right":"5px"}},[i("el-card",[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[e._v("CPU")])]),e._v(" "),i("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[i("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[i("thead",[i("tr",[i("th",{staticClass:"is-leaf"},[i("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),i("th",{staticClass:"is-leaf"},[i("div",{staticClass:"cell"},[e._v("值")])])])]),e._v(" "),i("tbody",[i("tr",[i("td",[i("div",{staticClass:"cell"},[e._v("核心数")])]),e._v(" "),i("td",[e.server.cpu?i("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.cpuNum))]):e._e()])]),e._v(" "),i("tr",[i("td",[i("div",{staticClass:"cell"},[e._v("用户使用率")])]),e._v(" "),i("td",[e.server.cpu?i("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.used)+"%")]):e._e()])]),e._v(" "),i("tr",[i("td",[i("div",{staticClass:"cell"},[e._v("系统使用率")])]),e._v(" "),i("td",[e.server.cpu?i("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.sys)+"%")]):e._e()])]),e._v(" "),i("tr",[i("td",[i("div",{staticClass:"cell"},[e._v("当前空闲率")])]),e._v(" "),i("td",[e.server.cpu?i("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.free)+"%")]):e._e()])])])])])])],1)]),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-card",[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[e._v("内存")])]),e._v(" "),i("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[i("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[i("thead",[i("tr",[i("th",{staticClass:"is-leaf"},[i("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),i("th",{staticClass:"is-leaf"},[i("div",{staticClass:"cell"},[e._v("内存")])]),e._v(" "),i("th",{staticClass:"is-leaf"},[i("div",{staticClass:"cell"},[e._v("JVM")])])])]),e._v(" "),i("tbody",[i("tr",[i("td",[i("div",{staticClass:"cell"},[e._v("总内存")])]),e._v(" "),i("td",[e.server.mem?i("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.total)+"G")]):e._e()]),e._v(" "),i("td",[e.server.jvm?i("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.total)+"M")]):e._e()])]),e._v(" "),i("tr",[i("td",[i("div",{staticClass:"cell"},[e._v("已用内存")])]),e._v(" "),i("td",[e.server.mem?i("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.used)+"G")]):e._e()]),e._v(" "),i("td",[e.server.jvm?i("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.used)+"M")]):e._e()])]),e._v(" "),i("tr",[i("td",[i("div",{staticClass:"cell"},[e._v("剩余内存")])]),e._v(" "),i("td",[e.server.mem?i("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.free)+"G")]):e._e()]),e._v(" "),i("td",[e.server.jvm?i("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.free)+"M")]):e._e()])]),e._v(" "),i("tr",[i("td",[i("div",{staticClass:"cell"},[e._v("使用率")])]),e._v(" "),i("td",[e.server.mem?i("div",{staticClass:"cell",class:{"text-danger":e.server.mem.usage>80}},[e._v("\n                    "+e._s(e.server.mem.usage)+"%\n                  ")]):e._e()]),e._v(" "),i("td",[e.server.jvm?i("div",{staticClass:"cell",class:{"text-danger":e.server.jvm.usage>80}},[e._v("\n                    "+e._s(e.server.jvm.usage)+"%\n                  ")]):e._e()])])])])])])],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("div",{staticStyle:{"padding-top":"5px"}},[i("el-card",[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[e._v("服务器信息")])]),e._v(" "),i("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[i("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[i("tbody",[i("tr",[i("td",[i("div",{staticClass:"cell"},[e._v("服务器名称")])]),e._v(" "),i("td",[e.server.sys?i("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.computerName))]):e._e()]),e._v(" "),i("td",[i("div",{staticClass:"cell"},[e._v("操作系统")])]),e._v(" "),i("td",[e.server.sys?i("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.osName))]):e._e()])]),e._v(" "),i("tr",[i("td",[i("div",{staticClass:"cell"},[e._v("服务器IP")])]),e._v(" "),i("td",[e.server.sys?i("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.computerIp))]):e._e()]),e._v(" "),i("td",[i("div",{staticClass:"cell"},[e._v("系统架构")])]),e._v(" "),i("td",[e.server.sys?i("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.osArch))]):e._e()])])])])])])],1)]),e._v(" "),i("el-col",{attrs:{span:24}},[i("div",{staticStyle:{"padding-top":"5px"}},[i("el-card",[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[e._v("Java虚拟机信息")])]),e._v(" "),i("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[i("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[i("tbody",[i("tr",[i("td",[i("div",{staticClass:"cell"},[e._v("Java名称")])]),e._v(" "),i("td",[e.server.jvm?i("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.name))]):e._e()]),e._v(" "),i("td",[i("div",{staticClass:"cell"},[e._v("Java版本")])]),e._v(" "),i("td",[e.server.jvm?i("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.version))]):e._e()])]),e._v(" "),i("tr",[i("td",[i("div",{staticClass:"cell"},[e._v("启动时间")])]),e._v(" "),i("td",[e.server.jvm?i("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.startTime))]):e._e()]),e._v(" "),i("td",[i("div",{staticClass:"cell"},[e._v("运行时长")])]),e._v(" "),i("td",[e.server.jvm?i("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.runTime))]):e._e()])]),e._v(" "),i("tr",[i("td",{attrs:{colspan:"1"}},[i("div",{staticClass:"cell"},[e._v("安装路径")])]),e._v(" "),i("td",{attrs:{colspan:"3"}},[e.server.jvm?i("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.home))]):e._e()])]),e._v(" "),i("tr",[i("td",{attrs:{colspan:"1"}},[i("div",{staticClass:"cell"},[e._v("项目路径")])]),e._v(" "),i("td",{attrs:{colspan:"3"}},[e.server.sys?i("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.userDir))]):e._e()])])])])])])],1)]),e._v(" "),i("el-col",{attrs:{span:24}},[i("div",{staticStyle:{"padding-top":"5px"}},[i("el-card",[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[e._v("磁盘状态")])]),e._v(" "),i("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[i("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[i("thead",[i("tr",[i("th",{staticClass:"is-leaf"},[i("div",{staticClass:"cell"},[e._v("盘符路径")])]),e._v(" "),i("th",{staticClass:"is-leaf"},[i("div",{staticClass:"cell"},[e._v("文件系统")])]),e._v(" "),i("th",{staticClass:"is-leaf"},[i("div",{staticClass:"cell"},[e._v("盘符类型")])]),e._v(" "),i("th",{staticClass:"is-leaf"},[i("div",{staticClass:"cell"},[e._v("总大小")])]),e._v(" "),i("th",{staticClass:"is-leaf"},[i("div",{staticClass:"cell"},[e._v("可用大小")])]),e._v(" "),i("th",{staticClass:"is-leaf"},[i("div",{staticClass:"cell"},[e._v("已用大小")])]),e._v(" "),i("th",{staticClass:"is-leaf"},[i("div",{staticClass:"cell"},[e._v("已用百分比")])])])]),e._v(" "),e.server.sysFiles?i("tbody",e._l(e.server.sysFiles,(function(t){return i("tr",{key:t.dirName},[i("td",[i("div",{staticClass:"cell"},[e._v(e._s(t.dirName))])]),e._v(" "),i("td",[i("div",{staticClass:"cell"},[e._v(e._s(t.sysTypeName))])]),e._v(" "),i("td",[i("div",{staticClass:"cell"},[e._v(e._s(t.typeName))])]),e._v(" "),i("td",[i("div",{staticClass:"cell"},[e._v(e._s(t.total))])]),e._v(" "),i("td",[i("div",{staticClass:"cell"},[e._v(e._s(t.free))])]),e._v(" "),i("td",[i("div",{staticClass:"cell"},[e._v(e._s(t.used))])]),e._v(" "),i("td",[i("div",{staticClass:"cell",class:{"text-danger":t.usage>80}},[e._v(e._s(t.usage)+"%\n                    ")])])])})),0):e._e()])])])],1)])],1)],1)},n=[],a=i("0fea"),o={name:"MonitorServer",data:function(){return{loading:!1,option:{text:"拼命加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.8)"},server:[]}},created:function(){this.getServerInfo()},methods:{getServerInfo:function(){var e=this;this.loading=!0,Object(a["c"])("/sys/monitor/server/getServerInfo",{}).then((function(t){e.server=t.data,e.loading=!1}))}}},l=o,r=i("2877"),c=Object(r["a"])(l,s,n,!1,null,null,null);t["default"]=c.exports},e841:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-checkbox",{model:{value:e.listQuery.unfinished,callback:function(t){e.$set(e.listQuery,"unfinished",t)},expression:"listQuery.unfinished"}},[e._v("未办结")]),e._v(" "),i("el-checkbox",{model:{value:e.listQuery.finished,callback:function(t){e.$set(e.listQuery,"finished",t)},expression:"listQuery.finished"}},[e._v("已办结")])],1),e._v(" "),i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程定义ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processDefinitionId,callback:function(t){e.$set(e.listQuery,"processDefinitionId",t)},expression:"listQuery.processDefinitionId"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程实例ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceId,callback:function(t){e.$set(e.listQuery,"processInstanceId",t)},expression:"listQuery.processInstanceId"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程定义名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processDefinitionName,callback:function(t){e.$set(e.listQuery,"processDefinitionName",t)},expression:"listQuery.processDefinitionName"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程定义KEY"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processDefinitionKey,callback:function(t){e.$set(e.listQuery,"processDefinitionKey",t)},expression:"listQuery.processDefinitionKey"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"业务主键KEY"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.businessKey,callback:function(t){e.$set(e.listQuery,"businessKey",t)},expression:"listQuery.businessKey"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"启动人"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.startedBy,callback:function(t){e.$set(e.listQuery,"startedBy",t)},expression:"listQuery.startedBy"}}),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n      "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}}},[i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"流程实例ID",prop:"id",align:"center",width:"290px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"流程定义名称",prop:"processDefinitionName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.processDefinitionName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"流程定义KEY",prop:"processDefinitionKey",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.processDefinitionKey))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"版本",prop:"processDefinitionVersion",align:"center",width:"60px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.processDefinitionVersion))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"开始时间",prop:"startTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.startTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"结束时间",prop:"endTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.endTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnViewProcessInstance(s)}}},[e._v("查看\n            ")]),e._v(" "),i("el-dropdown-item",{attrs:{icon:"el-icon-view",divided:""},nativeOn:{click:function(t){return e.btnView(s.id)}}},[e._v("查看详情\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:task:list",expression:"'flowable:task:list'"}],attrs:{icon:"el-icon-view",divided:""},nativeOn:{click:function(t){return e.btnViewTaskList(s)}}},[e._v("任务列表\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processInstance:delete",expression:"'flowable:processInstance:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.id)}}},[e._v("删除\n            ")]),e._v(" "),i("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processInstance:delete",expression:"'flowable:processInstance:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(s.id,!0)}}},[e._v("\n              删除包含历史\n            ")])],1)],1)]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),e._v(" "),i("el-dialog",{attrs:{title:"流程实例",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{model:e.temp,disabled:"","label-position":"right","label-width":"110px"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"流程实例ID",prop:"id"}},[i("el-input",{model:{value:e.temp.id,callback:function(t){e.$set(e.temp,"id",t)},expression:"temp.id"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"业务主键Key",prop:"businessKey"}},[i("el-input",{model:{value:e.temp.businessKey,callback:function(t){e.$set(e.temp,"businessKey",t)},expression:"temp.businessKey"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"流程定义ID",prop:"processDefinitionId"}},[i("el-input",{model:{value:e.temp.processDefinitionId,callback:function(t){e.$set(e.temp,"processDefinitionId",t)},expression:"temp.processDefinitionId"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"流程定义名称",prop:"processDefinitionName"}},[i("el-input",{model:{value:e.temp.processDefinitionName,callback:function(t){e.$set(e.temp,"processDefinitionName",t)},expression:"temp.processDefinitionName"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"流程定义KEY",prop:"processDefinitionKey"}},[i("el-input",{model:{value:e.temp.processDefinitionKey,callback:function(t){e.$set(e.temp,"processDefinitionKey",t)},expression:"temp.processDefinitionKey"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"流程定义版本",prop:"processDefinitionVersion"}},[i("el-input",{model:{value:e.temp.processDefinitionVersion,callback:function(t){e.$set(e.temp,"processDefinitionVersion",t)},expression:"temp.processDefinitionVersion"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"开始时间",prop:"startTime"}},[i("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.temp.startTime,callback:function(t){e.$set(e.temp,"startTime",t)},expression:"temp.startTime"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[i("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.temp.endTime,callback:function(t){e.$set(e.temp,"endTime",t)},expression:"temp.endTime"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"启动人ID",prop:"startUserId"}},[i("el-input",{model:{value:e.temp.startUserId,callback:function(t){e.$set(e.temp,"startUserId",t)},expression:"temp.startUserId"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"启动人姓名",prop:"startUserName"}},[i("el-input",{model:{value:e.temp.startUserName,callback:function(t){e.$set(e.temp,"startUserName",t)},expression:"temp.startUserName"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"启动节点ID",prop:"startActivityId"}},[i("el-input",{model:{value:e.temp.startActivityId,callback:function(t){e.$set(e.temp,"startActivityId",t)},expression:"temp.startActivityId"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"耗时(毫秒)",prop:"durationInMillis"}},[i("el-input",{model:{value:e.temp.durationInMillis,callback:function(t){e.$set(e.temp,"durationInMillis",t)},expression:"temp.durationInMillis"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"子流程ID",prop:"superProcessInstanceId"}},[i("el-input",{model:{value:e.temp.superProcessInstanceId,callback:function(t){e.$set(e.temp,"superProcessInstanceId",t)},expression:"temp.superProcessInstanceId"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"状态",prop:"suspended"}},[null==e.temp.endTime?i("el-input",{model:{value:e.temp.suspended?"挂起":"激活",callback:function(t){e.$set(e.temp,"suspended?'挂起':'激活'",t)},expression:"temp.suspended?'挂起':'激活'"}}):i("el-input",{attrs:{value:"结束"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"删除原因",prop:"deleteReason"}},[i("el-input",{model:{value:e.temp.deleteReason,callback:function(t){e.$set(e.temp,"deleteReason",t)},expression:"temp.deleteReason"}})],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[null==e.temp.endTime?i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processInstance:suspendOrActivate",expression:"'flowable:processInstance:suspendOrActivate'"}],attrs:{icon:"el-icon-check"},on:{click:function(t){return e.btnSuspendOrActivate(e.temp.id,e.temp.suspended)}}},[e._v(e._s(e.temp.suspended?"激活":"挂起")+"\n      ")]):e._e(),e._v(" "),i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1),e._v(" "),e.dialogViewVisible?i("process-detail",{attrs:{visible:e.dialogViewVisible,"process-instance-id":e.processInstanceId},on:{"update:visible":function(t){e.dialogViewVisible=t}}}):e._e()],1)},n=[],a=i("333d"),o=i("0fea"),l=i("5c96"),r=(i("5f87"),i("3579")),c={name:"FlowableProcessInstance",components:{ProcessDetail:r["default"],Pagination:a["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,processInstanceId:void 0,processDefinitionId:void 0,processDefinitionName:void 0,processDefinitionKey:void 0,businessKey:void 0,startedBy:void 0,unfinished:!1,finished:!1},dialogFormVisible:!1,dialogImportVisible:!1,importTenantId:"",dialogProcessImageVisible:!1,processInstanceId:"",imagePath:"",temp:{id:void 0,businessKey:"",processDefinitionId:"",processDefinitionName:"",processDefinitionKey:"",processDefinitionVersion:"",startTime:void 0,endTime:void 0,durationInMillis:void 0,startUserId:"",startUserName:"",startActivityId:"",superProcessInstanceId:"",suspended:void 0,deleteReason:""},dialogViewVisible:!1}},created:function(){this.$route.query&&this.$route.query.processDefinitionId&&(this.listQuery.processDefinitionId=this.$route.query.processDefinitionId),this.list()},methods:{list:function(){var e=this;Object(o["c"])("/flowable/processInstance/list",this.listQuery).then((function(t){var i=t.data;console.info(i),e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,processInstanceId:void 0,processDefinitionId:void 0,processDefinitionName:void 0,processDefinitionKey:void 0,businessKey:void 0,startedBy:void 0,unfinished:!1,finished:!1},this.list()},btnViewProcessInstance:function(e){var t=this;Object(o["c"])("/flowable/processInstance/queryById",{processInstanceId:e.id}).then((function(e){var i=e.data;t.temp=Object.assign({},i),t.dialogFormVisible=!0}))},btnView:function(e){this.processInstanceId=e,this.dialogViewVisible=!0},btnViewTaskList:function(e){this.$router.push({path:"/flowable/task",query:{processInstanceId:e.id}})},btnDelete:function(e,t){var i=this;e?Object(o["a"])("/flowable/processInstance/delete",{processInstanceId:e,cascade:t}).then((function(e){var t=e.msg;l["Message"].success(t),i.list()})):l["Message"].error("请选择要删除的记录")},btnSuspendOrActivate:function(e,t){var i=this,s=t?"activate":"suspend";Object(o["e"])("/flowable/processInstance/"+s,{processInstanceId:e}).then((function(e){var s=e.msg;l["Message"].success(s),i.temp.suspended=!t}))}}},d=c,u=i("2877"),p=Object(u["a"])(d,s,n,!1,null,null,null);t["default"]=p.exports},ef02:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:"机构详情",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"detail-info"},[i("el-row",{staticClass:"row"},[i("el-col",{staticClass:"col",attrs:{span:12}},[e._v("机构名称："+e._s(e.info.orgName))]),e._v(" "),i("el-col",{staticClass:"col",attrs:{span:12}},[e._v("机构ID："+e._s(e.info.orgId))])],1),e._v(" "),i("el-row",{staticClass:"row"},[i("el-col",{staticClass:"col",attrs:{span:12}},[e._v("机构简称："+e._s(e.info.shortName))]),e._v(" "),i("el-col",{staticClass:"col",attrs:{span:12}},[e._v("备注："+e._s(e.info.remark))])],1)],1)])],1)},n=[],a={data:function(){return{dialogVisible:!1,info:{}}},methods:{show:function(e){this.info=e,this.dialogVisible=!0},handleClose:function(){this.dialogVisible=!1},onSubmit:function(){}}},o=a,l=(i("6241"),i("2877")),r=Object(l["a"])(o,s,n,!1,null,"5b7e4540",null);t["default"]=r.exports},ef3c:function(e,t,i){"use strict";i.r(t);i("a481");var s,n,a={created:function(){var e=this.$route,t=e.params,i=e.query,s=t.path;this.$router.replace({path:"/"+s,query:i})},render:function(e){return e()}},o=a,l=i("2877"),r=Object(l["a"])(o,s,n,!1,null,null,null);t["default"]=r.exports},f96e:function(e,t,i){"use strict";i("69eb")},fa85:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container",staticStyle:{float:"right"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"任务名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.jobName,callback:function(t){e.$set(e.listQuery,"jobName",t)},expression:"listQuery.jobName"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"任务组名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.jobGroup,callback:function(t){e.$set(e.listQuery,"jobGroup",t)},expression:"listQuery.jobGroup"}}),e._v(" "),i("el-select",{staticClass:"filter-item",attrs:{placeholder:"是否正常执行"},model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},e._l(e.dicts.yesOrNo,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1),e._v(" "),i("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[i("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n      "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1),e._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{label:"任务名称",prop:"jobName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.jobName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"任务组名",prop:"jobGroup",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.jobGroup))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"调用目标字符串",prop:"invokeTarget",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.invokeTarget))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"是否正常执行",prop:"status",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{innerHTML:e._s(e.formatDictText(e.dicts.yesOrNo,t.row.status))}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"开始时间",prop:"startTime",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.startTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"结束时间",prop:"stopTime",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.stopTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[e._v("操作"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s)}}},[e._v("查看")])],1)],1)]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-position"},[i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}})],1),e._v(" "),i("el-dialog",{attrs:{title:"定时任务执行日志",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"auto"}},[i("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[i("el-input",{model:{value:e.temp.jobName,callback:function(t){e.$set(e.temp,"jobName",t)},expression:"temp.jobName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"任务组名",prop:"jobGroup"}},[i("el-input",{model:{value:e.temp.jobGroup,callback:function(t){e.$set(e.temp,"jobGroup",t)},expression:"temp.jobGroup"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"调用目标字符串",prop:"invokeTarget"}},[i("el-input",{model:{value:e.temp.invokeTarget,callback:function(t){e.$set(e.temp,"invokeTarget",t)},expression:"temp.invokeTarget"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"日志信息",prop:"jobMessage"}},[i("el-input",{model:{value:e.temp.jobMessage,callback:function(t){e.$set(e.temp,"jobMessage",t)},expression:"temp.jobMessage"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"是否正常执行",prop:"status"}},[i("el-select",{attrs:{placeholder:"是否正常执行"},model:{value:e.temp.status,callback:function(t){e.$set(e.temp,"status",t)},expression:"temp.status"}},e._l(e.dicts.yesOrNo,(function(e,t){return i("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"异常信息",prop:"exceptionInfo"}},[i("el-input",{model:{value:e.temp.exceptionInfo,callback:function(t){e.$set(e.temp,"exceptionInfo",t)},expression:"temp.exceptionInfo"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"开始时间",prop:"startTime"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.temp.startTime,callback:function(t){e.$set(e.temp,"startTime",t)},expression:"temp.startTime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"结束时间",prop:"stopTime"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.temp.stopTime,callback:function(t){e.$set(e.temp,"stopTime",t)},expression:"temp.stopTime"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1)},n=[],a=i("333d"),o=i("0fea"),l=(i("5c96"),{name:"SysJobLog",components:{Pagination:a["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,jobName:void 0,jobGroup:void 0,status:void 0},dialogFormVisible:!1,dialogStatus:"",temp:{jobLogId:void 0,jobName:"",jobGroup:"",invokeTarget:"",jobMessage:"",status:"",exceptionInfo:"",startTime:"",stopTime:""}}},beforeCreate:function(){var e=this;this.getDicts("yesOrNo").then((function(t){var i=t.data;e.dicts=i}))},created:function(){this.list()},methods:{list:function(){var e=this;Object(o["c"])("/sys/jobLog/list",this.listQuery).then((function(t){var i=t.data;e.records=i.records,e.total=i.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,jobName:void 0,jobGroup:void 0,status:void 0},this.list()},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},selectionChange:function(e){this.selectedRecords=e}}}),r=l,c=i("2877"),d=Object(c["a"])(r,s,n,!1,null,null,null);t["default"]=d.exports}}]);