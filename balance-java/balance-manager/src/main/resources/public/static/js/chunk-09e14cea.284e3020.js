(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09e14cea"],{"00fc":function(e,t,n){"use strict";var r=n("3c19"),i=n("f189"),a=n("b49c"),s=n("1166"),o=n("dce5"),l=n("dd61"),u=["class","expression","delegateExpression"],c={"flowable:class":void 0,"flowable:expression":void 0,"flowable:delegateExpression":void 0,"flowable:resultVariable":void 0},p={"flowable:decisionRef":void 0,"flowable:decisionRefBinding":"latest","flowable:decisionRefVersion":void 0,"flowable:mapDecisionResult":"resultList","flowable:decisionRefTenantId":void 0},d={"flowable:type":void 0,"flowable:topic":void 0};e.exports=function(e,t,n,f){var m=[{value:"class",name:f("Java Class")},{value:"expression",name:f("Expression")},{value:"delegateExpression",name:f("Delegate Expression")}],v=[{value:"dmn",name:f("DMN")}],b=[{value:"external",name:f("External")}],g=[{value:"connector",name:f("Connector")}],y=[{value:"script",name:f("Script")}],h=n.getImplementationType,E=n.getBusinessObject,x=n.hasDmnSupport,w=n.hasExternalSupport,T=n.hasServiceTaskLikeSupport,P=n.hasScriptSupport,S=[],C=m.concat([]);return x&&(C=C.concat(v)),w&&(C=C.concat(b)),T&&(C=C.concat(g)),P&&(C=C.concat(y)),C.push({value:""}),S.push(r.selectBox({id:"implementation",label:f("Implementation"),selectOptions:C,modelProperty:"implType",get:function(e,t){return{implType:h(e)||""}},set:function(e,n,r){var f=E(e),m=h(e),v=n.implType,b=o({},c);if(-1!==u.indexOf(v)){var g="";-1!==u.indexOf(m)&&(g=f.get("flowable:"+m)),b["flowable:"+v]=g}x&&(b=o(b,p),"dmn"===v&&(b["flowable:decisionRef"]="")),w&&(b=o(b,d),"external"===v&&(b["flowable:type"]="external",b["flowable:topic"]="")),P&&(b["flowable:script"]=void 0,"script"===v&&(b["flowable:script"]=s.createElement("flowable:Script",{},f,t)));var y=[];if(y.push(i.updateBusinessObject(e,f,b)),T){var S=a.getExtensionElements(f,"flowable:Connector");if(y.push(l(S,(function(t){return a.removeEntry(f,e,t)}))),"connector"===v){var C=f.get("extensionElements");C||(C=s.createElement("bpmn:ExtensionElements",{values:[]},f,t),y.push(i.updateBusinessObject(e,f,{extensionElements:C})));var O=s.createElement("flowable:Connector",{},C,t);y.push(i.addAndRemoveElementsFromList(e,C,"values","extensionElements",[O],[]))}}return y}})),S}},"01fe":function(e,t,n){"use strict";n("ac6a");var r=n("af57");e.exports=function(e,t,n,i){var a=r(t,n,{},i);return e.entries=e.entries.concat(a.entries),{getSelectedListener:a.getSelectedListener}}},"09c9":function(e,t,n){"use strict";var r=n("3c19"),i=n("f189"),a=["class","expression","delegateExpression"],s={class:"flowable:class",expression:"flowable:expression",delegateExpression:"flowable:delegateExpression"};function o(e){return-1!==a.indexOf(e)}function l(e){return s[e]}e.exports=function(e,t,n,a){var s=n.getImplementationType,u=n.getBusinessObject;function c(e){switch(e){case"class":return a("Java Class");case"expression":return a("Expression");case"delegateExpression":return a("Delegate Expression");default:return""}}var p=r.textField({id:"delegate",label:a("Value"),dataValueLabel:"delegationLabel",modelProperty:"delegate",get:function(e,t){var n=u(e),r=s(e),i=l(r),a=c(r);return{delegate:n.get(i),delegationLabel:a}},set:function(e,t,n){var r=u(e),a=s(e),o=l(a),c={};return c[o]=t.delegate||"",i.updateBusinessObject(e,r,c)},validate:function(e,t,n){return o(s(e))&&!t.delegate?{delegate:a("Must provide a value")}:{}},hidden:function(e,t){return!o(s(e))}});return[p]}},"0c3e":function(e,t,n){"use strict";n("ac6a");var r=n("7a6b").is,i=n("7a6b").getBusinessObject,a=n("77c6"),s=n("8100");function o(e){var t=a.getServiceTaskLikeBusinessObject(e);return t||(t=i(e)),t}e.exports=function(e,t,n,i){var a=o(t);a&&(r(a,"flowable:TaskPriorized")||r(a,"bpmn:Participant")&&a.get("processRef"))&&(e.entries=e.entries.concat(s(t,n,{getBusinessObject:function(e){return r(a,"bpmn:Participant")?a.get("processRef"):a}},i)))}},"0d97":function(e,t,n){"use strict";n("7f7f"),n("ac6a"),n("456d");var r=n("26ac").findExtension,i=n("26ac").findExtensions,a=n("7721").createFlowableProperty,s=n("7721").createInputParameter,o=n("7721").createOutputParameter,l=n("7721").createFlowableIn,u=n("7721").createFlowableOut,c=n("7721").createFlowableInWithBusinessKey,p=n("7721").createFlowableExecutionListenerScript,d=n("7721").createFlowableFieldInjection,f=n("6cd4"),m=["flowable:class","flowable:delegateExpression","flowable:expression"];function v(e,t,n){function a(t){var r=t.businessObject,i=r.extensionElements;return i||(i=n.create("bpmn:ExtensionElements",{values:[]}),e.updateProperties(t,{extensionElements:i})),i}function s(t,n){e.updateProperties(t,{"flowable:modelerTemplate":n&&n.id})}function o(e,i,s){var o,l=h(i,n);l&&(s?t.execute("properties-panel.update-businessobject",{element:e,businessObject:s,properties:{inputOutput:l}}):(s=a(e),o=r(e,"flowable:InputOutput"),t.execute("properties-panel.update-businessobject-list",{element:e,currentObject:s,propertyName:"values",objectsToAdd:[l],objectsToRemove:o?[o]:[]})))}function l(e,r,s){var o,l=g(r,n);l&&(s?t.execute("properties-panel.update-businessobject",{element:e,businessObject:s,properties:{field:l}}):(s=a(e),o=i(e,["flowable:Field"]),t.execute("properties-panel.update-businessobject-list",{element:e,currentObject:s,propertyName:"values",objectsToAdd:l,objectsToRemove:o||[]})))}function u(e,i,s){var o,l=y(i,n);l&&(s?t.execute("properties-panel.update-businessobject",{element:e,businessObject:s,properties:{properties:l}}):(s=a(e),o=r(e,"flowable:Properties"),t.execute("properties-panel.update-businessobject-list",{element:e,currentObject:s,propertyName:"values",objectsToAdd:[l],objectsToRemove:o?[o]:[]})))}function c(r,i,a){var s=b(i,n),o=Object.keys(s).length;o&&(a?t.execute("properties-panel.update-businessobject",{element:r,businessObject:a,properties:s}):e.updateProperties(r,s))}function p(e,r,s){var o,l=E(r,n);l&&(s?t.execute("properties-panel.update-businessobject",{element:e,businessObject:s,properties:{inout:l}}):(s=a(e),o=i(s,["flowable:In","flowable:Out"]),t.execute("properties-panel.update-businessobject-list",{element:e,currentObject:s,propertyName:"values",objectsToAdd:l,objectsToRemove:o})))}function d(e,r,s){var o,l=x(r,n);l.length&&(s?t.execute("properties-panel.update-businessobject",{element:e,businessObject:s,properties:{executionListener:l}}):(s=a(e),o=i(s,["flowable:ExecutionListener"]),t.execute("properties-panel.update-businessobject-list",{element:e,currentObject:s,propertyName:"values",objectsToAdd:l,objectsToRemove:o})))}function m(e,i,s){var f=n.create(i);o(e,s,f),l(e,s,f),u(e,s,f),c(e,s,f),p(e,s,f),d(e,s,f);var m=a(e),v=r(m,i);t.execute("properties-panel.update-businessobject-list",{element:e,currentObject:m,propertyName:"values",objectsToAdd:[f],objectsToRemove:v?[v]:[]})}this.preExecute=function(e){var t=e.element,n=e.newTemplate;s(t,n),n&&(o(t,n),l(t,n),u(t,n),c(t,n),p(t,n),d(t,n),f(n.scopes,(function(e,n){m(t,n,e)})))}}function b(e,t){var n={};return e.properties.forEach((function(e){var r,i=e.binding,a=i.name;"property"===i.type&&(r="conditionExpression"===a?t.create("bpmn:FormalExpression",{body:e.value,language:i.scriptFormat}):e.value,n[a]=r,-1!==m.indexOf(a)&&m.forEach((function(e){e!==a&&(n[e]=void 0)})))})),n}function g(e,t){var n=[];if(e.properties.forEach((function(e){var r=e.binding,i=r.type;"flowable:field"===i&&n.push(d(r,e.value,t))})),n.length)return n}function y(e,t){var n=[];if(e.properties.forEach((function(e){var r=e.binding,i=r.type;"flowable:property"===i&&n.push(a(r,e.value,t))})),n.length)return t.create("flowable:Properties",{values:n})}function h(e,t){var n=[],r=[];if(e.properties.forEach((function(e){var i=e.binding,a=i.type;"flowable:inputParameter"===a&&n.push(s(i,e.value,t)),"flowable:outputParameter"===a&&r.push(o(i,e.value,t))})),r.length||n.length)return t.create("flowable:InputOutput",{inputParameters:n,outputParameters:r})}function E(e,t){var n=[];return e.properties.forEach((function(e){var r=e.binding,i=r.type;"flowable:in"===i?n.push(l(r,e.value,t)):"flowable:out"===i?n.push(u(r,e.value,t)):"flowable:in:businessKey"===i&&n.push(c(r,e.value,t))})),n}function x(e,t){var n=[];return e.properties.forEach((function(e){var r=e.binding,i=r.type;"flowable:executionListener"===i&&n.push(p(r,e.value,t))})),n}v.$inject=["modeling","commandStack","bpmnFactory"],e.exports=v},"0f1e":function(e,t,n){"use strict";n("ac6a");var r=n("3c19"),i=n("f189"),a=n("7a6b").is,s=n("7a6b").getBusinessObject;e.exports=function(e,t,n){var o=s(t);if(o&&(a(t,"bpmn:Process")||a(t,"bpmn:Participant")&&o.get("processRef"))){var l=r.textField({id:"versionTag",label:n("Version Tag"),modelProperty:"versionTag"});a(t,"bpmn:Participant")&&(l.get=function(e){var t=o.get("processRef");return{versionTag:t.get("flowable:versionTag")}},l.set=function(e,t){var n=o.get("processRef");return i.updateBusinessObject(e,n,{"flowable:versionTag":t.versionTag||void 0})}),e.entries.push(l)}}},1009:function(e,t,n){"use strict";var r=n("3c19"),i=n("f189");e.exports=function(e,t,n,a){var s=n.getImplementationType,o=n.getBusinessObject;function l(e){return"external"===s(e)}var u=r.textField({id:"externalTopic",label:a("Topic"),modelProperty:"externalTopic",get:function(e,t){var n=o(e);return{externalTopic:n.get("flowable:topic")}},set:function(e,t,n){var r=o(e);return i.updateBusinessObject(e,r,{"flowable:topic":t.externalTopic})},validate:function(e,t,n){return l(e)&&!t.externalTopic?{externalTopic:a("Must provide a value")}:{}},hidden:function(e,t){return!l(e)}});return[u]}},"12ca":function(e,t,n){"use strict";n("ac6a");var r=n("7a6b").is,i=n("145d").isAny,a=n("7a6b").getBusinessObject,s=n("a8e8").escapeHTML,o=n("e506").query,l=n("f189"),u=n("1166"),c=n("6abd"),p=n("1bb8");e.exports=function(e,t,n,i){var d=a(t);if(d){var m=c.getConditionalEventDefinition(t);if(r(t,"bpmn:SequenceFlow")&&f(t.source)||m){var v=p("language","body",!0,i);e.entries.push({id:"condition",label:i("Condition"),html:'<div class="bpp-row"><label for="cam-condition-type">'+s(i("Condition Type"))+'</label><div class="bpp-field-wrapper"><select class="el-select" id="cam-condition-type" name="conditionType" data-value><option value="expression">'+s(i("Expression"))+'</option><option value="script">'+s(i("Script"))+'</option><option value="" selected></option></select></div></div><div class="bpp-row"><label for="cam-condition" data-show="isExpression">'+s(i("Expression"))+'</label><div class="bpp-field-wrapper" data-show="isExpression"><input class="el-input" id="cam-condition" type="text" name="condition" /><button class="clear" data-action="clear" data-show="canClear"><span>X</span></button></div><div data-show="isScript">'+v.template+"</div></div>",get:function(e,t){var n=c.getConditionalEventDefinition(e),r=n?n.condition:d.conditionExpression,i={},a="";if(r){var s=r.language;"undefined"!==typeof s?(a="script",i=v.get(e,r)):(a="expression",i.condition=r.get("body"))}return i.conditionType=a,i},set:function(e,t,r){var i,a=t.conditionType,s=[],o={body:void 0};if("script"===a)o=v.set(e,t,r);else{var c=t.condition;o.body=c}if(a){i=u.createElement("bpmn:FormalExpression",o,m||d,n);var p=e.source;p&&p.businessObject.default===d&&s.push(l.updateProperties(p,{default:void 0}))}var f=m?{condition:i}:{conditionExpression:i};return s.push(l.updateBusinessObject(e,m||d,f)),s},validate:function(e,t){var n={};return t.condition||"expression"!==t.conditionType?"script"===t.conditionType&&(n=v.validate(e,t)):n.condition=i("Must provide a value"),n},isExpression:function(e,t){var n=o("select[name=conditionType]",t);if(n.selectedIndex>=0)return"expression"===n.options[n.selectedIndex].value},isScript:function(e,t){var n=o("select[name=conditionType]",t);if(n.selectedIndex>=0)return"script"===n.options[n.selectedIndex].value},clear:function(e,t){return o("input[name=condition]",t).value="",!0},canClear:function(e,t){var n=o("input[name=condition]",t);return""!==n.value},script:v,cssClasses:["bpp-textfield"]})}}};var d=["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:ComplexGateway"];function f(e){return i(e,d)}},"16c9":function(e,t,n){"use strict";n("ac6a");var r=n("7a6b").getBusinessObject,i=n("7a6b").is,a=n("3c19"),s=n("980e"),o=n("f189"),l=n("991b"),u=n("dce5");function c(e){var t=r(e),n=t.get("calledElement"),i=t.get("flowable:caseRef"),a="";return"undefined"!==typeof n?a="bpmn":"undefined"!==typeof i&&(a="cmmn"),a}var p={calledElement:void 0,"flowable:calledElementBinding":"latest","flowable:calledElementVersion":void 0,"flowable:calledElementTenantId":void 0,"flowable:variableMappingClass":void 0,"flowable:variableMappingDelegateExpression":void 0,"flowable:caseRef":void 0,"flowable:caseBinding":"latest","flowable:caseVersion":void 0,"flowable:caseTenantId":void 0};e.exports=function(e,t,n,r){i(t,"flowable:CallActivity")&&(e.entries.push(a.selectBox({id:"callActivity",label:r("CallActivity Type"),selectOptions:[{name:"BPMN",value:"bpmn"},{name:"CMMN",value:"cmmn"}],emptyParameter:!0,modelProperty:"callActivityType",get:function(e,t){return{callActivityType:c(e)}},set:function(e,t,n){var r=t.callActivityType,i=u({},p);return"bpmn"===r?i.calledElement="":"cmmn"===r&&(i["flowable:caseRef"]=""),o.updateProperties(e,i)}})),e.entries.push(s(t,n,{getCallableType:c},r)),e.entries=l(e.entries))}},"17a1":function(e,t,n){"use strict";n("ac6a");var r=n("3ff1");function i(){this._templates={},this.set=function(e){var t=this._templates={};return e.forEach((function(e){t[e.id]=e})),this},this.get=function(e){return this._templates[e]},this.getAll=function(){return r(this._templates)}}e.exports=i},1920:function(e,t,n){"use strict";n("7f7f");var r=n("a8e8").escapeHTML,i=n("e506").query,a=n("ab24"),s=function(e,t){var n=function(t,n){var r=i('input[name="'+e.modelProperty+'"]',n);return r.value="",!0},s=function(t,n){var r=i('input[name="'+e.modelProperty+'"]',n);return""!==r.value},o=t,l=e.label||o.id,u=e.dataValueLabel,c=e.buttonLabel||"X",p="undefined"!==typeof e.buttonAction?e.buttonAction.name:"clear",d="undefined"!==typeof e.buttonAction?e.buttonAction.method:n,f="undefined"!==typeof e.buttonShow?e.buttonShow.name:"canClear",m="undefined"!==typeof e.buttonShow?e.buttonShow.method:s,v=!!e.disabled&&"function"===typeof e.disabled,b=!!e.hidden&&"function"===typeof e.hidden,g=e.description;return o.html='<label for="'+r(o.id)+'" '+(v?'data-disable="isDisabled" ':"")+(b?'data-show="isHidden" ':"")+(u?'data-value="'+r(u)+'"':"")+">"+r(l)+'</label><div class="bpp-field-wrapper" '+(v?'data-disable="isDisabled"':"")+(b?'data-show="isHidden"':"")+'><input id="'+r(o.id)+'-h"  style="width:80px;display:inline" type="number" min="0" value="0" name="'+r(e.modelProperty)+'-h" '+(v?'data-disable="isDisabled"':"")+(b?'data-show="isHidden"':"")+' />小时<input id="'+r(o.id)+'-m" style="width:80px;display:inline" type="number" min="0" max="59" value="0" name="'+r(e.modelProperty)+'-m" '+(v?'data-disable="isDisabled"':"")+(b?'data-show="isHidden"':"")+' />分钟<input id="'+r(o.id)+'" style="display:none" type="text" name="'+r(e.modelProperty)+'" '+(v?'data-disable="isDisabled"':"")+(b?'data-show="isHidden"':"")+' /><button class="'+r(p)+'" data-action="'+r(p)+'" data-show="'+r(f)+'" '+(v?'data-disable="isDisabled"':"")+(b?' data-show="isHidden"':"")+"><span>"+r(c)+"</span></button></div>",g&&(o.html+=a(g)),o[p]=d,o[f]=m,v&&(o.isDisabled=function(){return e.disabled.apply(o,arguments)}),b&&(o.isHidden=function(){return!e.hidden.apply(o,arguments)}),o.cssClasses=["bpp-textfield"],o};e.exports=s},"19d0":function(e,t,n){"use strict";var r=n("6cd4");function i(e){this._commandStack=e}i.$inject=["commandStack"],e.exports=i,i.prototype.preExecute=function(e){var t=this._commandStack;r(e,(function(e){t.execute(e.cmd,e.context)}))}},"1a54":function(e,t,n){"use strict";var r=n("7a6b").getBusinessObject,i=n("f189"),a=n("a8e8").escapeHTML,s=n("ab24"),o=function(e,t){var n=t,o=n.id,l=e.label||o,u=!!e.disabled&&"function"===typeof e.disabled,c=!!e.hidden&&"function"===typeof e.hidden,p=e.description;return n.html='<input id="flowable-'+a(o)+'" type="checkbox" name="'+a(e.modelProperty)+'" '+(u?'data-disable="isDisabled"':"")+(c?'data-show="isHidden"':"")+' /><label for="flowable-'+a(o)+'" '+(u?'data-disable="isDisabled"':"")+(c?'data-show="isHidden"':"")+">"+a(l)+"</label>",p&&(n.html+=s(p)),n.get=function(t){var n=r(t),i={};return i[e.modelProperty]=n.get(e.modelProperty),i},n.set=function(t,n){var r={};return r[e.modelProperty]=!!n[e.modelProperty],i.updateProperties(t,r)},"function"===typeof e.set&&(n.set=e.set),"function"===typeof e.get&&(n.get=e.get),u&&(n.isDisabled=function(){return e.disabled.apply(n,arguments)}),c&&(n.isHidden=function(){return!e.hidden.apply(n,arguments)}),n.cssClasses=["bpp-checkbox"],n};e.exports=o},"1b9c":function(e,t,n){"use strict";n("ac6a");var r=n("7a6b").is,i=n("3c19"),a=(n("f189"),n("7a6b").getBusinessObject,n("ca00").getDicts);e.exports=function(e,t,n){r(t,"flowable:Assignable")&&(e.entries.push(i.selectBox({id:"category",label:n("Category"),selectOptions:function(e){return new Promise((function(e){a("taskCategory").then((function(t){var n=[];t.data.taskCategory.forEach((function(e){if(e&&e.value){var t={value:e.value,name:e.content};n.push(t)}})),e(n)}))}))},modelProperty:"category"})),e.entries.push(i.textField({id:"assignee",label:n("Assignee"),modelProperty:"assignee"})),e.entries.push(i.textField({id:"candidateUsers",label:n("Candidate Users"),modelProperty:"candidateUsers"})),e.entries.push(i.textField({id:"candidateGroups",label:n("Candidate Groups"),modelProperty:"candidateGroups"})),e.entries.push(i.textField({id:"dueDate",description:n("The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)"),label:n("Due Date"),modelProperty:"dueDate"})),e.entries.push(i.textField({id:"followUpDate",description:n("The follow up date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)"),label:n("Follow Up Date"),modelProperty:"followUpDate"})),e.entries.push(i.textField({id:"priority",label:n("Priority"),modelProperty:"priority"})))}},"1bb8":function(e,t,n){"use strict";var r=n("e506").query,i=n("a8e8").escapeHTML,a=n("a8e8");function s(e){return a.selectedType("select[name=scriptType]",e.parentElement)}e.exports=function(e,t,n,a){return{template:'<div class="bpp-row bpp-textfield"><label for="cam-script-format">'+i(a("Script Format"))+'</label><div class="bpp-field-wrapper"><input id="cam-script-format" type="text" name="scriptFormat" /><button class="clear" data-action="script.clearScriptFormat" data-show="script.canClearScriptFormat"><span>X</span></button></div></div><div class="bpp-row"><label for="cam-script-type">'+i(a("Script Type"))+'</label><div class="bpp-field-wrapper"><select id="cam-script-type" name="scriptType" data-value><option value="script" selected>'+i(a("Inline Script"))+'</option><option value="scriptResource">'+i(a("External Resource"))+'</option></select></div></div><div class="bpp-row bpp-textfield"><label for="cam-script-resource-val" data-show="script.isScriptResource">'+i(a("Resource"))+'</label><div class="bpp-field-wrapper" data-show="script.isScriptResource"><input id="cam-script-resource-val" type="text" name="scriptResourceValue" /><button class="clear" data-action="script.clearScriptResource" data-show="script.canClearScriptResource"><span>X</span></button></div></div><div class="bpp-row"><label for="cam-script-val" data-show="script.isScript">'+i(a("Script"))+'</label><div class="bpp-field-wrapper" data-show="script.isScript"><textarea id="cam-script-val" type="text" name="scriptValue"></textarea></div></div>',get:function(n,r){var i={},a=r.get("flowable:resource"),s=r.get(t),o=r.get(e);return"undefined"!==typeof a?(i.scriptResourceValue=a,i.scriptType="scriptResource"):(i.scriptValue=s,i.scriptType="script"),i.scriptFormat=o,i},set:function(r,i,a){var s=i.scriptFormat,o=i.scriptType,l=i.scriptResourceValue,u=i.scriptValue,c={"flowable:resource":void 0};return c[t]=void 0,c[e]=void 0,n?c[e]=s||"":""!==s&&(c[e]=s),"scriptResource"===o?c["flowable:resource"]=l||"":c[t]=u||"",c},validate:function(e,t){var r={};return"script"!==t.scriptType||t.scriptValue||(r.scriptValue=a("Must provide a value")),"scriptResource"!==t.scriptType||t.scriptResourceValue||(r.scriptResourceValue=a("Must provide a value")),!n||t.scriptFormat&&0!==t.scriptFormat.length||(r.scriptFormat=a("Must provide a value")),r},clearScriptFormat:function(e,t,n,i){return r("input[name=scriptFormat]",i).value="",!0},canClearScriptFormat:function(e,t,n,i){var a=r("input[name=scriptFormat]",i);return""!==a.value},clearScriptResource:function(e,t,n,i){return r("input[name=scriptResourceValue]",i).value="",!0},canClearScriptResource:function(e,t,n,i){var a=r("input[name=scriptResourceValue]",i);return""!==a.value},clearScript:function(e,t,n,i){return r("textarea[name=scriptValue]",i).value="",!0},canClearScript:function(e,t,n,i){var a=r("textarea[name=scriptValue]",i);return""!==a.value},isScriptResource:function(e,t,n,r){var i=s(r);return"scriptResource"===i},isScript:function(e,t,n,r){var i=s(r);return"script"===i}}}},"1d89":function(e,t,n){"use strict";var r=n("7a6b"),i=r.is,a=r.getBusinessObject,s=n("b49c"),o=n("77c6"),l={};function u(e,t,n){var r=s.getExtensionElements(e,t)||[];return n?(r[0]||{})[n]||[]:r}function c(e,t,n){var r=l.getInputOutput(e,n);return r&&r.get(t)||[]}e.exports=l,l.getInputOutput=function(e,t){if(!t){var n=a(e);return(u(n,"flowable:InputOutput")||[])[0]}var r=this.getConnector(e);return r&&r.get("inputOutput")},l.getConnector=function(e){var t=o.getServiceTaskLikeBusinessObject(e);return t&&(u(t,"flowable:Connector")||[])[0]},l.getInputParameters=function(e,t){return c.apply(this,[e,"inputParameters",t])},l.getOutputParameters=function(e,t){return c.apply(this,[e,"outputParameters",t])},l.getInputParameter=function(e,t,n){return this.getInputParameters(e,t)[n]},l.getOutputParameter=function(e,t,n){return this.getOutputParameters(e,t)[n]},l.isInputOutputSupported=function(e,t){if(t)return!0;var n=a(e);return i(n,"bpmn:FlowNode")&&!(i(n,"bpmn:StartEvent")||i(n,"bpmn:Gateway")||i(n,"bpmn:BoundaryEvent")||i(n,"bpmn:SubProcess")&&n.get("triggeredByEvent"))},l.areOutputParametersSupported=function(e,t){var n=a(e);return t||!i(n,"bpmn:EndEvent")&&!n.loopCharacteristics}},2152:function(e,t,n){"use strict";var r=n("7a6b").getBusinessObject,i=n("e506").query,a=n("e506").closest,s=n("e506").domify,o=n("6cd4"),l=n("1166"),u=n("f189"),c=n("a8e8"),p=c.escapeHTML;function d(e,t){var n=a(e,"div.bpp-properties-tab"),r="select[name=selectedExtensionElement]"+(t?"[id=cam-extensionElements-"+t+"]":"");return i(r,n)}function f(e,t){var n=d(e,t);return{value:(n||{}).value,idx:(n||{}).selectedIndex}}function m(e){return e+="_",c.nextId(e)}var v="create-extension-element",b="remove-extension-element";e.exports=function(e,t,n,i){var a=n.id,c=n.prefix||"elem",g=n.label||a,y=!1!==n.idGeneration||n.idGeneration,h=n.businessObject||r(e),E=n.modelProperty||"id",x=n.getExtensionElements,w=n.createExtensionElement,T="function"===typeof w,P=n.removeExtensionElement,S="function"===typeof P,C=n.onSelectionChange,O=n.hideExtensionElements,A="function"===typeof O,B=n.setOptionLabelValue,j=n.size||5,I=n.resizable,D=n.reference||void 0,L=function(e,t,n,r){if("function"===typeof C)return C(e,t,n,r)},F=function(e){return'<option value="'+p(e)+'" data-value data-name="extensionElementValue">'+p(e)+"</option>"},k=function(e,t){I&&(e.size=t>j?t:j)};return{id:a,html:'<div class="bpp-row bpp-element-list" '+(A?'data-show="hideElements"':"")+'><label for="cam-extensionElements-'+p(a)+'">'+p(g)+'</label><div class="bpp-field-wrapper"><select id="cam-extensionElements-'+p(a)+'"name="selectedExtensionElement" size="'+p(j)+'" data-list-entry-container data-on-change="selectElement"></select>'+(T?'<button class="add" id="cam-extensionElements-create-'+p(a)+'" data-action="createElement"><span>+</span></button>':"")+(S?'<button class="clear" id="cam-extensionElements-remove-'+p(a)+'" data-action="removeElement" data-disable="disableRemove"><span>-</span></button>':"")+"</div></div>",get:function(e,t){var n=x(e,t),r=[];o(n,(function(e){r.push({extensionElementValue:e.get(E)})}));var i=d(t.parentNode,a);return k(i,r.length),r},set:function(e,n,i){var a=this.__action;delete this.__action,h=h||r(e);var s=D&&h.get(D)?h.get(D):h,o=s.get("extensionElements");if(a.id===v){var c=[];return o||(o=l.createElement("bpmn:ExtensionElements",{values:[]},s,t),c.push(u.updateBusinessObject(e,s,{extensionElements:o}))),c.push(w(e,o,a.value,i)),c}if(a.id===b)return P(e,o,a.value,a.idx,i)},createListEntryTemplate:function(e,t,n){return k(n,n.options.length+1),F(e.extensionElementValue)},deselect:function(e,t){var n=d(t,a);n.selectedIndex=-1},getSelected:function(e,t){return f(t,a)},setControlValue:function(e,t,n,r,i,a){t.value=i,B?B(e,t,n,r,i,a):t.text=i},createElement:function(e,t){var n;y&&(n=m(c));var r=d(t,a),i=s(F(n));return r.appendChild(i),r.lastChild.selected="selected",L(e,t),k(r,r.options.length),this.__action={id:v,value:n},!0},removeElement:function(e,t){var n=f(t,a),r=d(t,a);return r.removeChild(r.options[n.idx]),k(r,r.options.length),this.__action={id:b,value:n.value,idx:n.idx},!0},hideElements:function(e,t,n,r){return!O(e,t,n,r)},disableRemove:function(e,t,n,r){return(f(t,a)||{}).idx<0},selectElement:L}}},"23ce":function(e,t,n){},2684:function(e,t,n){"use strict";n("ac6a"),n("7f7f");var r=n("7a6b").is,i=n("1166"),a=n("1d89"),s=n("f189"),o=n("a8e8"),l=n("3c19"),u=n("1bb8");function c(e,t,n,r){return i.createElement(e,r,t,n)}function p(e){return r(e,"flowable:Script")}function d(e){return r(e,"flowable:List")}function f(e){return r(e,"flowable:Map")}function m(e,t){return a.isInputOutputSupported(e,t)}e.exports=function(e,t,n,r){var i={"flowable:Map":{value:"map",label:r("Map")},"flowable:List":{value:"list",label:r("List")},"flowable:Script":{value:"script",label:r("Script")}};n=n||{};var a=!!n.insideConnector,v=n.idPrefix||"",b=n.getSelectedParameter;if(!m(e,a))return[];var g=[],y=function(e,t){return b(e,t)};g.push(l.validationAwareTextField({id:v+"parameterName",label:r("Name"),modelProperty:"name",getProperty:function(e,t){return(b(e,t)||{}).name},setProperty:function(e,t,n){var r=b(e,n);return s.updateBusinessObject(e,r,t)},validate:function(e,t,n){var i=b(e,n),a={};if(i){var s=t.name;s?o.containsSpace(s)&&(a.name=r("Name must not contain spaces")):a.name=r("Parameter must have a name")}return a},hidden:function(e,t){return!y(e,t)}}));var h=[{value:"text",name:r("Text")},{value:"script",name:r("Script")},{value:"list",name:r("List")},{value:"map",name:r("Map")}];g.push(l.selectBox({id:v+"parameterType",label:r("Type"),selectOptions:h,modelProperty:"parameterType",get:function(e,t){var n=b(e,t),r="text";if("undefined"!==typeof n){var a=n.get("definition");if("undefined"!==typeof a){var s=a.$type;r=i[s].value}}return{parameterType:r}},set:function(e,n,r){var i=b(e,r),a={value:void 0,definition:void 0},o=function(e){return c(e,i,t)},l=n.parameterType;return"script"===l?a.definition=o("flowable:Script"):"list"===l?a.definition=o("flowable:List"):"map"===l&&(a.definition=o("flowable:Map")),s.updateBusinessObject(e,i,a)},show:function(e,t){return y(e,t)}})),g.push(l.textBox({id:v+"parameterType-text",label:r("Value"),modelProperty:"value",get:function(e,t){return{value:(b(e,t)||{}).value}},set:function(e,t,n){var r=b(e,n);return t.value=t.value||void 0,s.updateBusinessObject(e,r,t)},show:function(e,t){var n=b(e,t);return n&&!n.definition}}));var E=u("scriptFormat","value",!0,r);return g.push({id:v+"parameterType-script",html:'<div data-show="isScript">'+E.template+"</div>",get:function(e,t){var n=b(e,t);return n&&p(n.definition)?E.get(e,n.definition):{}},set:function(e,t,n){var r=b(e,n),i=E.set(e,t);return s.updateBusinessObject(e,r.definition,i)},validate:function(e,t,n){var r=b(e,n);return r&&p(r.definition)?E.validate(e,r.definition):{}},isScript:function(e,t){var n=b(e,t);return n&&p(n.definition)},script:E}),g.push(l.table({id:v+"parameterType-list",modelProperties:["value"],labels:[r("Value")],addLabel:r("Add Value"),getElements:function(e,t){var n=b(e,t);return n&&d(n.definition)?n.definition.items:[]},updateElement:function(e,t,n,r){var i=b(e,n),a=i.definition.items[r];return s.updateBusinessObject(e,a,t)},addElement:function(e,n){var r=b(e,n),i=c("flowable:Value",r.definition,t,{value:void 0});return s.addElementsTolist(e,r.definition,"items",[i])},removeElement:function(e,t,n){var r=b(e,t);return s.removeElementsFromList(e,r.definition,"items",null,[r.definition.items[n]])},editable:function(e,t,n,r){var i=b(e,t),a=i.definition.items[r];return!f(a)&&!d(a)&&!p(a)},setControlValue:function(e,t,n,r,a,s){var o=b(e,t),l=o.definition.items[s];f(l)||d(l)||p(l)?n.value=i[l.$type].label:n.value=a},show:function(e,t){var n=b(e,t);return n&&n.definition&&d(n.definition)}})),g.push(l.table({id:v+"parameterType-map",modelProperties:["key","value"],labels:[r("Key"),r("Value")],addLabel:r("Add Entry"),getElements:function(e,t){var n=b(e,t);return n&&f(n.definition)?n.definition.entries:[]},updateElement:function(e,t,n,r){var i=b(e,n),a=i.definition.entries[r];return(f(a.definition)||d(a.definition)||p(a.definition))&&(t={key:t.key}),s.updateBusinessObject(e,a,t)},addElement:function(e,n){var r=b(e,n),i=c("flowable:Entry",r.definition,t,{key:void 0,value:void 0});return s.addElementsTolist(e,r.definition,"entries",[i])},removeElement:function(e,t,n){var r=b(e,t);return s.removeElementsFromList(e,r.definition,"entries",null,[r.definition.entries[n]])},editable:function(e,t,n,r){var i=b(e,t),a=i.definition.entries[r];return"key"===n||!f(a.definition)&&!d(a.definition)&&!p(a.definition)},setControlValue:function(e,t,n,r,a,s){var o=b(e,t),l=o.definition.entries[s];"key"!==r&&(f(l.definition)||d(l.definition)||p(l.definition))?n.value=i[l.definition.$type].label:n.value=a},show:function(e,t){var n=b(e,t);return n&&n.definition&&f(n.definition)}})),g}},"26ac":function(e,t,n){"use strict";n("7f7f");var r=n("7a6b").getBusinessObject,i=n("7a6b").is,a=n("145d").isAny,s=n("2769"),o="flowable:modelerTemplate";function l(e){var t=r(e);if(t)return t.get(o)}function u(e,t){var n=l(e);return n&&t.get(n)}function c(e,t){return t.getAll().filter((function(t){return a(e,t.appliesTo)&&t.isDefault}))[0]}function p(e,t){var n,a=r(e);return n=i(a,"bpmn:ExtensionElements")?a:a.extensionElements,n?s(n.get("values"),(function(e){return i(e,t)})):null}function d(e,t){var n=g(e);return n?n.get("values").filter((function(e){return a(e,t)})):[]}function f(e,t){var n,r=g(e);if(r)return"flowable:in"===t.type?n=function(e){return i(e,"flowable:In")&&y(e,t)}:"flowable:out"===t.type?n=function(e){return i(e,"flowable:Out")&&y(e,t)}:"flowable:in:businessKey"===t.type&&(n=function(e){return i(e,"flowable:In")&&"businessKey"in e}),s(r.get("values"),n)}function m(e,t){return s(e.get("values"),(function(e){return e.name===t.name}))}function v(e,t){var n=e.get("inputParameters");return s(n,(function(e){return e.name===t.name}))}function b(e,t){var n=e.get("outputParameters");return s(n,(function(e){var n=e.value;if(!t.scriptFormat)return n===t.source;var r=e.definition;return!(!r||t.scriptFormat!==r.scriptFormat)&&r.value===t.source}))}function g(e){var t=r(e);return i(t,"bpmn:ExtensionElements")?t:t.extensionElements}function y(e,t){if("flowable:in"===t.type&&t.target)return e.target===t.target;if("flowable:out"===t.type){if(t.source)return e.source===t.source;if(t.sourceExpression)return e.sourceExpression===t.sourceExpression}return t.variables?"all"===e.variables&&("local"!==t.variables||e.local):void 0}e.exports.TEMPLATE_ATTR=o,e.exports.getTemplateId=l,e.exports.getTemplate=u,e.exports.getDefaultTemplate=c,e.exports.findExtension=p,e.exports.findExtensions=d,e.exports.findFlowableInOut=f,e.exports.findFlowableProperty=m,e.exports.findInputParameter=v,e.exports.findOutputParameter=b},2710:function(e,t,n){"use strict";n("7f7f");var r=n("a8e8").escapeHTML,i=n("e506").query,a=n("ab24"),s=function(e,t){var n=function(t,n){var r=i('input[name="'+e.modelProperty+'"]',n);return r.value="",!0},s=function(t,n){var r=i('input[name="'+e.modelProperty+'"]',n);return""!==r.value},o=t,l=e.label||o.id,u=e.dataValueLabel,c=e.buttonLabel||"X",p="undefined"!==typeof e.buttonAction?e.buttonAction.name:"clear",d="undefined"!==typeof e.buttonAction?e.buttonAction.method:n,f="undefined"!==typeof e.buttonShow?e.buttonShow.name:"canClear",m="undefined"!==typeof e.buttonShow?e.buttonShow.method:s,v=!!e.disabled&&"function"===typeof e.disabled,b=!!e.hidden&&"function"===typeof e.hidden,g=e.description;return o.html='<label for="flowable-'+r(o.id)+'" '+(v?'data-disable="isDisabled" ':"")+(b?'data-show="isHidden" ':"")+(u?'data-value="'+r(u)+'"':"")+">"+r(l)+'</label><div class="bpp-field-wrapper" '+(v?'data-disable="isDisabled"':"")+(b?'data-show="isHidden"':"")+'><input class="el-input" id="flowable-'+r(o.id)+'" type="datetime-local" step="01" name="'+r(e.modelProperty)+'" '+(v?'data-disable="isDisabled"':"")+(b?'data-show="isHidden"':"")+' /><button class="'+r(p)+'" data-action="'+r(p)+'" data-show="'+r(f)+'" '+(v?'data-disable="isDisabled"':"")+(b?' data-show="isHidden"':"")+"><span>"+r(c)+"</span></button></div>",g&&(o.html+=a(g)),o[p]=d,o[f]=m,v&&(o.isDisabled=function(){return e.disabled.apply(o,arguments)}),b&&(o.isHidden=function(){return!e.hidden.apply(o,arguments)}),o.cssClasses=["bpp-textfield"],o};e.exports=s},"2d87":function(e,t,n){e.exports={__depends__:[n("96b6"),n("b71e").default],__init__:["propertiesPanel"],propertiesPanel:["type",n("df96")]}},"30ea":function(e,t,n){"use strict";n("ac6a");var r=n("2684"),i=n("dce5");e.exports=function(e,t,n,a,s){e.entries=e.entries.concat(r(t,n,i({},a),s))}},3631:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"fm2-container"},[n("el-main",{staticClass:"fm2-main"},[n("el-container",[n("el-container",{staticClass:"center-container",attrs:{direction:"vertical"}},[n("el-header",{staticClass:"btn-bar"},[n("el-button-group",[n("el-button",{attrs:{icon:"el-icon-arrow-left"},on:{click:e.handleUndo}},[e._v("撤回")]),e._v(" "),n("el-button",{attrs:{icon:"el-icon-arrow-right"},on:{click:e.handleRedo}},[e._v("重做")]),e._v(" "),n("el-button",{attrs:{icon:"el-icon-circle-plus-outline"},on:{click:function(t){return e.handleZoom(.2)}}},[e._v("放大")]),e._v(" "),n("el-button",{attrs:{icon:"el-icon-help"},on:{click:function(t){return e.handleZoom(0)}}},[e._v("还原")]),e._v(" "),n("el-button",{attrs:{icon:"el-icon-remove-outline"},on:{click:function(t){return e.handleZoom(-.2)}}},[e._v("缩小")]),e._v(" "),n("el-button",{attrs:{icon:"el-icon-upload2"},on:{click:e.importXml}},[e._v("导入")]),e._v(" "),n("el-upload",{staticStyle:{display:"none"},attrs:{action:"","before-upload":e.openBpmn}},[n("el-button",{ref:"importBtn",attrs:{size:"mini",icon:"el-icon-folder-opened"}})],1),e._v(" "),n("el-button",{attrs:{icon:"el-icon-download"},on:{click:e.handleExportXmlAction}},[e._v("XML")]),e._v(" "),n("el-button",{attrs:{icon:"el-icon-download"},on:{click:e.handleExportSvgAction}},[e._v("SVG\n            ")]),e._v(" "),n("el-button",{attrs:{icon:"el-icon-tickets"},on:{click:e.handlePreviewXml}},[e._v("预览")]),e._v(" "),n("el-button",{attrs:{icon:"el-icon-delete"},on:{click:e.handleClear}},[e._v("清空")]),e._v(" "),n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:model:save,flowable:model:update",expression:"'flowable:model:save,flowable:model:update'"}],attrs:{icon:"el-icon-upload"},on:{click:e.handleSave}},[e._v("保存\n            ")])],1)],1),e._v(" "),n("el-main",[n("div",{staticClass:"containers",style:{height:e.getContainerHeight}},[n("div",{ref:"canvas",staticClass:"canvas"}),e._v(" "),n("el-dialog",{attrs:{visible:e.xmlVisible,title:"预览",fullscreen:"",center:""},on:{"update:visible":function(t){e.xmlVisible=t}}},[n("vue-ace-editor",{attrs:{lang:"xml",theme:"chrome",width:"100%",height:"calc(100vh - 214px)",options:{wrap:!0,readOnly:!0}},on:{init:e.editorInit},model:{value:e.process.xml,callback:function(t){e.$set(e.process,"xml",t)},expression:"process.xml"}}),e._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.process.xml,expression:"process.xml",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],attrs:{icon:"el-icon-document",type:"primary"}},[e._v("复 制")]),e._v(" "),n("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.xmlVisible=!1}}},[e._v("关闭")])],1)],1)],1)])],1),e._v(" "),n("el-aside",{staticClass:"widget-config-container"},[n("el-container",[n("el-main",{staticClass:"config-content"},[n("div",{attrs:{id:"properties-panel"}})])],1)],1)],1)],1),e._v(" "),n("el-footer",{staticStyle:{"font-weight":"600"},attrs:{height:"30px"}},[e._v("\n    Powered by MoneZhao, monezhao@163.com\n  ")])],1)},i=[],a=(n("7f7f"),n("a481"),{"Activate the global connect tool":"激活全局连接工具",Append:"追加","Append {type}":"添加 {type}","Append EndEvent":"追加 结束事件 ","Append Task":"追加 任务","Append Gateway":"追加 网关","Append Intermediate/Boundary Event":"追加 中间/边界 事件","Add Lane above":"在上面添加道","Divide into two Lanes":"分割成两个道","Divide into three Lanes":"分割成三个道","Add Lane below":"在下面添加道","Append compensation activity":"追加补偿活动","Change type":"修改类型","Connect using Association":"使用关联连接","Connect using Sequence/MessageFlow or Association":"使用顺序/消息流或者关联连接","Connect using DataInputAssociation":"使用数据输入关联连接",Remove:"移除","Activate the hand tool":"激活抓手工具","Activate the lasso tool":"激活套索工具","Activate the create/remove space tool":"激活创建/删除空间工具","Create expanded SubProcess":"创建扩展子过程","Create IntermediateThrowEvent/BoundaryEvent":"创建中间抛出事件/边界事件","Create Pool/Participant":"创建池/参与者","Parallel Multi Instance":"并行多重事件","Sequential Multi Instance":"时序多重事件",DataObjectReference:"数据对象参考",DataStoreReference:"数据存储参考",Loop:"循环","Ad-hoc":"即席","Create {type}":"创建 {type}","Create Group":"创建组",Task:"任务",Process:"流程",UserTask:"用户任务","Send Task":"发送任务","Receive Task":"接收任务","User Task":"用户任务","Manual Task":"手工任务","Business Rule Task":"业务规则任务","Service Task":"服务任务","Script Task":"脚本任务","Call Activity":"调用活动",CallActivity:"调用活动","Sub Process (collapsed)":"子流程（折叠的）","Sub Process (expanded)":"子流程（展开的）","Start Event":"开始事件",StartEvent:"开始事件","Intermediate Throw Event":"中间事件","End Event":"结束事件",EndEvent:"结束事件","Create Gateway":"创建网关",GateWay:"网关","Create Intermediate/Boundary Event":"创建中间/边界事件","Message Start Event":"消息开始事件","Timer Start Event":"定时开始事件","Conditional Start Event":"条件开始事件","Signal Start Event":"信号开始事件","Error Start Event":"错误开始事件","Escalation Start Event":"升级开始事件","Compensation Start Event":"补偿开始事件","Message Start Event (non-interrupting)":"消息开始事件（非中断）","Timer Start Event (non-interrupting)":"定时开始事件（非中断）","Conditional Start Event (non-interrupting)":"条件开始事件（非中断）","Signal Start Event (non-interrupting)":"信号开始事件（非中断）","Escalation Start Event (non-interrupting)":"升级开始事件（非中断）","Message Intermediate Catch Event":"消息中间捕获事件","Message Intermediate Throw Event":"消息中间抛出事件","Timer Intermediate Catch Event":"定时中间捕获事件","Escalation Intermediate Throw Event":"升级中间抛出事件","Conditional Intermediate Catch Event":"条件中间捕获事件","Link Intermediate Catch Event":"链接中间捕获事件","Link Intermediate Throw Event":"链接中间抛出事件","Compensation Intermediate Throw Event":"补偿中间抛出事件","Signal Intermediate Catch Event":"信号中间捕获事件","Signal Intermediate Throw Event":"信号中间抛出事件","Message End Event":"消息结束事件","Escalation End Event":"定时结束事件","Error End Event":"错误结束事件","Cancel End Event":"取消结束事件","Compensation End Event":"补偿结束事件","Signal End Event":"信号结束事件","Terminate End Event":"终止结束事件","Message Boundary Event":"消息边界事件","Message Boundary Event (non-interrupting)":"消息边界事件（非中断）","Timer Boundary Event":"定时边界事件","Timer Boundary Event (non-interrupting)":"定时边界事件（非中断）","Escalation Boundary Event":"升级边界事件","Escalation Boundary Event (non-interrupting)":"升级边界事件（非中断）","Conditional Boundary Event":"条件边界事件","Conditional Boundary Event (non-interrupting)":"条件边界事件（非中断）","Error Boundary Event":"错误边界事件","Cancel Boundary Event":"取消边界事件","Signal Boundary Event":"信号边界事件","Signal Boundary Event (non-interrupting)":"信号边界事件（非中断）","Compensation Boundary Event":"补偿边界事件","Exclusive Gateway":"互斥网关",ExclusiveGateway:"互斥网关","Parallel Gateway":"并行网关",ParallelGateway:"并行网关","Inclusive Gateway":"相容网关",InclusiveGateway:"相容网关","Complex Gateway":"复杂网关","Event based Gateway":"事件网关",Transaction:"转运","Sub Process":"子流程","Event Sub Process":"事件子流程","Collapsed Pool":"折叠池","Expanded Pool":"展开池","no parent for {element} in {parent}":"在{parent}里，{element}没有父类","no shape type specified":"没有指定的形状类型","flow elements must be children of pools/participants":"流元素必须是池/参与者的子类","out of bounds release":"out of bounds release","more than {count} child lanes":"子道大于{count} ","element required":"元素不能为空","diagram not part of bpmn:Definitions":"流程图不符合bpmn规范","no diagram to display":"没有可展示的流程图","no process or collaboration to display":"没有可展示的流程/协作","element {element} referenced by {referenced}#{property} not yet drawn":"由{referenced}#{property}引用的{element}元素仍未绘制","already rendered {element}":"{element} 已被渲染","failed to import {element}":"导入{element}失败",Id:"ID",Name:"名称",General:"基础",Details:"详情","Message Name":"消息名称",Message:"消息",Initiator:"创建者","Asynchronous Continuations":"持续异步","Asynchronous Before":"异步前","Asynchronous After":"异步后","Job Configuration":"工作配置",Exclusive:"排除","Job Priority":"工作优先级","Retry Time Cycle":"重试时间周期",Documentation:"文档","Element Documentation":"元素文档","History Configuration":"历史配置","History Time To Live":"历史的生存时间","Start Time":"开始时间",continuedTime:"持续时间","create class":"任务创建监听类","Listener Id":"监听器编号",create_delegateExpression:"任务创建监听委托表达式",assignmentClass:"分配监听类",assignmentDelegateExpression:"分配监听委托表达式",completeClassEntry:"完成监听类",completeDelegateExpression:"完成监听委托表达式",deleteClass:"删除监听类",deleteDelegateExpression:"删除监听委托表达式","Execution Class":"执行类",expression:"表达式","delegate Expression":"委托表达式",approvalBtn:"审批意见类型","assignee List":"执行人","node Type":"节点类型",transConditions:"自动转手动转换条件",loopTime:"循环时间","start Configuration":"启动配置","end Configuration":"结束配置","service Task":"服务任务配置",Forms:"表单","Form Key":"表单key","Form Fields":"表单字段","Business Key":"业务key","Form Field":"表单字段",ID:"编号",Type:"类型",Label:"名称","Default Value":"默认值",Validation:"校验","Add Constraint":"添加约束",Config:"配置",Properties:"属性","Add Property":"添加属性",Value:"值",Add:"添加",Values:"值","Add Value":"添加值",Listeners:"监听器","Execution Listener":"执行监听","Event Type":"事件类型","Listener Type":"监听器类型","Java Class":"Java类",Expression:"表达式","Must provide a value":"必须提供一个值","Delegate Expression":"代理表达式",Script:"脚本","Script Format":"脚本格式","Script Type":"脚本类型","Inline Script":"内联脚本","External Script":"外部脚本","External Resource":"外部资源",Resource:"资源","Field Injection":"字段注入",Extensions:"扩展","Input/Output":"输入/输出","event Configure":"事件配置","Input Parameters":"输入参数","Output Parameters":"输出参数",Parameters:"参数","Output Parameter":"输出参数","Timer Definition Type":"定时器定义类型","Timer Definition":"定时器定义",Date:"日期",Duration:"持续",Cycle:"循环",Signal:"信号","Signal Name":"信号名称",Escalation:"升级",Error:"错误","Link Name":"链接名称",Condition:"条件名称","Variable Name":"变量名称","Variable Event":"变量事件","Specify more than one variable change event as a comma separated list.":"多个变量事件以逗号隔开","Wait for Completion":"等待完成","Activity Ref":"活动参考","Version Tag":"版本标签","end configure":"结束配置",Executable:"可执行文件","External Task Configuration":"扩展任务配置","Task Priority":"任务优先级",External:"外部",Connector:"连接器","Must configure Connector":"必须配置连接器","Connector Id":"连接器编号",Implementation:"实现方式","Field Injections":"字段注入",Fields:"字段","Result Variable":"结果变量",Topic:"主题","Configure Connector":"配置连接器","Input Parameter":"输入参数",Category:"类别",Assignee:"经办人","Candidate Users":"候选用户","Candidate Groups":"候选组","Due Date":"到期时间","Follow Up Date":"跟踪日期",Priority:"优先级","The follow up date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00","The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00",Variables:"变量","Candidate Starter Configuration":"候选开始配置","Task Listener":"任务监听器","Candidate Starter Groups":"候选开始组","Candidate Starter Users":"候选开始用户","Tasklist Configuration":"任务列表配置",Startable:"启动","Specify more than one group as a comma separated list.":"指定多个组,用逗号分隔","Specify more than one user as a comma separated list.":"指定多个用户,用逗号分隔","Specify more than one user as a comma separated list..":"指定多个执行人,用逗号分隔(手动类型)","This maps to the process definition key.":"这会映射为流程定义的键","CallActivity Type":"调用活动类型","Create CallActivity":"创建调用活动","Called Element":"调用元素","Create DataObjectReference":"创建数据对象引用","Create DataStoreReference":"创建数据存储引用","Multi Instance":"多实例","Loop Cardinality":"实例数量",Collection:"任务参与人列表","Element Variable":"元素变量","Completion Condition":"完成条件","Append CallActivity":"追加 调用活动",Binding:"绑定","Tenant Id":"租户ID","This maps to the task definition key.":"这会映射为任务定义的key","Form field id must not be empty":"表单字段不能为空","Form field id already used in form data.":"表单中已经存在该字段","Must provide either loop cardinality or collection":"必须提供实例数量或者任务参与人列表","Select UserTask":"选择一个已经配置的用户任务","Element must have an unique id.":"元素必须要有一个唯一的id",create:"创建",assignment:"代理",complete:"完成",delete:"删除",update:"更新",timeout:"超时",start:"开始",end:"结束",save:"保存",Tools:"工具",FlowGateway:"流程网关",ProcessControl:"流程节点","Create StartEvent":"开始节点","Create EndEvent":"结束节点","Create ExclusiveGateway":"互斥网关","Create ParallelGateway":"并行网关","Create InclusiveGateway":"包容性网关","Create Task":"任务节点","Create UserTask":"用户任务节点","Create ServiceTask":"服务任务节点","Condition Type":"条件类型","Sequence flow is missing condition":"流程线缺少流程条件"," is missing end event":"缺少结束节点","Start event is missing event definition":"开始事件缺少事件定义","Incoming flows do not join":"传入流没合并","Element is missing label/name":"元素缺少标签/名称","Element has disallowed type":"元素具有不允许的类型","Element is not connected":"元素未连接","Element is not left connected":"元素没有左连接","Element is not right connected":"元素没有右连接","SequenceFlow is a duplicate":"SequenceFlow是重复的","Duplicate outgoing sequence flows":"重复的传出序列流","Duplicate incoming sequence flows":"重复的传入序列流","Gateway forks and joins":"同时分叉和合并的网关","Flow splits implicitly":"流隐式拆分"," has multiple blank start events":"有多个空开始事件","Event has multiple event definitions":"事件具有多个事件定义"," is missing start event":"缺少开始事件","Start event must be blank":"开始事件必须为空","Gateway is superfluous. It only has one source and target.":"网关是多余的。它只有一个源和目标","Invalid string":"无效的字符串"});function s(e,t){return t=t||{},e=a[e]||e,e.replace(/{([^}]+)}/g,(function(e,n){var r=t[n];return null!=a[t[n]]&&"undefined"!=a[t[n]]&&(r=a[t[n]]),r||"{"+n+"}"}))}var o=n("7024"),l=n("2d87"),u=n.n(l),c=n("dedf"),p=n("a7ac"),d=n.n(p),f=(n("950e"),n("7c9e")),m=n.n(f),v=function(e,t,n,r){return'<?xml version="1.0" encoding="UTF-8"?>\n<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd" id="sample-diagram" targetNamespace="'.concat(n,'">\n  <bpmn2:process id="').concat(e,'" name="').concat(t,'" isExecutable="true">\n    <bpmn2:documentation>').concat(r,'</bpmn2:documentation>\n    <bpmn2:startEvent id="StartEvent_1"/>\n  </bpmn2:process>\n  <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">\n      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">\n        <dc:Bounds height="36.0" width="36.0" x="160.0" y="160.0"/>\n      </bpmndi:BPMNShape>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn2:definitions>\n')},b={components:{VueAceEditor:m.a},props:{modelData:{type:Object,default:{id:void 0,key:"processId_1",name:"processName_1",category:"category_1",description:"description_1"}}},data:function(){return{scale:1,bpmnModeler:null,process:{xml:"",svg:""},nodeProcessSelect:null,xmlVisible:!1}},mounted:function(){var e=this.$refs.canvas;this.bpmnModeler=new o["a"]({container:e,propertiesPanel:{parent:"#properties-panel"},additionalModules:[{translate:["value",s]},u.a,d.a],moddleExtensions:{flowable:c},height:"100%",width:"100%"});var t=this;this.bpmnModeler.on("commandStack.changed",(function(){t.bpmnModeler.saveSVG({format:!0},(function(e,n){t.setEncoded("svg",e?null:n)})),t.bpmnModeler.saveXML({format:!0},(function(e,n){t.setEncoded("xml",e?null:n)}))})),this.createNewDiagram(this.modelData&&this.modelData.editor)},methods:{getContainerHeight:function(){return document.body.offsetHeight-75+"px"},editorInit:function(){n("2099"),n("0696"),n("95b8")},getProcessElement:function(){return this.bpmnModeler.getDefinitions().rootElements[0]},getProcess:function(){var e=this.getProcessElement();return{id:e.id,name:e.name,category:e.$parent.targetNamespace}},createNewDiagram:function(e){this.process.xml=e||v(this.modelData.key,this.modelData.name,this.modelData.category,this.modelData.description),this.bpmnModeler.importXML(this.process.xml,(function(e){e&&console.error(e)}))},setEncoded:function(e,t){var n=encodeURIComponent(t);if(t){if("xml"===e)return this.process.xml=t,{filename:this.process.name+".bpmn20.xml",href:"data:application/bpmn20-xml;charset=UTF-8,"+n,data:t};if("svg"===e)return this.process.svg=t,{filename:this.process.name+".bpmn20.svg",href:"data:application/text/xml;charset=UTF-8,"+n,data:t}}},importXml:function(){this.$refs.importBtn.$el.click()},openBpmn:function(e){var t=this,n=new FileReader;return n.readAsText(e,"utf-8"),n.onload=function(){t.createNewDiagram(n.result)},!1},download:function(e,t,n){var r="",i=document.createElement("a");switch(e){case"xml":r="bpmn";break;case"svg":r="svg";break;default:break}n=n||"diagram.".concat(r),i.setAttribute("href","data:application/bpmn20-xml;charset=UTF-8,".concat(encodeURIComponent(t))),i.setAttribute("target","_blank"),i.setAttribute("dataTrack","diagram:download-".concat(r)),i.setAttribute("download",n),document.body.appendChild(i),i.click(),URL.revokeObjectURL(i.href),document.body.removeChild(i)},handleExportXmlAction:function(){var e=this;this.bpmnModeler.saveXML({format:!0},(function(t,n){e.download("xml",n,e.getProcess().name+".bpmn20.xml")}))},handleExportSvgAction:function(){var e=this;this.bpmnModeler.saveSVG({format:!0},(function(t,n){e.download("svg",n,e.getProcess().name+".bpmn20.svg")}))},handlePreviewXml:function(){var e=this;this.bpmnModeler.saveXML({format:!0},(function(t,n){e.process.xml=n,e.xmlVisible=!0}))},handleClear:function(){this.createNewDiagram()},handleSave:function(){var e=this;this.bpmnModeler.saveXML({format:!0},(function(t,n){var r=e.getProcess();e.process.xml=n,e.modelData.editor=n,e.modelData.key=r.id,e.modelData.name=r.name,e.modelData.category=r.category,e.$emit("save",e.modelData)}))},onCopy:function(){this.$message.success("内容复制成功")},handleRedo:function(){this.bpmnModeler.get("commandStack").redo()},handleUndo:function(){this.bpmnModeler.get("commandStack").undo()},handleZoom:function(e){var t=e?this.scale+e<=.2?.2:this.scale+e:1;this.bpmnModeler.get("canvas").zoom(t),this.scale=t}}},g=b,y=(n("dabb"),n("2877")),h=Object(y["a"])(g,r,i,!1,null,null,null);t["default"]=h.exports},"39ea":function(e,t,n){"use strict";var r=n("3c19"),i=n("f189");e.exports=function(e,t,n,a){var s=n.getBusinessObject,o=r.textField({id:"candidateStarterGroups",label:a("Candidate Starter Groups"),modelProperty:"candidateStarterGroups",description:a("Specify more than one group as a comma separated list."),get:function(e,t){var n=s(e),r=n.get("flowable:candidateStarterGroups");return{candidateStarterGroups:r||""}},set:function(e,t){var n=s(e);return i.updateBusinessObject(e,n,{"flowable:candidateStarterGroups":t.candidateStarterGroups||void 0})}}),l=r.textField({id:"candidateStarterUsers",label:a("Candidate Starter Users"),modelProperty:"candidateStarterUsers",description:a("Specify more than one user as a comma separated list."),get:function(e,t){var n=s(e),r=n.get("flowable:candidateStarterUsers");return{candidateStarterUsers:r||""}},set:function(e,t){var n=s(e);return i.updateBusinessObject(e,n,{"flowable:candidateStarterUsers":t.candidateStarterUsers||void 0})}});return[o,l]}},"3c19":function(e,t,n){"use strict";var r=n("7a6b").getBusinessObject,i=n("a790"),a=n("1a54"),s=n("85fc"),o=n("4ceb"),l=n("d6f6"),u=n("620a"),c=n("5628"),p=n("92bb"),d=n("8f59"),f=n("9e48"),m=n("1920"),v=n("2710"),b=n("f189");function g(e){if(!e)throw new Error(e+" must be set.");return e}var y=function(e){var t=function(t){var n=r(t),i={},a=g(e.modelProperty);return i[a]=n.get(a),i},n=function(t,n){var r={},i=g(e.modelProperty);return""!==n[i]?r[i]=n[i]:r[i]=void 0,b.updateProperties(t,r)},i=function(){return{}};return{id:e.id,description:e.description||"",get:e.get||t,set:e.set||n,validate:e.validate||i,html:"",multiple:e.multiple}};function h(){}h.textField=function(e){return i(e,y(e))},h.numberField=function(e){return f(e,y(e))},h.timeField=function(e){return m(e,y(e))},h.dateField=function(e){return v(e,y(e))},h.validationAwareTextField=function(e){return u(e,y(e))},h.checkbox=function(e){return a(e,y(e))},h.textBox=function(e){return l(e,y(e))},h.selectBox=function(e){return s(e,y(e))},h.comboBox=function(e){return o(e)},h.table=function(e){return c(e)},h.label=function(e){return p(e)},h.link=function(e){return d(e)},e.exports=h},"3e11":function(e,t,n){"use strict";var r=n("c400");function i(e,t,n){this._loadTemplates=e,this._eventBus=t,this._elementTemplates=n;var r=this;t.on("diagram.init",(function(){r.reload()}))}e.exports=i,i.$inject=["config.elementTemplates","eventBus","elementTemplates"],i.prototype.reload=function(){var e=this,t=this._loadTemplates;if("undefined"!==typeof t)return"function"===typeof t?t((function(t,n){if(t)return e.templateErrors([t]);e.setTemplates(n)})):t.length?this.setTemplates(t):void 0},i.prototype.setTemplates=function(e){var t=this._elementTemplates,n=(new r).addAll(e),i=n.getErrors(),a=n.getValidTemplates();t.set(a),i.length&&this.templateErrors(i),this.templatesChanged()},i.prototype.templatesChanged=function(){this._eventBus.fire("elementTemplates.changed")},i.prototype.templateErrors=function(e){this._eventBus.fire("elementTemplates.errors",{errors:e})}},"4a7c":function(e,t,n){e.exports={__depends__:[n("a664"),n("b71e").default],__init__:["customElementsPropertiesActivator","elementTemplatesLoader"],customElementsPropertiesActivator:["type",n("c551")],elementTemplates:["type",n("17a1")],elementTemplatesLoader:["type",n("3e11")]}},"4ceb":function(e,t,n){"use strict";var r=n("dce5"),i=n("2769"),a=n("e506").query,s=n("a8e8").escapeHTML,o=n("85fc"),l=n("ab24"),u=function(e){var t=e.selectOptions,n=e.modelProperty,u=e.customValue||"custom",c=e.customName||"custom "+n,p=e.description,d=function(e){if("undefined"===typeof e[n])return!1;var r=!i(t,(function(t){return e[n]===t.value}));return r},f=r({},e);f.showCustomInput=function(t,n){var r=a('[data-entry="'+e.id+'"] select',n.parentNode);return!!r&&r.value===u},f.get=function(t,r){var i=e.get(t,r),a={};return d(i)?(a[n]=u,a["custom-"+n]=i[n],a):(a[n]=i[n]||"",a)},f.set=function(t,r,i){var a={};return r[n]===u?a[n]=r["custom-"+n]||"":e.emptyParameter&&""===r[n]?a[n]=void 0:a[n]=r[n],e.set(t,a,i)},f.selectOptions.push({name:c,value:u});var m=r({},o(f,f));return m.html+='<div class="bpp-field-wrapper bpp-combo-input" data-show="showCustomInput"><input class="el-input" id="flowable-'+s(e.id)+'-input" type="text" name="custom-'+s(n)+'"  /></div>',p&&(m.html+=l(p)),m};e.exports=u},"4d8d":function(e,t,n){"use strict";n("ac6a");var r=n("e9de"),i=n("1166"),a=n("f189");e.exports=function(e,t,n,s){var o=r(t,n,{id:"properties",modelProperties:["name","value"],labels:[s("Name"),s("Value")],getParent:function(e,t,n){return n.extensionElements},createParent:function(e,t){var r=i.createElement("bpmn:ExtensionElements",{values:[]},t,n),s=a.updateBusinessObject(e,t,{extensionElements:r});return{cmd:s,parent:r}}},s);o&&e.entries.push(o)}},"4f1f":function(e,t,n){"use strict";var r=n("6cd4");function i(e,t){this._elementRegistry=e,this._bpmnFactory=t}function a(e,t){if(!e)throw new Error(t+"required");return e}i.$inject=["elementRegistry","bpmnFactory"],e.exports=i,i.prototype.execute=function(e){var t,n=a(e.currentObject,"currentObject"),i=a(e.propertyName,"propertyName"),s=e.updatedObjectList,o=e.objectsToRemove||[],l=e.objectsToAdd||[],u=[e.element];e.referencePropertyName&&(t=e.referencePropertyName);var c=n[i];if(e.previousList=n[i],s)n[i]=s;else{var p=[];if(r(c,(function(e){-1==o.indexOf(e)&&p.push(e)})),p=p.concat(l),p.length>0||!t)n[i]=p;else if(t){var d=n.$parent;d.set(t,void 0)}}return e.changed=u,u},i.prototype.revert=function(e){var t=e.currentObject,n=e.propertyName,r=e.previousList,i=t.$parent;return e.referencePropertyName&&i.set(e.referencePropertyName,t),t.set(n,r),e.changed}},5222:function(e,t,n){"use strict";n("ac6a");var r=n("3c19"),i=n("7a6b").is,a=n("7a6b").getBusinessObject;e.exports=function(e,t,n){var s=a(t);s&&i(t,"flowable:Initiator")&&!i(t.parent,"bpmn:SubProcess")&&e.entries.push(r.textField({id:"initiator",label:n("Initiator"),modelProperty:"initiator"}))}},5628:function(e,t,n){"use strict";var r=n("a8e8").escapeHTML,i=n("f189"),a=n("e506").query,s=n("e506").attr,o=n("e506").closest,l=n("9380"),u=n("6cd4"),c=n("ec69"),p=n("e506").domify,d=n("ab24"),f=n("7d17"),m='<div class="bpp-field-wrapper bpp-table-row">',v='<button class="clear" data-action="deleteElement"><span>X</span></button>';function b(e,t){var n=m;return n+=g(e,t),n+=t?v:"",n+="</div>",n}function g(e,t){var n=e.length,i="";return u(e,(function(e){i+='<input class="bpp-table-row-columns-'+n+" "+(t?"bpp-table-row-removable":"")+'" id="flowable-table-row-cell-input-value" type="text" name="'+r(e)+'" />'})),i}function y(e){var t=m;return t+=h(e),t+="</div>",t}function h(e){var t=e.length,n="";return u(e,(function(e){n+='<label class="bpp-table-row-columns-'+t+'">'+r(e)+"</label>"})),n}function E(e,t){return(e||[]).map((function(e){var n={};return u(t,(function(t){n[t]=e[t]||""})),n}))}function x(e,t,n,r,i){return l(n,(function(n,a){return!w(e,t,n,r[a],i,a)}))}function w(e,t,n,r,i,a){if(n&&!r)return!1;var s=c(n).concat(c(r));return s.every((function(s){var o=n[s]||void 0,l=r[s]||void 0;return!i(e,t,s,a)||o===l}))}function T(e){return o(e,"[data-entry]",!0)}function P(e){return a("div[data-list-entry-container]",e)}function S(e){return{start:e.selectionStart,end:e.selectionEnd}}function C(e,t){e.selectionStart=t.start,e.selectionEnd=t.end}e.exports=function(e){var t=e.id,n=e.modelProperties,a=e.labels,l=e.description,c=y(a),m=e.getElements,v=e.removeElement,g="function"===typeof v,h=e.addElement,w="function"===typeof h,O=e.addLabel||"Add Value",A=e.updateElement,B="function"===typeof A,j=e.editable||function(){return!0},I=e.setControlValue,D=e.show,L="function"===typeof D,F=function(e,t){return E(m(e,t),n)},k={id:t,html:(w?'<div class="bpp-table-add-row" '+(L?'data-show="show"':"")+"><label>"+r(O)+'</label><button class="add" data-action="addElement"><span>+</span></button></div>':"")+'<div class="bpp-table" data-show="showTable"><div class="bpp-field-wrapper bpp-table-row">'+c+"</div><div data-list-entry-container></div></div>"+(l?d(l):""),get:function(e,t){var r=F(e,t,this.__invalidValues),i=this.__invalidValues;return delete this.__invalidValues,u(i,(function(e,t){var i=r[t];u(n,(function(t){i[t]=e[t]}))})),r},set:function(t,n,r){var a=this.__action||{};if(delete this.__action,"delete-element"===a.id)return v(t,r,a.idx);if("add-element"===a.id)return h(t,r);if(B){var s=[],o=n;"function"!==typeof e.validate&&(o=x(t,r,n,F(t,r),j));var l=this;return u(o,(function(a){var o,u=n.indexOf(a);if("function"===typeof e.validate&&(o=e.validate(t,a,r,u)),o)l.__invalidValues=l.__invalidValues||{},l.__invalidValues[u]=a,s.push(i.updateProperties(t,{}));else{var c=A(t,a,r,u);c&&s.push(c)}})),s}},createListEntryTemplate:function(e,t,r){return b(n,g)},addElement:function(e,t,r,i){var a=p(b(n,g)),s=P(t);return s.appendChild(a),this.__action={id:"add-element"},!0},deleteElement:function(e,t,n,r){var i=P(t),a=n.delegateTarget.parentNode,o=parseInt(s(a,"data-index"),10);return i.removeChild(a),this.__action={id:"delete-element",idx:o},!0},editable:function(e,t,n,r,i,a){var s=o(t,"[data-entry]");return j(e,s,r,a)},show:function(e,t,n,r){return t=T(t),D(e,t,n,r)},showTable:function(e,t,n,r){t=T(t);var i=F(e,t);return i&&i.length&&(!L||D(e,t,n,r))},validateListItem:function(t,n,r,i){if("function"===typeof e.validate)return e.validate(t,n,r,i)}};return I&&(k.setControlValue=function(e,t,n,r,i,a){var o,l=T(t),u=s(n,"readonly"),c=n.value;void 0===i&&(i=""),u&&c===i||(document.activeElement===n&&(o=f(S(n),c,i)),I(e,l,n,r,i,a),o&&C(n,o))}),k}},"57d9":function(e,t,n){"use strict";n("ac6a"),n("28a5");var r=n("3c19"),i=n("2ac4"),a=(n("1166"),n("7a6b").is),s=n("e506").query,o=n("7a6b").getBusinessObject;e.exports=function(e,t,n,l){if(a(t,"bpmn:UserTask")){var u=o(t),c=r.timeField({id:"warnDuration",label:"提醒时间",modelProperty:"warnDuration",get:function(e){var t="0",n=u.get("warnDuration");if(n){if(n.indexOf("H")>0){var r=n.split("H");if(t=r[0],n.indexOf("M")>0){var i=r[1].split("M")[0];return{"warnDuration-h":t,"warnDuration-m":i}}return{"warnDuration-h":t}}if(n.indexOf("M")>0){var a=n.split("M")[0];return{"warnDuration-m":a}}return{}}return{}},set:function(e,t){var n=s('input[id="warnDuration-h"'),r=s('input[id="warnDuration-m"'),a="";n.value?a=r.value?"".concat(n.value,"H").concat(r.value,"M"):"".concat(n.value,"H"):r.value&&(a="0H".concat(r.value,"M"));var o={};return o["warnDuration"]=a,i.updateBusinessObject(e,u,o)},validate:function(e,t){var n={};return n}});e.entries.push(c)}}},"5b00":function(e,t,n){"use strict";n("7f7f"),n("ac6a");var r=n("7a6b").getBusinessObject,i=n("b49c").getExtensionElements,a=n("b49c").removeEntry,s=n("2152"),o=n("e9de"),l=n("3c19"),u=n("1166"),c=n("f189"),p=n("cbed"),d=n("a8e8"),f=n("7a6b").is,m=n("2769"),v=n("6cd4");function b(){return d.nextId("Value_")}function g(e,t){var n=e.id,r=e.label,i=e.modelProperty,a=e.validate;return l.textField({id:n,label:r,modelProperty:i,get:function(e,n){var r=t(e,n)||{},a={};return a[i]=r[i],a},set:function(n,r,a){var s=[];if("function"===typeof e.set){var o=e.set(n,r,a);o&&s.push(o)}var l=t(n,a),u={};return u[i]=r[i]||void 0,s.push(c.updateBusinessObject(n,l,u)),s},hidden:function(e,n){return!t(e,n)},validate:a})}function y(e){return f(e,"bpmn:StartEvent")&&!f(e.parent,"bpmn:SubProcess")||f(e,"bpmn:UserTask")}e.exports=function(e,t,n,h){if(y(t)){e.entries.push(l.textField({id:"form-key",label:h("Form Key"),modelProperty:"formKey",get:function(e,t){var n=r(e);return{formKey:n.get("flowable:formKey")}},set:function(e,t,n){var i=r(e),a=t.formKey||void 0;return c.updateBusinessObject(e,i,{"flowable:formKey":a})}}));var E=s(t,n,{id:"form-fields",label:h("Form Fields"),modelProperty:"id",prefix:"FormField",createExtensionElement:function(e,t,i){var a=r(e),s=[];t||(t=u.createElement("bpmn:ExtensionElements",{values:[]},a,n),s.push(c.updateProperties(e,{extensionElements:t})));var o=p.getFormData(e);o||(o=u.createElement("flowable:FormData",{fields:[]},t,n),s.push(c.addAndRemoveElementsFromList(e,t,"values","extensionElements",[o],[])));var l=u.createElement("flowable:FormField",{id:i},o,n);return"undefined"!==typeof o.fields?s.push(c.addElementsTolist(e,o,"fields",[l])):s.push(c.updateBusinessObject(e,o,{fields:[l]})),s},removeExtensionElement:function(e,t,n,s){var o=i(r(e),"flowable:FormData")[0],l=o.fields[s],u=[];return o.fields.length<2?u.push(a(r(e),e,o)):(u.push(c.removeElementsFromList(e,o,"fields",null,[l])),l.id===o.get("businessKey")&&u.push(c.updateBusinessObject(e,o,{businessKey:void 0}))),u},getExtensionElements:function(e){return p.getFormFields(e)},hideExtensionElements:function(e,t){return!1}});e.entries.push(E);var x=l.selectBox({id:"form-business-key",label:h("Business Key"),modelProperty:"businessKey",selectOptions:function(e,t){var n=[{name:"",value:""}],r=p.getFormFields(e);return v(r,(function(e){"boolean"!==e.type&&n.push({name:e.id,value:e.id})})),n},get:function(e,t){var n={businessKey:""},a=r(e),s=i(a,"flowable:FormData");if(s){var o=s[0],l=o.get("businessKey");n={businessKey:l}}return n},set:function(e,t,n){var a=i(r(e),"flowable:FormData")[0];return c.updateBusinessObject(e,a,{businessKey:t.businessKey||void 0})},hidden:function(e,t){var n=f(e,"bpmn:StartEvent");return!(n&&p.getFormFields(e).length>0)}});e.entries.push(x),e.entries.push(l.label({id:"form-field-header",labelText:h("Form Field"),showLabel:function(e,t){return!!w(e,t)}})),e.entries.push(l.validationAwareTextField({id:"form-field-id",label:h("ID"),modelProperty:"id",getProperty:function(e,t){var n=w(e,t)||{};return n.id},setProperty:function(e,t,n){var r=w(e,n);return c.updateBusinessObject(e,r,t)},hidden:function(e,t){return!w(e,t)},validate:function(e,t,n){var r=w(e,n);if(r){var i=t.id;if(!i||""===i.trim())return{id:"Form field id must not be empty"};var a=p.getFormFields(e),s=m(a,(function(e){return e!==r&&e.id===i}));if(s)return{id:"Form field id already used in form data."}}}})),e.entries.push(l.comboBox({id:"form-field-type",label:h("Type"),selectOptions:[{name:"string",value:"string"},{name:"long",value:"long"},{name:"boolean",value:"boolean"},{name:"date",value:"date"},{name:"enum",value:"enum"}],modelProperty:"type",emptyParameter:!0,get:function(e,t){var n=w(e,t);return n?{type:n.type}:{}},set:function(e,t,n){var a=w(e,n),s=i(r(e),"flowable:FormData")[0],o=[];return"enum"===a.type&&"enum"!==t.type&&o.push(c.updateBusinessObject(e,a,{values:void 0})),"boolean"===t.type&&a.get("id")===s.get("businessKey")&&o.push(c.updateBusinessObject(e,s,{businessKey:void 0})),o.push(c.updateBusinessObject(e,a,t)),o},hidden:function(e,t){return!w(e,t)}})),e.entries.push(g({id:"form-field-label",label:h("Label"),modelProperty:"label"},w)),e.entries.push(g({id:"form-field-defaultValue",label:h("Default Value"),modelProperty:"defaultValue"},w)),e.entries.push(l.label({id:"form-field-enum-values-header",labelText:h("Values"),divider:!0,showLabel:function(e,t){var n=w(e,t);return n&&"enum"===n.type}})),e.entries.push(l.table({id:"form-field-enum-values",labels:[h("Id"),h("Name")],modelProperties:["id","name"],show:function(e,t){var n=w(e,t);return n&&"enum"===n.type},getElements:function(e,t){var n=w(e,t);return p.getEnumValues(n)},addElement:function(e,t){var i=w(e,t),a=b(),s=u.createElement("flowable:Value",{id:a,name:void 0},r(e),n);return c.addElementsTolist(e,i,"values",[s])},removeElement:function(e,t,n){var r=w(e,t),i=r.values[n];return c.removeElementsFromList(e,r,"values",null,[i])},updateElement:function(e,t,n,r){var i=w(e,n),a=i.values[r];return t.name=t.name||void 0,c.updateBusinessObject(e,a,t)},validate:function(e,t,n,r){var i=w(e,n),a=i.values[r];if(a){var s=d.isIdValid(a,t.id,h);if(s)return{id:s}}}})),e.entries.push(l.label({id:"form-field-validation-header",labelText:h("Validation"),divider:!0,showLabel:function(e,t){return!!w(e,t)}})),e.entries.push(l.table({id:"constraints-list",modelProperties:["name","config"],labels:[h("Name"),h("Config")],addLabel:h("Add Constraint"),getElements:function(e,t){var n=w(e,t);return p.getConstraints(n)},addElement:function(e,t){var i=[],a=w(e,t),s=a.validation;s||(s=u.createElement("flowable:Validation",{},r(e),n),i.push(c.updateBusinessObject(e,a,{validation:s})));var o=u.createElement("flowable:Constraint",{name:void 0,config:void 0},s,n);return i.push(c.addElementsTolist(e,s,"constraints",[o])),i},updateElement:function(e,t,n,r){var i=w(e,n),a=p.getConstraints(i)[r];return t.name=t.name||void 0,t.config=t.config||void 0,c.updateBusinessObject(e,a,t)},removeElement:function(e,t,n){var r=[],i=w(e,t),a=p.getConstraints(i),s=a[n];return r.push(c.removeElementsFromList(e,i.validation,"constraints",null,[s])),1===a.length&&r.push(c.updateBusinessObject(e,i,{validation:void 0})),r},show:function(e,t){return!!w(e,t)}})),e.entries.push(l.label({id:"form-field-properties-header",labelText:h("Properties"),divider:!0,showLabel:function(e,t){return!!w(e,t)}})),e.entries.push(o(t,n,{id:"form-field-properties",modelProperties:["id","value"],labels:[h("Id"),h("Value")],getParent:function(e,t){return w(e,t)},show:function(e,t){return!!w(e,t)}},h))}function w(e,t){var n=E.getSelected(e,t.parentNode);if(-1!==n.idx)return p.getFormField(e,n.idx)}}},"5e6e":function(e,t,n){"use strict";n("7f7f");var r=n("b49c"),i=n("1166"),a=n("f189"),s=n("a8e8"),o=n("3c19"),l=n("2152"),u=n("7a6b"),c=u.getBusinessObject,p=n("dce5"),d={stringValue:void 0,string:void 0,expression:void 0},f="flowable:Field";e.exports=function(e,t,n,u){u=u||{};var m=!!u.insideListener,v=u.idPrefix||"",b=u.getSelectedListener,g=u.businessObject||c(e),y=[],h=function(e,t){return E(e,t)};function E(e,t){var n=O.getSelected(e,t.parentNode);if(-1!==n.idx){var r=x(e,t);return r[n.idx]}}function x(e,t){return m?w(e,t):g&&r.getExtensionElements(g,f)||[]}function w(e,t){var n=b(e,t);return n&&n.fields||[]}function T(e){var t="string",n=e&&e.expression,r=e&&(e.string||e.stringValue);return"undefined"!==typeof r?t="string":"undefined"!==typeof n&&(t="expression"),t}var P=function(){return function(e,t,n,r,i,a){var s=x(e,t),o=s[a];i=o.name?o.name:"<empty>";var l=a+" : "+i;n.text=l}},S=function(){return function(e,n,r,s){var o,l={name:"",string:""};if(m){var u=b(e,s);return o=i.createElement(f,l,u,t),a.addElementsTolist(e,u,"fields",[o])}return o=i.createElement(f,l,n,t),a.addElementsTolist(e,n,"values",[o])}},C=function(){return function(e,t,n,i,s){var o=x(e,s),l=o[i];if(l){if(!m)return r.removeEntry(g,e,l);var u=b(e,s);return a.removeElementsFromList(e,u,"fields",null,[l])}}},O=l(e,t,{id:v+"fields",label:n("Fields"),modelProperty:"fieldName",idGeneration:"false",businessObject:g,createExtensionElement:S(),removeExtensionElement:C(),getExtensionElements:function(e,t){return x(e,t)},setOptionLabelValue:P()});y.push(O),y.push(o.validationAwareTextField({id:v+"field-name",label:n("Name"),modelProperty:"fieldName",getProperty:function(e,t){return(E(e,t)||{}).name},setProperty:function(e,t,n){var r=E(e,n);return a.updateBusinessObject(e,r,{name:t.fieldName})},validate:function(e,t,r){var i=E(e,r),a={};if(i){var o=t.fieldName;o?s.containsSpace(o)&&(a.fieldName=n("Name must not contain spaces")):a.fieldName=n("Parameter must have a name")}return a},hidden:function(e,t){return!h(e,t)}}));var A=[{name:n("String"),value:"string"},{name:n("Expression"),value:"expression"}];return y.push(o.selectBox({id:v+"field-type",label:n("Type"),selectOptions:A,modelProperty:"fieldType",get:function(e,t){var n=E(e,t),r=T(n);return{fieldType:r}},set:function(e,t,n){var r=p({},d),i=t.fieldType;return"string"===i?r.string="":"expression"===i&&(r.expression=""),a.updateBusinessObject(e,E(e,n),r)},hidden:function(e,t){return!h(e,t)}})),y.push(o.textBox({id:v+"field-value",label:n("Value"),modelProperty:"fieldValue",get:function(e,t){var n,r=E(e,t),i=T(r);return"string"===i?n=r&&(r.string||r.stringValue):"expression"===i&&(n=r&&r.expression),{fieldValue:n}},set:function(e,t,n){var r=E(e,n),i=T(r),s=p({},d),o=t.fieldValue||void 0;return"string"===i?s.string=o:"expression"===i&&(s.expression=o),a.updateBusinessObject(e,r,s)},validate:function(e,t,r){var i=E(e,r),a={};return i&&(t.fieldValue||(a.fieldValue=n("Must provide a value"))),a},show:function(e,t){return h(e,t)}})),y}},"620a":function(e,t,n){"use strict";var r=n("a790"),i=function(e,t){var n=e.modelProperty;t.get=function(t,r){var i=this.__lastInvalidValue;delete this.__lastInvalidValue;var a={};return a[n]=void 0!==i?i:e.getProperty(t,r),a},t.set=function(t,r,a){var s=i.apply(this,[t,r,a]),o=r[n];if(s&&s[n])return this.__lastInvalidValue=o,e.setProperty(t,{},a);var l={};return l[n]=o,e.setProperty(t,l,a)};var i=t.validate=function(t,r,i){var a=r[n]||this.__lastInvalidValue,s={};return s[n]=a,e.validate(t,s,i)};return r(e,t)};e.exports=i},6508:function(e,t,n){"use strict";n("ac6a");var r=n("3c19"),i=n("7a6b").getBusinessObject,a=n("7a6b").is,s=(n("a8e8"),n("f189")),o=n("ca00").getDicts;e.exports=function(e,t,n,l){var u=i(t);l&&l.description;(a(t,"bpmn:Process")||a(t,"bpmn:Participant")&&u.get("processRef"))&&e.entries.push(r.selectBox({id:"targetNamespace",label:n("Category"),modelProperty:"targetNamespace",selectOptions:function(e){return new Promise((function(e){o("processCategory").then((function(t){var n=[];console.log(t.data.processCategory),t.data.processCategory.forEach((function(e){if(e&&e.value){var t={value:e.value,name:e.content};n.push(t)}})),e(n)}))}))},get:function(e){return{targetNamespace:i(e).$parent.targetNamespace}},set:function(e,t){return e=i(e).$parent,s.updateBusinessObject(e,e,t)}}))}},"6abd":function(e,t,n){"use strict";var r=n("7a6b").getBusinessObject,i=n("7a6b").is,a=n("6cd4"),s={};e.exports=s,s.getEventDefinition=function(e,t){var n=r(e),s=null;return n.eventDefinitions&&a(n.eventDefinitions,(function(e){i(e,t)&&(s=e)})),s},s.getTimerEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:TimerEventDefinition")},s.getMessageEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:MessageEventDefinition")},s.getSignalEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:SignalEventDefinition")},s.getErrorEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:ErrorEventDefinition")},s.getEscalationEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:EscalationEventDefinition")},s.getCompensateEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:CompensateEventDefinition")},s.getLinkEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:LinkEventDefinition")},s.getConditionalEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:ConditionalEventDefinition")}},"6c96":function(e,t,n){"use strict";n("ac6a");var r=n("7a6b").getBusinessObject,i=n("7a6b").is,a=n("eed6");e.exports=function(e,t,n,s){i(t,"flowable:AsyncCapable")&&(e.entries=e.entries.concat(a(t,n,{getBusinessObject:r},s)))}},"6f39":function(e,t,n){"use strict";n("ac6a");var r=n("daa2");e.exports=function(e,t,n,i){var a=r(t,n,{idPrefix:"connector-",insideConnector:!0},i);return e.entries=e.entries.concat(a.entries),{getSelectedParameter:a.getSelectedParameter}}},7721:function(e,t,n){"use strict";n("ac6a"),n("7f7f");var r=n("dce5");function i(e,t,n){var r,i,a=e.scriptFormat;return a?i=n.create("flowable:Script",{scriptFormat:a,value:t}):r=t,n.create("flowable:InputParameter",{name:e.name,value:r,definition:i})}function a(e,t,n){var r,i,a=e.scriptFormat;return a?i=n.create("flowable:Script",{scriptFormat:a,value:e.source}):r=e.source,n.create("flowable:OutputParameter",{name:t,value:r,definition:i})}function s(e,t,n){return n.create("flowable:Property",{name:e.name,value:t||""})}function o(e,t,n){var r=d(e,t);return n.create("flowable:In",r)}function l(e,t,n){return n.create("flowable:In",{businessKey:t})}function u(e,t,n){var r=d(e,t);return n.create("flowable:Out",r)}function c(e,t,n){var r,i,a=e.scriptFormat;return a?i=n.create("flowable:Script",{scriptFormat:a,value:t}):r=t,n.create("flowable:ExecutionListener",{event:e.event,value:r,script:i})}function p(e,t,n){var i={string:void 0,expression:void 0,name:void 0},a=r({},i);return e.expression?a.expression=t:a.string=t,a.name=e.name,n.create("flowable:Field",a)}function d(e,t){var n={};return e.target?(n.target=e.target,e.expression?n.sourceExpression=t:n.source=t):e.variables?(n.variables="all","local"===e.variables&&(n.local=!0)):(n.target=t,["source","sourceExpression"].forEach((function(t){e[t]&&(n[t]=e[t])}))),n}e.exports.createInputParameter=i,e.exports.createOutputParameter=a,e.exports.createFlowableProperty=s,e.exports.createFlowableIn=o,e.exports.createFlowableInWithBusinessKey=l,e.exports.createFlowableOut=u,e.exports.createFlowableExecutionListenerScript=c,e.exports.createFlowableFieldInjection=p},"77c6":function(e,t,n){"use strict";var r=n("7a6b"),i=r.is,a=r.getBusinessObject,s=n("6abd"),o=n("b49c"),l={};e.exports=l,l.isServiceTaskLike=function(e){return i(e,"flowable:ServiceTaskLike")},l.isDmnCapable=function(e){return i(e,"flowable:DmnCapable")},l.isExternalCapable=function(e){return i(e,"flowable:ExternalCapable")},l.isTaskListener=function(e){return i(e,"flowable:TaskListener")},l.isExecutionListener=function(e){return i(e,"flowable:ExecutionListener")},l.isListener=function(e){return this.isTaskListener(e)||this.isExecutionListener(e)},l.isSequenceFlow=function(e){return i(e,"bpmn:SequenceFlow")},l.getServiceTaskLikeBusinessObject=function(e){if(i(e,"bpmn:IntermediateThrowEvent")||i(e,"bpmn:EndEvent")){var t=s.getMessageEventDefinition(e);t&&(e=t)}return this.isServiceTaskLike(e)&&a(e)},l.getImplementationType=function(e){var t=this.getServiceTaskLikeBusinessObject(e);if(!t){if(!this.isListener(e))return;t=e}if(this.isDmnCapable(t)){var n=t.get("flowable:decisionRef");if("undefined"!==typeof n)return"dmn"}if(this.isServiceTaskLike(t)){var r=o.getExtensionElements(t,"flowable:Connector");if("undefined"!==typeof r)return"connector"}if(this.isExternalCapable(t)){var i=t.get("flowable:type");if("external"===i)return"external"}var a=t.get("flowable:class");if("undefined"!==typeof a)return"class";var s=t.get("flowable:expression");if("undefined"!==typeof s)return"expression";var l=t.get("flowable:delegateExpression");if("undefined"!==typeof l)return"delegateExpression";if(this.isListener(t)){var u=t.get("script");if("undefined"!==typeof u)return"script"}}},7947:function(e,t,n){"use strict";var r=n("7a6b").is,i=n("dce5"),a=n("3c19"),s=n("f189");e.exports=function(e,t,n,o){var l=n.getBusinessObject,u=n.hideResultVariable,c=n.id||"resultVariable",p=a.textField({id:c,label:o("Result Variable"),modelProperty:"resultVariable",get:function(e,t){var n=l(e);return{resultVariable:n.get("flowable:resultVariable")}},set:function(e,t,n){var a=l(e),o=t.resultVariable||void 0,u={"flowable:resultVariable":o};return r(a,"flowable:DmnCapable")&&!o&&(u=i({"flowable:mapDecisionResult":"resultList"},u)),s.updateBusinessObject(e,a,u)},hidden:function(e,t){if("function"===typeof u)return u.apply(p,arguments)}});return[p]}},"7b67":function(e,t,n){"use strict";n("ac6a");var r=n("dce5"),i=n("2684");e.exports=function(e,t,n,a,s){a=r({idPrefix:"connector-",insideConnector:!0},a),e.entries=e.entries.concat(i(t,n,a,s))}},"7f79":function(e,t,n){"use strict";n("ac6a");var r=n("f189"),i=n("3c19"),a=n("7a6b").is,s=n("7a6b").getBusinessObject;e.exports=function(e,t,n,o){function l(){return new Promise((function(e,t){setTimeout((function(){var t=[{name:"张三",value:"zhangsan"},{name:"李四",value:"lisi"}];console.log("进入异步方法里"),e(t)}),2e3),console.log("先执行这里")}))}function u(e,t){var n={},r=s(e),i=r.get(t);return n[t]=i,n}a(t,"bpmn:UserTask")&&e.entries.push(i.selectBox({id:"assigneeList",label:o("受理人"),selectOptions:function(e){return l()},modelProperty:"assigneeList",multiple:"multiple",get:function(e){var t=u(e,"assigneeList");return t},set:function(e,t){var n=s(e);return r.updateBusinessObject(e,n,t)}}))}},8017:function(e,t,n){"use strict";n("ac6a");var r=n("daa2");e.exports=function(e,t,n,i){var a=r(t,n,{},i);return e.entries=e.entries.concat(a.entries),{getSelectedParameter:a.getSelectedParameter}}},8100:function(e,t,n){"use strict";var r=n("3c19"),i=n("f189");e.exports=function(e,t,n,a){var s=n.getBusinessObject,o=r.textField({id:"externalTaskPriority",label:a("Task Priority"),modelProperty:"taskPriority",get:function(e,t){var n=s(e);return{taskPriority:n.get("flowable:taskPriority")}},set:function(e,t){var n=s(e);return i.updateBusinessObject(e,n,{"flowable:taskPriority":t.taskPriority||void 0})}});return[o]}},"85fc":function(e,t,n){"use strict";n("20d6"),n("28a5"),n("7f7f"),n("6b54");var r=n("a8e8").escapeHTML,i=n("e506").domify,a=n("e506").attr,s=n("6cd4"),o=n("ab24"),l=function(e){return!(!e||"[object Array]"!==Object.prototype.toString.call(e))},u=function(e){return e.concat([{name:"",value:""}])},c=function(e){return'<option value="'+e.value+'">'+e.name+"</option>"},p=function(e,t){var n=t,p=e.label||n.id,d=e.selectOptions||[{name:"",value:""}],f=e.modelProperty,m=e.emptyParameter,v=!!e.disabled&&"function"===typeof e.disabled,b=!!e.hidden&&"function"===typeof e.hidden,g=e.description;m&&(d=u(d));var y=n.multiple||"";return n.html='<label for="flowable-'+r(n.id)+'"'+(v?'data-disable="isDisabled" ':"")+(b?'data-show="isHidden" ':"")+">"+r(p)+'</label><select id="flowable-'+r(n.id)+'-select" '+y+' name="'+r(f)+'"'+(v?'data-disable="isDisabled" ':"")+(b?'data-show="isHidden" ':"")+" data-value>",l(d)&&s(d,(function(e){n.html+='<option value="'+r(e.value)+'">'+(e.name?r(e.name):"")+"</option>"})),n.html+="</select>",g&&"function"!==typeof e.showCustomInput&&(n.html+=o(g)),n.setControlValue=function(e,t,n,r,o){if("function"===typeof d){var l=d(e,n);if(Array.isArray(l)){while(n.firstChild)n.removeChild(n.firstChild);s(l,(function(e){var t=i(c(e));n.appendChild(t)}))}else{var u=n.value;u||l.then((function(e){while(n.firstChild)n.removeChild(n.firstChild);var t=i(c({name:"",value:""}));n.appendChild(t),s(e,(function(e){var t=i(c(e)),r=void 0;n.multiple?(r=o?o.split(","):[],r.findIndex((function(e,n,r){return e===t.value}))>=0?a(t,"selected","selected"):a(t,"selected",null)):(r=o,t.value===o?a(t,"selected","selected"):a(t,"selected",null)),n.appendChild(t)}))}))}}void 0!==o&&(n.value=o)},v&&(n.isDisabled=function(){return e.disabled.apply(n,arguments)}),b&&(n.isHidden=function(){return!e.hidden.apply(n,arguments)}),n.cssClasses=["bpp-dropdown"],n};e.exports=p},"894d":function(e,t,n){"use strict";n("ac6a");var r=n("77c6"),i=n("1d89"),a=n("3c19"),s=n("f189");function o(e){return r.getImplementationType(e)}function l(e){return r.getServiceTaskLikeBusinessObject(e)}function u(e){return i.getConnector(e)}function c(e){return"connector"===o(e)}e.exports=function(e,t,n,r){e.entries.push(a.textField({id:"connectorId",label:r("Connector Id"),modelProperty:"connectorId",get:function(e,t){var n=l(e),r=n&&u(n),i=r&&r.get("connectorId");return{connectorId:i}},set:function(e,t,n){var r=l(e),i=u(r);return s.updateBusinessObject(e,i,{connectorId:t.connectorId||void 0})},validate:function(e,t,n){return c(e)&&!t.connectorId?{connectorId:r("Must provide a value")}:{}},hidden:function(e,t){return!c(e)}}))}},"8d7b":function(e,t,n){"use strict";n("6b54");var r=n("6cd4"),i=n("1166");function a(e,t){this._elementRegistry=e,this._bpmnFactory=t}function s(e,t){if(!e)throw new Error(t+" required");return e}function o(e,t){if(!e||"[object Array]"!==Object.prototype.toString.call(e))throw new Error(t+" needs to be a list");return e}a.$inject=["elementRegistry","bpmnFactory"],e.exports=a,a.prototype.execute=function(e){var t=s(e.currentObject,"currentObject"),n=s(e.propertyName,"propertyName"),a=o(e.newObjects,"newObjects"),l=[e.element],u=[],c=this;return r(a,(function(e){var n=i.createElement(e.type,e.properties,t,c._bpmnFactory);u.push(n)})),e.childObject=u,e.previousChilds=t[n],t[n]=u,e.changed=l,l},a.prototype.revert=function(e){var t=e.currentObject,n=e.propertyName,r=e.previousChilds;return t.set(n,r),e.changed}},"8f24":function(e,t,n){"use strict";var r=n("7a6b").is,i=n("3c19"),a=n("cd48"),s=n("1166"),o=n("6abd"),l=n("f189");function u(e){return a.isAsyncBefore(e)}function c(e){return a.isAsyncAfter(e)}function p(e){return a.getFailedJobRetryTimeCycle(e)}function d(e,t){return a.removeFailedJobRetryTimeCycle(e,t)}function f(e,t){return s.createElement("bpmn:ExtensionElements",{values:[]},e,t)}function m(e,t,n){return s.createElement("flowable:FailedJobRetryTimeCycle",{body:n},e,t)}e.exports=function(e,t,n,a){var s=n.getBusinessObject,v=n.idPrefix||"",b=n.labelPrefix||"",g=i.textField({id:v+"retryTimeCycle",label:b+a("Retry Time Cycle"),modelProperty:"cycle",get:function(e,t){var n=p(s(e)),r=n&&n.get("body");return{cycle:r}},set:function(e,n,r){var i=n.cycle,a=s(e);if(""===i||"undefined"===typeof i)return d(a,e);var o=p(a);if(!o){var u=[],c=a.get("extensionElements");return c||(c=f(a,t),u.push(l.updateBusinessObject(e,a,{extensionElements:c}))),o=m(c,t,i),u.push(l.addAndRemoveElementsFromList(e,c,"values","extensionElements",[o],[])),u}return l.updateBusinessObject(e,o,{body:i})},hidden:function(e){var t=s(e);return(!t||!u(t)&&!c(t))&&(!r(e,"bpmn:Event")||!o.getTimerEventDefinition(e))}});return[g]}},"8f59":function(e,t,n){"use strict";var r=n("a8e8").escapeHTML,i=n("ab24"),a=n("2696");function s(e){var t=e.id,n=e.label||t,s=e.showLink,o=e.handleClick,l=e.description;if(s&&"function"!==typeof s)throw new Error("options.showLink must be a function");if("function"!==typeof o)throw new Error("options.handleClick must be a function");var u={id:t};return u.html='<a data-action="handleClick" '+(s?'data-show="showLink" ':"")+'class="bpp-entry-link'+(e.cssClasses?" "+r(e.cssClasses):"")+'">'+r(n)+"</a>",l&&(u.html+=i(l)),u.handleClick=a(o,u),"function"===typeof s&&(u.showLink=function(){return s.apply(u,arguments)}),u}e.exports=s},9006:function(e,t,n){"use strict";var r=n("3c19"),i=n("f189");e.exports=function(e,t,n,a){var s=n.getBusinessObject,o=r.textField({id:"jobPriority",label:a("Job Priority"),modelProperty:"jobPriority",get:function(e,t){var n=s(e);return{jobPriority:n.get("flowable:jobPriority")}},set:function(e,t){var n=s(e);return i.updateBusinessObject(e,n,{"flowable:jobPriority":t.jobPriority||void 0})}});return[o]}},"912f":function(e,t,n){"use strict";n("b54a"),n("ac6a");var r=n("77c6"),i=n("1d89"),a=n("a8e8"),s=a.escapeHTML,o=a.triggerClickEvent,l=n("00fc"),u=n("09c9"),c=n("1009"),p=n("980e"),d=n("7947"),f=n("3c19"),m=n("e506").query,v=n("e506").closest,b=n("e506").classes;function g(e){return r.getImplementationType(e)}function y(e){return r.getServiceTaskLikeBusinessObject(e)}function h(e){return r.isDmnCapable(e)}function E(e){return r.isExternalCapable(e)}function x(e){return r.isServiceTaskLike(e)}function w(e,t){var n=v(e,".bpp-properties-panel");return m('a[data-tab-target="'+t+'"]',n)}e.exports=function(e,t,n,r){if(x(y(t))){var a=h(t),v=E(y(t));e.entries=e.entries.concat(l(t,n,{getBusinessObject:y,getImplementationType:g,hasDmnSupport:a,hasExternalSupport:v,hasServiceTaskLikeSupport:!0},r)),e.entries=e.entries.concat(u(t,n,{getBusinessObject:y,getImplementationType:g},r)),e.entries=e.entries.concat(d(t,n,{getBusinessObject:y,getImplementationType:g,hideResultVariable:function(e,t){return"expression"!==g(e)}},r)),v&&(e.entries=e.entries.concat(c(t,n,{getBusinessObject:y,getImplementationType:g},r))),a&&(e.entries=e.entries.concat(p(t,n,{getCallableType:g},r)));var T=function(e){return"connector"===g(e)};e.entries.push(f.link({id:"configureConnectorLink",label:r("Configure Connector"),handleClick:function(e,t,n){var r=w(t,"connector");return r&&o(r),!1},showLink:function(e,t){var n=m("a",t);if(n.textContent="",b(n).remove("bpp-error-message"),T(e)){var a=i.getConnector(e).get("connectorId");return a?n.textContent=r("Configure Connector"):(n.innerHTML='<span class="bpp-icon-warning"></span> '+s(r("Must configure Connector")),b(n).add("bpp-error-message")),!0}return!1}}))}}},9218:function(e,t,n){"use strict";n("ac6a");var r=n("77c6"),i=n("5e6e");e.exports=function(e,t,n,a){var s=r.getServiceTaskLikeBusinessObject(t);if(s){var o=i(t,n,a,{businessObject:s});o&&o.length>0&&(e.entries=e.entries.concat(o))}}},"925a":function(e,t,n){"use strict";n("ac6a");var r=n("7a6b").is,i=n("7a6b").getBusinessObject,a=n("9006"),s=n("8f24");e.exports=function(e,t,n,o){var l=i(t);(r(t,"flowable:JobPriorized")||r(t,"bpmn:Participant")&&l.get("processRef"))&&(e.entries=e.entries.concat(a(t,n,{getBusinessObject:function(e){var t=i(e);return r(t,"bpmn:Participant")?t.get("processRef"):t}},o))),r(t,"flowable:AsyncCapable")&&(e.entries=e.entries.concat(s(t,n,{getBusinessObject:i},o)))}},"92bb":function(e,t,n){"use strict";var r=function(e){return{id:e.id,html:'<label data-value="label" data-show="showLabel" class="entry-label'+(e.divider?" divider":"")+'"></label>',get:function(t,n){return"function"===typeof e.get?e.get(t,n):{label:e.labelText}},showLabel:function(t,n){return"function"!==typeof e.showLabel||e.showLabel(t,n)}}};e.exports=r},"950e":function(e,t,n){},"96b6":function(e,t,n){"use strict";var r=n("6cd4"),i={"properties-panel.update-businessobject":n("c3b3"),"properties-panel.create-and-reference":n("f091"),"properties-panel.create-businessobject-list":n("8d7b"),"properties-panel.update-businessobject-list":n("4f1f"),"properties-panel.multi-command-executor":n("19d0")};function a(e,t){e.on("diagram.init",(function(){r(i,(function(e,n){t.registerHandler(n,e)}))}))}a.$inject=["eventBus","commandStack"],e.exports={__init__:[a]}},"980e":function(e,t,n){"use strict";var r=n("f189"),i=n("3c19"),a=n("1166"),s=n("b49c"),o=n("7947"),l=n("7a6b").getBusinessObject,u=n("7a6b").is,c=n("6cd4"),p={bpmn:{element:"calledElement",binding:"flowable:calledElementBinding",version:"flowable:calledElementVersion",versionTag:"flowable:calledElementVersionTag",tenantId:"flowable:calledElementTenantId"},cmmn:{element:"flowable:caseRef",binding:"flowable:caseBinding",version:"flowable:caseVersion",tenantId:"flowable:caseTenantId"},dmn:{element:"flowable:decisionRef",binding:"flowable:decisionRefBinding",version:"flowable:decisionRefVersion",versionTag:"flowable:decisionRefVersionTag",tenantId:"flowable:decisionRefTenantId"}},d=[{name:"singleEntry (TypedValue)",value:"singleEntry"},{name:"singleResult (Map<String, Object>)",value:"singleResult"},{name:"collectEntries (List<Object>)",value:"collectEntries"},{name:"resultList (List<Map<String, Object>>)",value:"resultList"}],f=[{name:"variableMappingClass",value:"variableMappingClass"},{name:"variableMappingDelegateExpression",value:"variableMappingDelegateExpression"}];function m(e){var t=[],n=l(e),r=s.getExtensionElements(n,"flowable:In");return r&&c(r,(function(e){void 0!==e.businessKey&&t.push(e)})),t}function v(e,t,n){var i=[],s=m(e);if(s.length)i.push(r.updateBusinessObject(e,s[0],{businessKey:t}));else{var o=l(e),u=o.extensionElements;u||(u=a.createElement("bpmn:ExtensionElements",{values:[]},o,n),i.push(r.updateProperties(e,{extensionElements:u})));var c=a.createElement("flowable:In",{businessKey:t},u,n);i.push(r.addAndRemoveElementsFromList(e,u,"values","extensionElements",[c],[]))}return i}function b(e){var t=m(e),n=[];return c(t,(function(t){n.push(s.removeEntry(l(e),e,t))})),n}function g(e){return-1!==["bpmn","cmmn","dmn"].indexOf(e)}e.exports=function(e,t,n,a){var s=[{name:a("latest"),value:"latest"},{name:a("deployment"),value:"deployment"},{name:a("version"),value:"version"},{name:a("versionTag"),value:"versionTag"}],c=n.getCallableType,y=[];function h(e,t){var n=c(e);return(p[n]||{})[t]}function E(e){var t=c(e),n=l(e),r=(p[t]||{}).binding;return n.get(r)}function x(e){var t=l(e),n=t.get("flowable:variableMappingClass"),r=t.get("flowable:variableMappingDelegateExpression"),i="";return"undefined"!==typeof n?i="variableMappingClass":"undefined"!==typeof r&&(i="variableMappingDelegateExpression"),i}return y.push(i.textField({id:"callable-element-ref",dataValueLabel:"callableElementLabel",modelProperty:"callableElementRef",get:function(e,t){var n,r=h(e,"element");if(r){var i=l(e);n=i.get(r)}var s="",o=c(e);return"bpmn"===o?s=a("Called Element"):"cmmn"===o?s=a("Case Ref"):"dmn"===o&&(s=a("Decision Ref")),{callableElementRef:n,callableElementLabel:s}},set:function(e,t,n){var i=t.callableElementRef,a=h(e,"element"),s={};return s[a]=i||"",r.updateProperties(e,s)},validate:function(e,t,n){var r=t.callableElementRef,i=c(e);return g(i)&&!r?{callableElementRef:a("Must provide a value")}:{}},hidden:function(e,t){return!g(c(e))}})),y.push(i.selectBox({id:"callable-binding",label:a("Binding"),selectOptions:function(e){var t,n=c(e);return t="cmmn"===n?s.filter((function(e){return"versionTag"!==e.value})):s,t},modelProperty:"callableBinding",get:function(e,t){var n,r=h(e,"binding");if(r){var i=l(e);n=i.get(r)||"latest"}return{callableBinding:n}},set:function(e,t,n){var i=t.callableBinding,a=h(e,"binding"),s=h(e,"version"),o=h(e,"versionTag"),l={};return l[a]=i,l[s]=void 0,l[o]=void 0,r.updateProperties(e,l)},hidden:function(e,t){return!g(c(e))}})),y.push(i.textField({id:"callable-version",label:a("Version"),modelProperty:"callableVersion",get:function(e,t){var n,r=h(e,"version");if(r){var i=l(e);n=i.get(r)}return{callableVersion:n}},set:function(e,t,n){var i=t.callableVersion,a=h(e,"version"),s={};return s[a]=i||void 0,r.updateProperties(e,s)},validate:function(e,t,n){var r=t.callableVersion,i=c(e);return g(i)&&"version"===E(e)&&(r?{}:{callableVersion:a("Must provide a value")})},hidden:function(e,t){var n=c(e);return!g(n)||"version"!==E(e)}})),y.push(i.textField({id:"callable-version-tag",label:a("Version Tag"),modelProperty:"versionTag",get:function(e,t){var n,r=h(e,"versionTag");if(r){var i=l(e);n=i.get(r)}return{versionTag:n}},set:function(e,t,n){var i=t.versionTag,a=h(e,"versionTag"),s={};return s[a]=i||void 0,r.updateProperties(e,s)},validate:function(e,t,n){var r=t.versionTag,i=c(e);return g(i)&&"versionTag"===E(e)&&(r?{}:{versionTag:a("Must provide a value")})},hidden:function(e,t){var n=c(e);return!g(n)||"versionTag"!==E(e)}})),y.push(i.textField({id:"tenant-id",label:a("Tenant Id"),modelProperty:"tenantId",get:function(e,t){var n,r=h(e,"tenantId");if(r){var i=l(e);n=i.get(r)}return{tenantId:n}},set:function(e,t,n){var i=t.tenantId,a=h(e,"tenantId"),s={};return s[a]=i||void 0,r.updateProperties(e,s)},hidden:function(e,t){var n=c(e);return!g(n)}})),u(l(e),"bpmn:CallActivity")&&y.push(i.checkbox({id:"callable-business-key",label:a("Business Key"),modelProperty:"callableBusinessKey",get:function(e,t){var n=m(e);return{callableBusinessKey:!!(n&&n.length>0)}},set:function(e,n,r){return n.callableBusinessKey?v(e,"#{execution.processBusinessKey}",t):b(e)}})),y.push(i.textField({id:"business-key-expression",label:a("Business Key Expression"),modelProperty:"businessKey",get:function(e,t){var n=m(e);return{businessKey:n.length?n[0].get("flowable:businessKey"):void 0}},set:function(e,n,r){var i=n.businessKey;return v(e,i,t)},validate:function(e,t,n){var r=t.businessKey;return""===r?{businessKey:a("Must provide a value")}:{}},hidden:function(e,t){return!m(e).length}})),y=y.concat(o(e,t,{id:"dmn-resultVariable",getBusinessObject:l,getImplementationType:c,hideResultVariable:function(e,t){return"dmn"!==c(e)}},a)),y.push(i.selectBox({id:"dmn-map-decision-result",label:a("Map Decision Result"),selectOptions:d,modelProperty:"mapDecisionResult",get:function(e,t){var n=l(e);return{mapDecisionResult:n.get("flowable:mapDecisionResult")||"resultList"}},set:function(e,t,n){return r.updateProperties(e,{"flowable:mapDecisionResult":t.mapDecisionResult||"resultList"})},hidden:function(e,t){var n=l(e),r=n.get("flowable:resultVariable");return!("dmn"===c(e)&&"undefined"!==typeof r)}})),y.push(i.selectBox({id:"delegateVariableMappingType",label:a("Delegate Variable Mapping"),selectOptions:f,emptyParameter:!0,modelProperty:"delegateVariableMappingType",get:function(e,t){return{delegateVariableMappingType:x(e)}},set:function(e,t,n){var i=t.delegateVariableMappingType,a={"flowable:variableMappingClass":void 0,"flowable:variableMappingDelegateExpression":void 0};return"variableMappingClass"===i?a["flowable:variableMappingClass"]="":"variableMappingDelegateExpression"===i&&(a["flowable:variableMappingDelegateExpression"]=""),r.updateProperties(e,a)},hidden:function(e,t){return"bpmn"!==c(e)}})),y.push(i.textField({id:"delegateVariableMapping",dataValueLabel:"delegateVariableMappingLabel",modelProperty:"delegateVariableMapping",get:function(e,t){var n=l(e),r="",i=void 0,s=x(e);return"variableMappingClass"===s?(r=a("Class"),i=n.get("flowable:variableMappingClass")):"variableMappingDelegateExpression"===s&&(r=a("Delegate Expression"),i=n.get("flowable:variableMappingDelegateExpression")),{delegateVariableMapping:i,delegateVariableMappingLabel:r}},set:function(e,t,n){var i=t.delegateVariableMapping,a="flowable:"+x(e),s={};return s[a]=i||void 0,r.updateProperties(e,s)},validate:function(e,t,n){var r=t.delegateVariableMapping;return"bpmn"===c(e)&&(r?{}:{delegateVariableMapping:a("Must provide a value")})},hidden:function(e,t){return!("bpmn"===c(e)&&""!==x(e))}})),y}},"9db7":function(e,t,n){"use strict";var r=1e3;function i(e,t){var n=this;t=t||r,e.on("propertiesPanel.isEntryVisible",t,(function(e){return n.isEntryVisible(e.entry,e.element)})),e.on("propertiesPanel.isPropertyEditable",t,(function(e){return n.isPropertyEditable(e.entry,e.propertyName,e.element)}))}i.$inject=["eventBus"],e.exports=i,i.prototype.isEntryVisible=function(e,t){return!0},i.prototype.isPropertyEditable=function(e,t,n){return!0}},"9e32":function(e,t,n){"use strict";n("ac6a");var r=n("7a6b").getBusinessObject,i=n("7a6b").is,a=n("3c19"),s=n("f189"),o=n("1bb8");e.exports=function(e,t,n,l){var u;if(i(t,"bpmn:ScriptTask")&&(u=r(t)),u){var c=o("scriptFormat","script",!1,l);e.entries.push({id:"script-implementation",label:l("Script"),html:c.template,get:function(e){return c.get(e,u)},set:function(e,t,n){var r=c.set(e,t,n);return s.updateProperties(e,r)},validate:function(e,t){return c.validate(e,t)},script:c,cssClasses:["bpp-textfield"]}),e.entries.push(a.textField({id:"scriptResultVariable",label:l("Result Variable"),modelProperty:"scriptResultVariable",get:function(e,t){var n=u.get("flowable:resultVariable");return{scriptResultVariable:n}},set:function(e,t,n){return s.updateProperties(e,{"flowable:resultVariable":t.scriptResultVariable.length?t.scriptResultVariable:void 0})}}))}}},"9e48":function(e,t,n){"use strict";n("7f7f");var r=n("a8e8").escapeHTML,i=n("e506").query,a=n("ab24"),s=function(e,t){var n=function(t,n){var r=i('input[name="'+e.modelProperty+'"]',n);return r.value="",!0},s=function(t,n){var r=i('input[name="'+e.modelProperty+'"]',n);return""!==r.value},o=t,l=e.label||o.id,u=e.dataValueLabel,c=e.buttonLabel||"X",p="undefined"!==typeof e.buttonAction?e.buttonAction.name:"clear",d="undefined"!==typeof e.buttonAction?e.buttonAction.method:n,f="undefined"!==typeof e.buttonShow?e.buttonShow.name:"canClear",m="undefined"!==typeof e.buttonShow?e.buttonShow.method:s,v=!!e.disabled&&"function"===typeof e.disabled,b=!!e.hidden&&"function"===typeof e.hidden,g=e.description;return o.html='<label for="flowable-'+r(o.id)+'" '+(v?'data-disable="isDisabled" ':"")+(b?'data-show="isHidden" ':"")+(u?'data-value="'+r(u)+'"':"")+">"+r(l)+'</label><div class="bpp-field-wrapper" '+(v?'data-disable="isDisabled"':"")+(b?'data-show="isHidden"':"")+'><input class="el-input" id="flowable-'+r(o.id)+'" type="number" name="'+r(e.modelProperty)+'" '+(v?'data-disable="isDisabled"':"")+(b?'data-show="isHidden"':"")+' /><button class="'+r(p)+'" data-action="'+r(p)+'" data-show="'+r(f)+'" '+(v?'data-disable="isDisabled"':"")+(b?' data-show="isHidden"':"")+"><span>"+r(c)+"</span></button></div>",g&&(o.html+=a(g)),o[p]=d,o[f]=m,v&&(o.isDisabled=function(){return e.disabled.apply(o,arguments)}),b&&(o.isHidden=function(){return!e.hidden.apply(o,arguments)}),o.cssClasses=["bpp-textfield"],o};e.exports=s},a127:function(e,t,n){"use strict";n("ac6a");var r=n("7a6b").is,i=n("7a6b").getBusinessObject,a=n("abcb");e.exports=function(e,t,n,s){var o=i(t);(r(t,"flowable:Process")||r(t,"bpmn:Participant")&&o.get("processRef"))&&(e.entries=e.entries.concat(a(t,n,{getBusinessObject:function(e){var t=i(e);return r(t,"bpmn:Participant")?t.get("processRef"):t}},s)))}},a664:function(e,t,n){"use strict";var r=n("0d97"),i=n("26ac").getTemplate,a=n("26ac").getDefaultTemplate;function s(e,t,n,i){e.registerHandler("propertiesPanel.flowable.changeTemplate",r),n.on(["commandStack.shape.create.postExecuted"],(function(n){o(n.context.shape,t,e)})),n.on(["commandStack.connection.create.postExecuted"],(function(n){o(n.context.connection,t,e)}))}function o(e,t,n){if(!i(e,t)&&a(e,t)){var r="propertiesPanel.flowable.changeTemplate",s={element:e,newTemplate:a(e,t)};n.execute(r,s)}}s.$inject=["commandStack","elementTemplates","eventBus","elementRegistry"],e.exports={__init__:[s]}},a790:function(e,t,n){"use strict";n("7f7f");var r=n("a8e8").escapeHTML,i=n("e506").query,a=n("ab24"),s=function(e,t){var n=function(t,n){var r=i('input[name="'+e.modelProperty+'"]',n);return r.value="",!0},s=function(t,n){var r=i('input[name="'+e.modelProperty+'"]',n);return""!==r.value},o=t,l=e.label||o.id,u=e.dataValueLabel,c=e.buttonLabel||"X",p="undefined"!==typeof e.buttonAction?e.buttonAction.name:"clear",d="undefined"!==typeof e.buttonAction?e.buttonAction.method:n,f="undefined"!==typeof e.buttonShow?e.buttonShow.name:"canClear",m="undefined"!==typeof e.buttonShow?e.buttonShow.method:s,v=!!e.disabled&&"function"===typeof e.disabled,b=!!e.hidden&&"function"===typeof e.hidden,g=e.description;return o.html='<label for="flowable-'+r(o.id)+'" '+(v?'data-disable="isDisabled" ':"")+(b?'data-show="isHidden" ':"")+(u?'data-value="'+r(u)+'"':"")+">"+r(l)+'</label><div class="bpp-field-wrapper" '+(v?'data-disable="isDisabled"':"")+(b?'data-show="isHidden"':"")+'><input class="el-input" id="flowable-'+r(o.id)+'" type="text" name="'+r(e.modelProperty)+'" '+(v?'data-disable="isDisabled"':"")+(b?'data-show="isHidden"':"")+' /><button class="'+r(p)+'" data-action="'+r(p)+'" data-show="'+r(f)+'" '+(v?'data-disable="isDisabled"':"")+(b?' data-show="isHidden"':"")+"><span>"+r(c)+"</span></button></div>",g&&(o.html+=a(g)),o[p]=d,o[f]=m,v&&(o.isDisabled=function(){return e.disabled.apply(o,arguments)}),b&&(o.isHidden=function(){return!e.hidden.apply(o,arguments)}),o.cssClasses=["bpp-textfield"],o};e.exports=s},a7ac:function(e,t,n){e.exports={__depends__:[n("4a7c"),n("b71e").default],__init__:["propertiesProvider"],propertiesProvider:["type",n("afae")]}},a8e8:function(e,t,n){"use strict";n("a481"),n("7f7f");var r=n("e506").query,i=n("e506").clear,a=n("7a6b").is,s=n("6cd4"),o=n("e506").domify,l=n("e6a4").default,u=/\s/,c=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,p=/^[a-z_][\w-.]*$/i,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function f(e){if(e.selectedIndex>=0)return e.options[e.selectedIndex].value}function m(e,t){var n=r(e,t);return f(n)}function v(e){var t=e;while(t.$parent)t=t.$parent;return t}function b(e,t){var n=e||[],r=[];return s(n,(function(e){a(e,t)&&r.push(e)})),r}function g(e,t){var n=v(e);return b(n.rootElements,t)}function y(e){while(e.firstChild)e.removeChild(e.firstChild)}function h(e){return e.push({label:"",value:"",name:""})}function E(e,t){var n=[],r=g(e,t);return s(r,(function(e){n.push({label:(e.name||"")+" (id="+e.id+")",value:e.id,name:e.name})})),n}function x(e,t,n,a){var l=E(t,n);h(l);var u=r(e,a);return i(u),s(l,(function(e){var t=o('<option value="'+O(e.value)+'">'+O(e.label)+"</option>");u.appendChild(t)})),l}function w(e,t,n){var r=e.$model.ids.assigned(t),i=r&&r!==e;return!t||i?n("Element must have an unique id."):T(t,n)}function T(e,t){return P(e)?t("Id must not contain spaces."):p.test(e)?void 0:c.test(e)?t("Id must not contain prefix."):t("Id must be a valid QName.")}function P(e){return u.test(e)}function S(e){var t=new l([32,32,1]);return t.nextPrefixed(e)}function C(e){var t,n="click";if(document.createEvent){try{t=new MouseEvent(n,{view:window,bubbles:!0,cancelable:!0})}catch(r){t=document.createEvent("MouseEvent"),t.initEvent(n,!0,!0)}return e.dispatchEvent(t)}return t=document.createEventObject(),e.fireEvent("on"+n,t)}function O(e){return e=""+e,e&&e.replace(/[&<>"']/g,(function(e){return d[e]}))}e.exports.selectedOption=f,e.exports.selectedType=m,e.exports.getRoot=v,e.exports.filterElementsByType=b,e.exports.findRootElementsByType=g,e.exports.removeAllChildren=y,e.exports.addEmptyParameter=h,e.exports.refreshOptionsModel=E,e.exports.updateOptionsDropDown=x,e.exports.isIdValid=w,e.exports.validateId=T,e.exports.containsSpace=P,e.exports.nextId=S,e.exports.triggerClickEvent=C,e.exports.escapeHTML=O},ab24:function(e,t,n){"use strict";var r=n("a8e8").escapeHTML;function i(e){var t,n=0,i=[],a=/<br\s*\/?>/gi;while(t=a.exec(e))t.index>n&&i.push(r(e.substring(n,t.index))),i.push("<br />"),n=t.index+t[0].length;return n<e.length&&i.push(r(e.substring(n))),i.join("")}e.exports=function(e){var t,n,r,a=[],s=/(?:\[([^\]]+)\]\((https?:\/\/[^)]+)\))|(?:<a href="(https?:\/\/[^"]+)">(.+?(?=<\/))<\/a>)/gi,o=0;while(t=s.exec(e))t.index>o&&a.push(i(e.substring(o,t.index))),n=t[2]&&encodeURI(t[2])||t[3],r=t[1]||t[4],a.push('<a href="'+n+'" target="_blank">'+i(r)+"</a>"),o=t.index+t[0].length;return o<e.length&&a.push(i(e.substring(o))),'<div class="bpp-field-description">'+a.join("")+"</div>"}},abcb:function(e,t,n){"use strict";var r=n("3c19"),i=n("f189");e.exports=function(e,t,n,a){var s=n.getBusinessObject,o=r.textField({id:"historyTimeToLive",label:a("History Time To Live"),modelProperty:"historyTimeToLive",get:function(e,t){var n=s(e),r=n.get("flowable:historyTimeToLive");return{historyTimeToLive:r||""}},set:function(e,t){var n=s(e);return i.updateBusinessObject(e,n,{"flowable:historyTimeToLive":t.historyTimeToLive||void 0})}});return[o]}},af4a:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",[n("vue-bpmn",{attrs:{"model-data":e.modelData},on:{save:e.btnSave}})],1):e._e()},i=[],a=(n("7f7f"),n("0fea")),s=n("5c96"),o=n("3631"),l={name:"FlowableModelEdit",components:{VueBpmn:o["default"]},data:function(){return{id:void 0,modelData:{id:void 0,editor:void 0},show:!1}},mounted:function(){this.$route.query&&this.$route.query.id&&(this.id=this.$route.query.id),this.getModelData()},methods:{getModelData:function(){var e=this;this.id?Object(a["c"])("/flowable/model/queryById",{id:this.id}).then((function(t){var n=t.data;e.modelData.id=n.id,e.modelData.editor=n.editor,e.modelData.key=n.key,e.modelData.name=n.name,e.modelData.category=n.category,e.modelData.description=n.description,e.show=!0})):s["Message"].error("id is null")},btnSave:function(e){Object(a["e"])("/flowable/model/saveModelEditor",e).then((function(e){var t=e.msg;e.data;s["Message"].success(t)}))}}},u=l,c=n("2877"),p=Object(c["a"])(u,r,i,!1,null,null,null);t["default"]=p.exports},af57:function(e,t,n){"use strict";var r=n("7a6b").is,i=n("7a6b").getBusinessObject,a=n("2152"),s=n("b49c"),o=n("f189"),l=n("1166"),u=n("77c6");function c(e,t){return e&&s.getExtensionElements(e,t)||[]}var p="flowable:ExecutionListener",d="flowable:TaskListener";e.exports=function(e,t,n,f){var m,v={class:f("Java Class"),expression:f("Expression"),delegateExpression:f("Delegate Expression"),script:f("Script")},b={getSelectedListener:h},g=b.entries=[],y=u.isSequenceFlow(e);function h(e,t){var n=T&&T.getSelected(e,t)||{idx:-1},r=c(m,p)[n.idx];return!r&&P&&(n=P.getSelected(e,t),r=c(m,d)[n.idx]),r}var E=function(e){return function(t,n,r,i,a,s){var o=c(m,e),l=o[s],p=u.getImplementationType(l),d=l.get("event")?l.get("event"):"<empty>",f=(d||"*")+" : "+(v[p]||"");r.text=f}},x=function(e,n,r){return function(e,i,a){var s={event:r,class:""},u=l.createElement(n,s,i,t);return o.addElementsTolist(e,i,"values",[u])}},w=function(e,t){return function(e,n,r,i){var a=c(m,t),o=a[i];if(o)return s.removeEntry(m,e,o)}};if((r(e,"bpmn:FlowElement")||r(e,"bpmn:Process")||r(e,"bpmn:Participant"))&&(m=i(e),r(e,"bpmn:Participant")&&(e=e.processRef,m=m.get("processRef")),m)){var T=a(e,t,{id:"executionListeners",label:f("Execution Listener"),modelProperty:"name",idGeneration:"false",reference:"processRef",createExtensionElement:x(e,p,y?"take":"start"),removeExtensionElement:w(e,p),getExtensionElements:function(e){return c(m,p)},onSelectionChange:function(e,t,n,r){P&&P.deselect(e,t)},setOptionLabelValue:E(p)});g.push(T)}if(r(e,"bpmn:UserTask")){m=i(e);var P=a(e,t,{id:"taskListeners",label:f("Task Listener"),modelProperty:"name",idGeneration:"false",createExtensionElement:x(e,d,"create"),removeExtensionElement:w(e,d),getExtensionElements:function(e){return c(m,d)},onSelectionChange:function(e,t,n,r){T.deselect(e,t)},setOptionLabelValue:E(d)});g.push(P)}return b}},afae:function(e,t,n){"use strict";n("ac6a");var r=n("3fb5"),i=n("9db7"),a=n("cd48"),s=n("77c6"),o=n("7a6b").is,l=n("9637"),u=n("1019"),c=n("72b8"),p=n("be86"),d=n("306a"),f=n("2659"),m=n("f328"),v=n("912f"),b=n("1b9c"),g=n("6c96"),y=n("16c9"),h=n("ce74"),E=n("12ca"),x=n("9e32"),w=n("d1c1"),T=n("5b00"),P=n("5222"),S=n("d2d42"),C=n("0f1e"),O=n("6508"),A=(n("7f79"),n("e815"),n("fed5")),B=n("57d9"),j=n("01fe"),I=n("d006"),D=n("b0c3"),L=n("efe8"),F=n("fe7c"),k=n("8017"),_=n("30ea"),V=n("894d"),M=n("6f39"),R=n("7b67"),N=n("4d8d"),H=n("925a"),G=n("a127"),q=n("ed27"),K=n("ffa3"),U=n("0c3e"),$=n("9218"),z=n("7a6b").getBusinessObject,J=n("6abd"),X=n("77c6"),W=function(e){var t=z(e);if(o(e,"bpmn:Process")||o(e,"bpmn:Participant")&&t.get("processRef"))return!0;var n=s.getServiceTaskLikeBusinessObject(e),r="external"===s.getImplementationType(n);return!!s.isExternalCapable(n)&&r},Z=function(e){var t=z(e);if(o(e,"bpmn:Process")||o(e,"bpmn:Participant")&&t.get("processRef"))return!0;var n=z(e);return!(!a.isAsyncBefore(n)&&!a.isAsyncAfter(n))||!!o(e,"bpmn:Event")&&!!J.getTimerEventDefinition(e)},Q=function(e,t){return o(e,"flowable:InputParameter")?t("Input Parameter"):o(e,"flowable:OutputParameter")?t("Output Parameter"):""},Y=function(e,t){return o(e,"flowable:ExecutionListener")?t("Execution Listener"):o(e,"flowable:TaskListener")?t("Task Listener"):""},ee="This maps to the process definition key.",te="This maps to the task definition key.";function ne(e,t,n,r,i,a){e=e.labelTarget||e;var s,T,S={id:"general",label:a("General"),entries:[]};o(e,"bpmn:Process")&&(s={description:ee}),o(e,"bpmn:UserTask")&&(s={description:te}),o(e,"bpmn:Participant")&&(T={processIdDescription:ee}),O(S,e,a),d(S,e,a,s),f(S,e,n,t,a),l(S,e,a,T),C(S,e,a),m(S,e,a),L(S,e,i,a);var j=F(e,i,n,a),I={id:"details",label:a("Details"),entries:[]};v(I,e,n,a),b(I,e,a),x(I,e,n,a),c(I,e,a),y(I,e,n,a),u(I,e,n,r,a),w(I,e,n,a),E(I,e,n,a),P(I,e,a);var D={id:"timeGroup",label:a("时间相关组件"),entries:[]};A(D,e,r,n,a),B(D,e,r,n,a);var k={id:"multiInstance",label:a("Multi Instance"),entries:[]};h(k,e,n,a);var _={id:"async",label:a("Asynchronous Continuations"),entries:[]};g(_,e,n,a);var V={id:"jobConfiguration",label:a("Job Configuration"),entries:[],enabled:Z};H(V,e,n,a);var M={id:"externalTaskConfiguration",label:a("External Task Configuration"),entries:[],enabled:W};U(M,e,n,a);var R={id:"candidateStarterConfiguration",label:a("Candidate Starter Configuration"),entries:[]};q(R,e,n,a);var N={id:"historyConfiguration",label:a("History Configuration"),entries:[]};G(N,e,n,a);var $={id:"tasklist",label:a("Tasklist Configuration"),entries:[]};K($,e,n,a);var z={id:"documentation",label:a("Documentation"),entries:[]};p(z,e,n,a);var J=[];return J.push(S),j.forEach((function(e){J.push(e)})),J.push(I),J.push(M),J.push(D),J.push(k),J.push(_),J.push(V),J.push(R),J.push(N),J.push($),J.push(z),J}function re(e,t,n,r){var i={id:"variables",label:r("Variables"),entries:[]};return S(i,e,t,r),[i]}function ie(e,t,n,r){var i={id:"forms",label:r("Forms"),entries:[]};return T(i,e,t,r),[i]}function ae(e,t,n,r){var i={id:"listeners",label:r("Listeners"),entries:[]},a=j(i,e,t,r),s={id:"listener-details",entries:[],enabled:function(e,t){return a.getSelectedListener(e,t)},label:function(e,t){var n=a.getSelectedListener(e,t);return Y(n,r)}};I(s,e,t,a,r);var o={id:"listener-fields",label:r("Field Injection"),entries:[],enabled:function(e,t){return a.getSelectedListener(e,t)}};return D(o,e,t,a,r),[i,s,o]}function se(e,t,n,r){var i={id:"input-output",label:r("Parameters"),entries:[]},a=k(i,e,t,r),s={id:"input-output-parameter",entries:[],enabled:function(e,t){return a.getSelectedParameter(e,t)},label:function(e,t){var n=a.getSelectedParameter(e,t);return Q(n,r)}};return _(s,e,t,a,r),[i,s]}function oe(e,t,n,r){var i={id:"connector-details",label:r("Details"),entries:[]};V(i,e,t,r);var a={id:"connector-input-output",label:r("Input/Output"),entries:[]},s=M(a,e,t,r),o={id:"connector-input-output-parameter",entries:[],enabled:function(e,t){return s.getSelectedParameter(e,t)},label:function(e,t){var n=s.getSelectedParameter(e,t);return Q(n,r)}};return R(o,e,t,s,r),[i,a,o]}function le(e,t,n,r){var i={id:"field-injections-properties",label:r("Field Injections"),entries:[]};return $(i,e,t,r),[i]}function ue(e,t,n,r){var i={id:"extensionElements-properties",label:r("Properties"),entries:[]};return N(i,e,t,r),[i]}function ce(e,t,n,r,a,s){i.call(this,e),this.getTabs=function(e){var i={id:"general",label:s("General"),groups:ne(e,t,n,r,a,s)},l={id:"variables",label:s("Variables"),groups:re(e,n,r,s)},u={id:"forms",label:s("Forms"),groups:ie(e,n,r,s)},c={id:"listeners",label:s("Listeners"),groups:ae(e,n,r,s),enabled:function(e){return!J.getLinkEventDefinition(e)||!o(e,"bpmn:IntermediateThrowEvent")&&J.getLinkEventDefinition(e)}},p={id:"input-output",label:s("Input/Output"),groups:se(e,n,r,s)},d={id:"connector",label:s("Connector"),groups:oe(e,n,r,s),enabled:function(e){var t=X.getServiceTaskLikeBusinessObject(e);return t&&"connector"===X.getImplementationType(t)}},f={id:"field-injections",label:s("Field Injections"),groups:le(e,n,r,s)},m={id:"extensionElements",label:s("Extensions"),groups:ue(e,n,r,s)};return[i,l,d,u,c,p,f,m]}}ce.$inject=["eventBus","canvas","bpmnFactory","elementRegistry","elementTemplates","translate"],r(ce,i),e.exports=ce},b0c3:function(e,t,n){"use strict";n("ac6a");var r=n("dce5"),i=n("5e6e");e.exports=function(e,t,n,a,s){a=r({idPrefix:"listener-",insideListener:!0},a);var o=i(t,n,s,a);o&&o.length>0&&(e.entries=e.entries.concat(o))}},b49c:function(e,t,n){"use strict";var r=n("f189"),i=n("1166"),a=n("7a6b").is,s={},o=function(e){return e.get("extensionElements")};s.getExtensionElements=function(e,t){var n=o(e);if("undefined"!==typeof n){var r=n.get("values");if("undefined"!==typeof r){var i=r.filter((function(e){return a(e,t)}));if(i.length)return i}}},s.addEntry=function(e,t,n,a){var s=e.get("extensionElements");return s?r.addElementsTolist(t,s,"values",[n]):(s=i.createElement("bpmn:ExtensionElements",{values:[n]},e,a),{extensionElements:s})},s.removeEntry=function(e,t,n){var i=e.get("extensionElements");return i?r.removeElementsFromList(t,i,"values","extensionElements",[n]):{}},e.exports=s},c3b3:function(e,t,n){"use strict";var r=n("50ca"),i=n("7a6b").is,a=n("ec69"),s=n("6cd4");function o(e){this._elementRegistry=e}function l(e){var t=e;while(t.$parent)t=t.$parent;return t}function u(e,t){return r(t,(function(t,n){return t[n]=e.get(n),t}),{})}function c(e,t){s(t,(function(t,n){e.set(n,t)}))}o.$inject=["elementRegistry"],e.exports=o,o.prototype.execute=function(e){var t=e.element,n=e.businessObject,r=l(n).rootElements,o=e.referenceType,p=e.referenceProperty,d=[t];if(!t)throw new Error("element required");if(!n)throw new Error("businessObject required");var f=e.properties,m=e.oldProperties||u(n,a(f));return"undefined"!==typeof o&&"undefined"!==typeof p&&s(r,(function(e){i(e,o)&&e.id===f[p]&&(f[p]=e)})),c(n,f),e.oldProperties=m,e.changed=d,d},o.prototype.revert=function(e){var t=e.oldProperties,n=e.businessObject;return c(n,t),e.changed}},c400:function(e,t,n){"use strict";n("7f7f"),n("ac6a");var r=n("6747"),i=n("1a8c9"),a="Dropdown",s=["String","Text","Boolean","Hidden",a],o="property",l="flowable:property",u="flowable:inputParameter",c="flowable:outputParameter",p="flowable:in",d="flowable:out",f="flowable:in:businessKey",m="flowable:executionListener",v="flowable:field",b=[o,l,u,c,p,d,f,m,v];function g(){this._templatesById={},this._validTemplates=[],this._errors=[],this.addAll=function(e){return r(e)?e.forEach(this.add,this):this._logError("templates must be []"),this},this.add=function(e){var t=this._validateTemplate(e);return t||(this._templatesById[e.id]=e,this._validTemplates.push(e)),this},this._validateTemplate=function(e){var t,n=e.id,i=e.appliesTo,a=e.properties,s=e.scopes;return n?n in this._templatesById?this._logError("template id <"+n+"> already used"):(r(i)||(t=this._logError("missing appliesTo=[]",e)),r(a)?this._validateProperties(a)||(t=new Error("invalid properties")):t=this._logError("missing properties=[]",e),s&&(t=this._validateScopes(e,s)),t):this._logError("missing template id")},this._validateScopes=function(e,t){var n,a,s;if(!i(t)||r(t))return this._logError("invalid scopes, should be scopes={}",e);for(s in t)a=t[s],i(a)&&!r(a)||(n=this._logError("invalid scope, should be scope={}",e)),r(a.properties)?this._validateProperties(a.properties)||(n=new Error("invalid properties in scope <"+s+">")):n=this._logError("missing properties=[] in scope <"+s+">",e);return n},this._validateProperties=function(e){var t=e.filter(this._validateProperty,this);return e.length===t.length},this._validateProperty=function(e){var t,n=e.type,i=e.binding,f=i.type;return-1===s.indexOf(n)&&(t=this._logError("invalid property type <"+n+">; must be any of { "+s.join(", ")+" }")),n===a&&f!==m&&(r(e.choices)?e.choices.every(y)||(t=this._logError("{ name, value } must be specified for "+a+" choices")):t=this._logError("must provide choices=[] with "+a+" type")),i?(-1===b.indexOf(f)&&(t=this._logError("invalid property.binding type <"+f+">; must be any of { "+b.join(", ")+" }")),f!==o&&f!==l&&f!==u&&f!==v||i.name||(t=this._logError("property.binding <"+f+"> requires name")),f===c&&(i.source||(t=this._logError("property.binding <"+f+"> requires source"))),f===p&&(i.variables||i.target||(t=this._logError("property.binding <"+f+"> requires variables or target"))),f===d&&(i.variables||i.source||i.sourceExpression||(t=this._logError("property.binding <"+f+"> requires variables, sourceExpression or source"))),f===m&&"Hidden"!==n&&(t=this._logError("invalid property type <"+n+"> for "+m+"; must be <Hidden>")),!t):this._logError("property missing binding")},this._logError=function(e,t){return"string"===typeof e&&(t&&(e="template(id: "+t.id+") "+e),e=new Error(e)),this._errors.push(e),e},this.getErrors=function(){return this._errors},this.getValidTemplates=function(){return this._validTemplates}}function y(e){return"name"in e&&"value"in e}e.exports=g},c551:function(e,t,n){"use strict";n("28a5"),n("a481");var r=n("3fb5"),i=n("26ac").getTemplate,a=n("9db7"),s=1100;function o(e,t){a.call(this,e,s),this.isEntryVisible=function(e,n){var r=i(n,t);if(r&&!p(e,r))return!1},this.isPropertyEditable=function(e,n,r){var a=i(r,t);if(a&&!d(e,a))return!1}}o.$inject=["eventBus","elementTemplates"],r(o,a),e.exports=o;var l=/^custom-/,u={_all:!1,id:!0,name:!0};function c(e){return l.test(e.id)}function p(e,t){var n=e.id;if("elementTemplate-chooser"===n||c(e))return!0;var r=t.entriesVisible||u;if("boolean"===typeof r)return r;var i=r._all||!1,a=r[n];return!0===i&&!1!==a||!1===i&&!0===a}function d(e,t){var n;return!c(e)||(n=f(t,e),n&&!1!==n.editable)}function f(e,t){var n,r=t.id.replace("custom-"+e.id+"-","");if(-1!==r.indexOf("-")){var i=r.split("-");if(2===i.length){var a=i[0].replace(/_/g,":");if(n=parseInt(i[1],10),a&&!isNaN(n))return e.scopes[a].properties[n]}}else if(n=parseInt(r,10),!isNaN(n))return e.properties[n];throw new Error("cannot extract property index for entry <"+t.id+">")}},cbed:function(e,t,n){"use strict";n("ac6a");var r=n("7a6b").getBusinessObject,i=n("b49c").getExtensionElements,a={};e.exports=a,a.getFormData=function(e){var t=r(e),n=i(t,"flowable:FormData");if("undefined"!==typeof n)return n[0]},a.getFormFields=function(e){var t=this.getFormData(e);return"undefined"===typeof t?[]:t.fields||[]},a.getFormField=function(e,t){var n=this.getFormFields(e);return n[t]},a.getConstraints=function(e){return e&&e.validation&&e.validation.constraints?e.validation.constraints:[]},a.getEnumValues=function(e){return e&&e.values?e.values:[]}},cd48:function(e,t,n){"use strict";var r=n("dd61"),i=n("b49c");function a(e){return!(!e.get("flowable:asyncBefore")&&!e.get("flowable:async"))}function s(e){return!!e.get("flowable:asyncAfter")}function o(e){return!!e.get("flowable:exclusive")}function l(e){return(i.getExtensionElements(e,"flowable:FailedJobRetryTimeCycle")||[])[0]}function u(e,t){var n=i.getExtensionElements(e,"flowable:FailedJobRetryTimeCycle");return r(n,(function(n){return i.removeEntry(e,t,n)}))}e.exports.isAsyncBefore=a,e.exports.isAsyncAfter=s,e.exports.isExclusive=o,e.exports.getFailedJobRetryTimeCycle=l,e.exports.removeFailedJobRetryTimeCycle=u},ce74:function(e,t,n){"use strict";n("ac6a");var r=n("7a6b").getBusinessObject,i=n("7a6b").is,a=n("d3d7"),s=n("8f24"),o=n("eed6");function l(e){var t=r(e);return t.loopCharacteristics}function u(e){var t=l(e);return!!t&&i(t,"flowable:Collectable")}e.exports=function(e,t,n,r){u(t)&&(e.entries=e.entries.concat(a(t,n,r)),e.entries=e.entries.concat(o(t,n,{getBusinessObject:l,idPrefix:"multiInstance-",labelPrefix:r("Multi Instance ")},r)),e.entries=e.entries.concat(s(t,n,{getBusinessObject:l,idPrefix:"multiInstance-",labelPrefix:r("Multi Instance ")},r)))}},d006:function(e,t,n){"use strict";n("ac6a"),n("7514");var r=n("7a6b").is,i=n("87f2").find,a=n("e812"),s=n("f189"),o=n("77c6"),l=n("1bb8"),u=n("1d83");function c(e){var t=e&&e.event;return"timeout"===t}function p(e){var t=e.eventDefinitions||[];return i(t,(function(e){return r(e,"bpmn:TimerEventDefinition")}))}e.exports=function(e,t,n,r,i){var d={class:i("Java Class"),expression:i("Expression"),delegateExpression:i("Delegate Expression"),script:i("Script")};r=r||{};var f=r.getSelectedListener,m="class",v="expression",b="delegateExpression",g="script",y=o.isSequenceFlow(t)?[{name:i("take"),value:"take"}]:[{name:i("start"),value:"start"},{name:i("end"),value:"end"}],h=[{name:i("create"),value:"create"},{name:i("assignment"),value:"assignment"},{name:i("complete"),value:"complete"},{name:i("delete"),value:"delete"},{name:i("update"),value:"update"},{name:i("timeout"),value:"timeout"}],E=function(e,t){return f(e,t)};e.entries.push(a.selectBox({id:"listener-event-type",label:i("Event Type"),modelProperty:"eventType",emptyParameter:!1,get:function(e,t){var n=f(e,t),r=n&&n.get("event");return{eventType:r}},set:function(e,t,n){var r=t.eventType,i=f(e,n),a=i&&i.eventDefinitions;return a&&"timeout"!==r&&(a=[]),s.updateBusinessObject(e,i,{event:r,eventDefinitions:a})},selectOptions:function(e,t){var n,r=f(e,t);return o.isTaskListener(r)?n=h:o.isExecutionListener(r)&&(n=y),n},hidden:function(e,t){return!E(e,t)}})),e.entries.push(a.textField({id:"listener-id",label:i("Listener Id"),modelProperty:"listenerId",get:function(e,t){var n={},r=f(e,t);return n.listenerId=r&&r.get("id")||void 0,n},set:function(e,t,n){var r={},i=f(e,n);return r["id"]=t.listenerId||"",s.updateBusinessObject(e,i,r)},hidden:function(e,t){var n=f(e,t);return!o.isTaskListener(n)},validate:function(e,t,n){var r=t.listenerId,a=f(e,n),s={};return!r&&c(a)&&(s.listenerId=i("Must provide a value for timeout task listener")),s}})),e.entries.push(a.selectBox({id:"listener-type",label:i("Listener Type"),selectOptions:[{value:m,name:i("Java Class")},{value:v,name:i("Expression")},{value:b,name:i("Delegate Expression")},{value:g,name:i("Script")}],modelProperty:"listenerType",emptyParameter:!1,get:function(e,t){var n=f(e,t);return{listenerType:o.getImplementationType(n)}},set:function(e,t,r){var i=f(e,r),a=t.listenerType||void 0,o={};return o[m]=a===m?"":void 0,o[v]=a===v?"":void 0,o[b]=a===b?"":void 0,o[g]=a===g?n.create("flowable:Script"):void 0,s.updateBusinessObject(e,i,o)},hidden:function(e,t){return!E(e,t)}})),e.entries.push(a.textField({id:"listener-value",dataValueLabel:"listenerValueLabel",modelProperty:"listenerValue",get:function(e,t){var n={},r=f(e,t),i=o.getImplementationType(r);return n.listenerValueLabel=d[i]||"",n.listenerValue=r&&r.get(i)||void 0,n},set:function(e,t,n){var r={},i=f(e,n),a=o.getImplementationType(i);return r[a]=t.listenerValue||"",s.updateBusinessObject(e,i,r)},hidden:function(e,t){var n=f(e,t);return!n||n.script},validate:function(e,t){var n=t.listenerValue,r={};return n||(r.listenerValue=i("Must provide a value")),r}}));var x=l("scriptFormat","value",!0,i);e.entries.push({id:"listener-script-value",html:'<div data-show="isScript">'+x.template+"</div>",get:function(e,t){var n=f(e,t);return n&&n.script?x.get(e,n.script):{}},set:function(e,t,n){var r=f(e,n),i=x.set(e,t,r);return s.updateBusinessObject(e,r.script,i)},validate:function(e,t,n){var r=f(e,n);return r&&r.script?x.validate(e,t):{}},isScript:function(e,t){var n=f(e,t);return n&&n.script},script:x});var w=function(e,t){var n=f(e,t);if(n&&c(n)){var r=p(n);return r||!1}};function T(e,t){var r=f(e,t);if(r&&c(r)){var i=r.get("eventDefinitions")||[],a=n.create("bpmn:TimerEventDefinition");return i.push(a),r.eventDefinitions=i,a}}var P={idPrefix:"listener-",createTimerEventDefinition:T};u(e,t,n,w,i,P)}},d1c1:function(e,t,n){"use strict";var r=n("7a6b").is,i=n("6abd"),a=n("e611"),s=n("6cd4");e.exports=function(e,t,n,o){var l=["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:EndEvent"];s(l,(function(s){if(r(t,s)){var l=i.getErrorEventDefinition(t);if(l){var u=r(t,"bpmn:StartEvent")||r(t,"bpmn:BoundaryEvent"),c=u,p=u;a(e,t,n,l,c,p,o)}}}))}},d2d42:function(e,t,n){"use strict";n("ac6a");var r=n("7a6b").is,i=n("145d").isAny,a=n("7a6b").getBusinessObject,s=n("9380"),o=n("b49c"),l=n("f189"),u=n("1166"),c=n("6abd"),p=n("2152"),d=n("3c19");function f(e,t){var n=a(e),r=c.getSignalEventDefinition(n);return o.getExtensionElements(r||n,t)||[]}function m(e,t){var n=f(e,t);return s(n,(function(e){return!e.businessKey}))}function v(e){var t="source";return"all"===e.variables?t="variables":"undefined"!==typeof e.source?t="source":"undefined"!==typeof e.sourceExpression&&(t="sourceExpression"),t}var b="flowable:In",g="flowable:Out",y=/\s/;e.exports=function(e,t,n,s){var f=[{name:s("Source"),value:"source"},{name:s("Source Expression"),value:"sourceExpression"},{name:s("All"),value:"variables"}],h=c.getSignalEventDefinition(t);if((r(t,"flowable:CallActivity")||h)&&(!h||i(t,["bpmn:IntermediateThrowEvent","bpmn:EndEvent"]))){var E=function(e,t){return!!x(e,t)},x=function(e,t){var n=t.parentNode,r=S.getSelected(e,n),i=m(e,b)[r.idx];return!i&&C&&(r=C.getSelected(e,n),i=m(e,g)[r.idx]),i},w=function(e){return function(t,n,r,i,a,s){var o=m(t,e),l=o[s],u=(l.target||"<undefined>")+" := ",c=v(l);"variables"===c?u="all":u+="source"===c?l.source||"<empty>":"sourceExpression"===c&&l.sourceExpression||"<empty>",r.text=u}},T=function(e){return function(t,r,i){var a=u.createElement(e,{source:""},r,n);return l.addElementsTolist(t,r,"values",[a])}},P=function(e){return function(t,n,r,i){var s=m(t,e),l=s[i];if(l)return o.removeEntry(h||a(t),t,l)}},S=p(t,n,{id:"variableMapping-in",label:s("In Mapping"),modelProperty:"source",prefix:"In",idGeneration:!1,resizable:!0,businessObject:h||a(t),createExtensionElement:T(b),removeExtensionElement:P(b),getExtensionElements:function(e){return m(e,b)},onSelectionChange:function(e,t,n,r){C&&C.deselect(e,t.parentNode)},setOptionLabelValue:w(b)});if(e.entries.push(S),!h){var C=p(t,n,{id:"variableMapping-out",label:s("Out Mapping"),modelProperty:"source",prefix:"Out",idGeneration:!1,resizable:!0,createExtensionElement:T(g),removeExtensionElement:P(g),getExtensionElements:function(e){return m(e,g)},onSelectionChange:function(e,t,n,r){S.deselect(e,t.parentNode)},setOptionLabelValue:w(g)});e.entries.push(C)}e.entries.push(d.label({id:"variableMapping-typeLabel",get:function(e,t){var n=x(e,t),i="";return r(n,b)?i=s("In Mapping"):r(n,g)&&(i=s("Out Mapping")),{label:i}},showLabel:function(e,t){return E(e,t)}})),e.entries.push(d.selectBox({id:"variableMapping-inOutType",label:s("Type"),selectOptions:f,modelProperty:"inOutType",get:function(e,t){var n=x(e,t)||{};return{inOutType:v(n)}},set:function(e,t,n){var r=t.inOutType,i={source:void 0,sourceExpression:void 0,variables:void 0};"source"===r?i.source="":"sourceExpression"===r?i.sourceExpression="":"variables"===r&&(i.variables="all",i.target=void 0);var a=x(e,n);return l.updateBusinessObject(e,a,i)},hidden:function(e,t){return!E(e,t)}})),e.entries.push(d.textField({id:"variableMapping-source",dataValueLabel:"sourceLabel",modelProperty:"source",get:function(e,t){var n=x(e,t)||{},r="",i=v(n);return"source"===i?r=s("Source"):"sourceExpression"===i&&(r=s("Source Expression")),{source:n[i],sourceLabel:r}},set:function(e,t,n){t.source=t.source||void 0;var r=x(e,n),i=v(r),a={};return a[i]=t.source||"",l.updateBusinessObject(e,r,a)},validate:function(e,t,n){var r=x(e,n),i={};if(r){t.source||(i.source=i.source=t.sourceLabel?s("Mapping must have a {value}",{value:t.sourceLabel.toLowerCase()}):s("Mapping must have a value"));var a=v(r);y.test(t.source)&&"sourceExpression"!==a&&(i.source=s("{label} must not contain whitespace",{label:t.sourceLabel}))}return i},hidden:function(e,t){var n=x(e,t);return!n||n&&n.variables}})),e.entries.push(d.textField({id:"variableMapping-target",label:s("Target"),modelProperty:"target",get:function(e,t){return{target:(x(e,t)||{}).target}},set:function(e,t,n){t.target=t.target||void 0;var r=x(e,n);return l.updateBusinessObject(e,r,t)},validate:function(e,t,n){var r=x(e,n),i={};if(r){var a=v(r);t.target||"variables"===a||(i.target=s("Mapping must have a target")),t.target&&y.test(t.target)&&"variables"!==a&&(i.target=s("Target must not contain whitespace"))}return i},hidden:function(e,t){var n=x(e,t);return!n||n&&n.variables}})),e.entries.push(d.checkbox({id:"variableMapping-local",label:s("Local"),modelProperty:"local",get:function(e,t){return{local:(x(e,t)||{}).local}},set:function(e,t,n){t.local=t.local||!1;var r=x(e,n);return l.updateBusinessObject(e,r,t)},hidden:function(e,t){return!E(e,t)}}))}}},d3d7:function(e,t,n){"use strict";var r=n("7a6b").getBusinessObject,i=n("a8e8").escapeHTML,a=n("3c19"),s=n("1166"),o=n("f189"),l=n("e506").classes;function u(e,t){var n=p(e);return n&&n.get(t)}function c(e){return e&&e.get("body")}function p(e){var t=r(e);return t.loopCharacteristics}function d(e){return u(e,"loopCardinality")}function f(e){var t=d(e);return c(t)}function m(e){return u(e,"completionCondition")}function v(e){var t=m(e);return c(t)}function b(e){return u(e,"flowable:collection")}function g(e){return u(e,"flowable:elementVariable")}function y(e,t,n){return s.createElement("bpmn:FormalExpression",{body:t},e,n)}function h(e,t,n,r){var i=p(e),a={};if(!n)return a[t]=void 0,o.updateBusinessObject(e,i,a);var s=i.get(t);return s?o.updateBusinessObject(e,s,{body:n}):(a[t]=y(i,n,r),o.updateBusinessObject(e,i,a))}e.exports=function(e,t,n){var r=[];return r.push({id:"multiInstance-errorMessage",html:'<div data-show="isValid"><span class="bpp-icon-warning"></span> '+i(n("Must provide either loop cardinality or collection"))+"</div>",isValid:function(e,t,n,r){var i=p(e),a=!0;if(i){var s=f(e),o=b(e);a=!s&&!o}return l(t).toggle("bpp-hidden",!a),l(n).toggle("bpp-error-message",a),a}}),r.push(a.textField({id:"multiInstance-loopCardinality",label:n("Loop Cardinality"),modelProperty:"loopCardinality",get:function(e,t){return{loopCardinality:f(e)}},set:function(e,n){return h(e,"loopCardinality",n.loopCardinality,t)}})),r.push(a.textField({id:"multiInstance-collection",label:n("Collection"),modelProperty:"collection",get:function(e,t){return{collection:b(e)}},set:function(e,t){var n=p(e);return o.updateBusinessObject(e,n,{"flowable:collection":t.collection||void 0})},validate:function(e,t,n){var r=b(e),i=g(e);if(!r&&i)return{collection:"Must provide a value"}}})),r.push(a.textField({id:"multiInstance-elementVariable",label:n("Element Variable"),modelProperty:"elementVariable",get:function(e,t){return{elementVariable:g(e)}},set:function(e,t){var n=p(e);return o.updateBusinessObject(e,n,{"flowable:elementVariable":t.elementVariable||void 0})}})),r.push(a.textField({id:"multiInstance-completionCondition",label:n("Completion Condition"),modelProperty:"completionCondition",get:function(e){return{completionCondition:v(e)}},set:function(e,n){return h(e,"completionCondition",n.completionCondition,t)}})),r}},d6f6:function(e,t,n){"use strict";var r=n("a8e8").escapeHTML,i=n("ab24"),a=function(e,t){var n=t,a=e.label||n.id,s=!!e.show&&"function"===typeof e.show,o=e.description;return n.html='<label for="flowable-'+r(n.id)+'" '+(s?'data-show="isShown"':"")+">"+a+'</label><div class="bpp-field-wrapper" '+(s?'data-show="isShown"':"")+'><div contenteditable="true" id="flowable-'+r(n.id)+'" name="'+r(e.modelProperty)+'" /></div>',o&&(n.html+=i(o)),s&&(n.isShown=function(){return e.show.apply(n,arguments)}),n.cssClasses=["bpp-textbox"],n};e.exports=a},daa2:function(e,t,n){"use strict";var r=n("7a6b").getBusinessObject,i=n("1166"),a=n("b49c"),s=n("1d89"),o=n("f189"),l=n("2152");function u(e,t){return s.getInputOutput(e,t)}function c(e){return s.getConnector(e)}function p(e,t){return s.getInputParameters(e,t)}function d(e,t){return s.getOutputParameters(e,t)}function f(e,t,n){return s.getInputParameter(e,t,n)}function m(e,t,n){return s.getOutputParameter(e,t,n)}function v(e,t,n,r){return i.createElement(e,r,t,n)}function b(e,t,n){return v("flowable:InputOutput",e,t,n)}function g(e,t,n,r){return v(e,t,n,r)}function y(e,t){return s.isInputOutputSupported(e,t)}function h(e,t){return s.areOutputParametersSupported(e,t)}e.exports=function(e,t,n,i){var s={"flowable:Map":i("Map"),"flowable:List":i("List"),"flowable:Script":i("Script")};n=n||{};var v=!!n.insideConnector,E=n.idPrefix||"",x=function(e,t){var n=O&&O.getSelected(e,t)||{idx:-1},r=f(e,v,n.idx);return!r&&A&&(n=A.getSelected(e,t),r=m(e,v,n.idx)),r},w={getSelectedParameter:x},T=w.entries=[];if(!y(e))return w;var P=function(e,n,r){return function(r,i,a){var s=[],l=u(r,v);if(!l){var p=v?c(r):i;l=b(p,t,{inputParameters:[],outputParameters:[]}),v?s.push(o.updateBusinessObject(r,p,{inputOutput:l})):s.push(o.addAndRemoveElementsFromList(r,i,"values","extensionElements",[l],[]))}var d=g(e,l,t,{name:a});return s.push(o.addElementsTolist(r,l,n,[d])),s}},S=function(e,t,n){return function(i,s,l,p){var d=u(i,v),f=e(i,v,p),m=[];m.push(o.removeElementsFromList(i,d,t,null,[f]));var b=d.get(t).length-1,g=(d.get(n)||[]).length;if(!b&&!g)if(v){var y=c(i);m.push(o.updateBusinessObject(i,y,{inputOutput:void 0}))}else m.push(a.removeEntry(r(i),i,d));return m}},C=function(e){return function(t,n,r,i,a,o){var l=e(t,v,o),u="Text",c=l.get("definition");if("undefined"!==typeof c){var p=c.$type;u=s[p]}r.text=(a||"")+" : "+u}},O=l(e,t,{id:E+"inputs",label:i("Input Parameters"),modelProperty:"name",prefix:"Input",resizable:!0,createExtensionElement:P("flowable:InputParameter","inputParameters"),removeExtensionElement:S(f,"inputParameters","outputParameters"),getExtensionElements:function(e){return p(e,v)},onSelectionChange:function(e,t,n,r){A&&A.deselect(e,t)},setOptionLabelValue:C(f)});if(T.push(O),h(e,v)){var A=l(e,t,{id:E+"outputs",label:i("Output Parameters"),modelProperty:"name",prefix:"Output",resizable:!0,createExtensionElement:P("flowable:OutputParameter","outputParameters"),removeExtensionElement:S(m,"outputParameters","inputParameters"),getExtensionElements:function(e){return d(e,v)},onSelectionChange:function(e,t,n,r){O.deselect(e,t)},setOptionLabelValue:C(m)});T.push(A)}return w}},dabb:function(e,t,n){"use strict";n("23ce")},dedf:function(e){e.exports={name:"Flowable",uri:"http://flowable.org/bpmn",prefix:"flowable",xml:{tagAlias:"lowerCase"},associations:[],types:[{name:"InOutBinding",superClass:["Element"],isAbstract:!0,properties:[{name:"source",isAttr:!0,type:"String"},{name:"sourceExpression",isAttr:!0,type:"String"},{name:"target",isAttr:!0,type:"String"},{name:"businessKey",isAttr:!0,type:"String"},{name:"local",isAttr:!0,type:"Boolean",default:!1},{name:"variables",isAttr:!0,type:"String"}]},{name:"In",superClass:["InOutBinding"],meta:{allowedIn:["bpmn:CallActivity"]}},{name:"Out",superClass:["InOutBinding"],meta:{allowedIn:["bpmn:CallActivity"]}},{name:"AsyncCapable",isAbstract:!0,extends:["bpmn:Activity","bpmn:Gateway","bpmn:Event"],properties:[{name:"async",isAttr:!0,type:"Boolean",default:!1},{name:"asyncBefore",isAttr:!0,type:"Boolean",default:!1},{name:"asyncAfter",isAttr:!0,type:"Boolean",default:!1},{name:"exclusive",isAttr:!0,type:"Boolean",default:!0}]},{name:"flowable:in",superClass:["Element"],properties:[{name:"source",type:"string",isAttr:!0},{name:"target",type:"string",isAttr:!0}]},{name:"flowable:out",superClass:["Element"],properties:[{name:"source",type:"string",isAttr:!0},{name:"target",type:"string",isAttr:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"JobPriorized",isAbstract:!0,extends:["bpmn:Process","flowable:AsyncCapable"],properties:[{name:"jobPriority",isAttr:!0,type:"String"}]},{name:"SignalEventDefinition",isAbstract:!0,extends:["bpmn:SignalEventDefinition"],properties:[{name:"async",isAttr:!0,type:"Boolean",default:!1}]},{name:"ErrorEventDefinition",isAbstract:!0,extends:["bpmn:ErrorEventDefinition"],properties:[{name:"errorCodeVariable",isAttr:!0,type:"String"},{name:"errorMessageVariable",isAttr:!0,type:"String"}]},{name:"Error",isAbstract:!0,extends:["bpmn:Error"],properties:[{name:"flowable:errorMessage",isAttr:!0,type:"String"}]},{name:"PotentialStarter",superClass:["Element"],properties:[{name:"resourceAssignmentExpression",type:"bpmn:ResourceAssignmentExpression"}]},{name:"UserTask",isAbstract:!0,extends:["bpmn:UserTask"],properties:[{name:"timerEventDefinition",type:"Expression"}]},{name:"StartEvent",isAbstract:!0,extends:["bpmn:StartEvent"],properties:[{name:"timerEventDefinition",type:"Expression"}]},{name:"FormSupported",isAbstract:!0,extends:["bpmn:StartEvent","bpmn:UserTask"],properties:[{name:"formHandlerClass",isAttr:!0,type:"String"},{name:"formKey",isAttr:!0,type:"String"}]},{name:"TemplateSupported",isAbstract:!0,extends:["bpmn:Process","bpmn:FlowElement"],properties:[{name:"modelerTemplate",isAttr:!0,type:"String"}]},{name:"Initiator",isAbstract:!0,extends:["bpmn:StartEvent"],properties:[{name:"initiator",isAttr:!0,type:"String"}]},{name:"ScriptTask",isAbstract:!0,extends:["bpmn:ScriptTask"],properties:[{name:"resultVariable",isAttr:!0,type:"String"},{name:"resource",isAttr:!0,type:"String"}]},{name:"Process",isAbstract:!0,extends:["bpmn:Process"],properties:[{name:"candidateStarterGroups",isAttr:!0,type:"String"},{name:"candidateStarterUsers",isAttr:!0,type:"String"},{name:"versionTag",isAttr:!0,type:"String"},{name:"historyTimeToLive",isAttr:!0,type:"String"},{name:"isStartableInTasklist",isAttr:!0,type:"Boolean",default:!0}]},{name:"EscalationEventDefinition",isAbstract:!0,extends:["bpmn:EscalationEventDefinition"],properties:[{name:"escalationCodeVariable",isAttr:!0,type:"String"}]},{name:"FormalExpression",isAbstract:!0,extends:["bpmn:FormalExpression"],properties:[{name:"resource",isAttr:!0,type:"String"}]},{name:"Assignable",extends:["bpmn:UserTask"],properties:[{name:"category",isAttr:!0,type:"String"},{name:"assignee",isAttr:!0,type:"String"},{name:"candidateUsers",isAttr:!0,type:"String"},{name:"candidateGroups",isAttr:!0,type:"String"},{name:"dueDate",isAttr:!0,type:"String"},{name:"followUpDate",isAttr:!0,type:"String"},{name:"priority",isAttr:!0,type:"String"}]},{name:"CallActivity",extends:["bpmn:CallActivity"],properties:[{name:"calledElementBinding",isAttr:!0,type:"String",default:"latest"},{name:"calledElementVersion",isAttr:!0,type:"String"},{name:"calledElementVersionTag",isAttr:!0,type:"String"},{name:"calledElementTenantId",isAttr:!0,type:"String"},{name:"caseRef",isAttr:!0,type:"String"},{name:"caseBinding",isAttr:!0,type:"String",default:"latest"},{name:"caseVersion",isAttr:!0,type:"String"},{name:"caseTenantId",isAttr:!0,type:"String"},{name:"variableMappingClass",isAttr:!0,type:"String"},{name:"variableMappingDelegateExpression",isAttr:!0,type:"String"}]},{name:"ServiceTaskLike",extends:["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"resultVariable",isAttr:!0,type:"String"}]},{name:"ExclusiveGateway",isAbstract:!0,extends:["bpmn:ExclusiveGateway"],properties:[{name:"serviceClass",isAttr:!0,type:"String"}]},{name:"DmnCapable",extends:["bpmn:BusinessRuleTask"],properties:[{name:"decisionRef",isAttr:!0,type:"String"},{name:"decisionRefBinding",isAttr:!0,type:"String",default:"latest"},{name:"decisionRefVersion",isAttr:!0,type:"String"},{name:"mapDecisionResult",isAttr:!0,type:"String",default:"resultList"},{name:"decisionRefTenantId",isAttr:!0,type:"String"}]},{name:"ExternalCapable",extends:["flowable:ServiceTaskLike"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"topic",isAttr:!0,type:"String"}]},{name:"TaskPriorized",extends:["bpmn:Process","flowable:ExternalCapable"],properties:[{name:"taskPriority",isAttr:!0,type:"String"}]},{name:"Properties",superClass:["Element"],meta:{allowedIn:["*"]},properties:[{name:"values",type:"Property",isMany:!0}]},{name:"Property",superClass:["Element"],properties:[{name:"id",type:"String",isAttr:!0},{name:"name",type:"String",isAttr:!0},{name:"value",type:"String",isAttr:!0}]},{name:"Connector",superClass:["Element"],meta:{allowedIn:["flowable:ServiceTaskLike"]},properties:[{name:"inputOutput",type:"InputOutput"},{name:"connectorId",type:"String"}]},{name:"InputOutput",superClass:["Element"],meta:{allowedIn:["bpmn:FlowNode","flowable:Connector"]},properties:[{name:"inputOutput",type:"InputOutput"},{name:"connectorId",type:"String"},{name:"inputParameters",isMany:!0,type:"InputParameter"},{name:"outputParameters",isMany:!0,type:"OutputParameter"}]},{name:"InputOutputParameter",properties:[{name:"name",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"},{name:"definition",type:"InputOutputParameterDefinition"}]},{name:"InputOutputParameterDefinition",isAbstract:!0},{name:"List",superClass:["InputOutputParameterDefinition"],properties:[{name:"items",isMany:!0,type:"InputOutputParameterDefinition"}]},{name:"Map",superClass:["InputOutputParameterDefinition"],properties:[{name:"entries",isMany:!0,type:"Entry"}]},{name:"Entry",properties:[{name:"key",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"},{name:"definition",type:"InputOutputParameterDefinition"}]},{name:"Value",superClass:["InputOutputParameterDefinition"],properties:[{name:"id",isAttr:!0,type:"String"},{name:"name",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"}]},{name:"Script",superClass:["InputOutputParameterDefinition"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"resource",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"}]},{name:"Field",superClass:["Element"],meta:{allowedIn:["flowable:ServiceTaskLike","flowable:ExecutionListener","flowable:TaskListener"]},properties:[{name:"name",isAttr:!0,type:"String"},{name:"expression",type:"String"},{name:"stringValue",isAttr:!0,type:"String"},{name:"string",type:"String"}]},{name:"InputParameter",superClass:["InputOutputParameter"]},{name:"OutputParameter",superClass:["InputOutputParameter"]},{name:"Collectable",isAbstract:!0,extends:["bpmn:MultiInstanceLoopCharacteristics"],superClass:["flowable:AsyncCapable"],properties:[{name:"collection",isAttr:!0,type:"String"},{name:"elementVariable",isAttr:!0,type:"String"}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression"},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"FailedJobRetryTimeCycle",superClass:["Element"],meta:{allowedIn:["flowable:AsyncCapable","bpmn:MultiInstanceLoopCharacteristics"]},properties:[{name:"body",isBody:!0,type:"String"}]},{name:"ExecutionListener",superClass:["Element"],meta:{allowedIn:["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess","bpmn:Process"]},properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"event",isAttr:!0,type:"String"},{name:"script",type:"Script"},{name:"fields",type:"Field",isMany:!0}]},{name:"TaskListener",superClass:["Element"],meta:{allowedIn:["bpmn:UserTask"]},properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"event",isAttr:!0,type:"String"},{name:"script",type:"Script"},{name:"fields",type:"Field",isMany:!0}]},{name:"FormProperty",superClass:["Element"],meta:{allowedIn:["bpmn:StartEvent","bpmn:UserTask"]},properties:[{name:"id",type:"String",isAttr:!0},{name:"name",type:"String",isAttr:!0},{name:"type",type:"String",isAttr:!0},{name:"required",type:"String",isAttr:!0},{name:"readable",type:"String",isAttr:!0},{name:"writable",type:"String",isAttr:!0},{name:"variable",type:"String",isAttr:!0},{name:"expression",type:"String",isAttr:!0},{name:"datePattern",type:"String",isAttr:!0},{name:"default",type:"String",isAttr:!0},{name:"values",type:"Value",isMany:!0}]},{name:"FormData",superClass:["Element"],meta:{allowedIn:["bpmn:StartEvent","bpmn:UserTask"]},properties:[{name:"fields",type:"FormField",isMany:!0},{name:"businessKey",type:"String",isAttr:!0}]},{name:"FormField",superClass:["Element"],properties:[{name:"id",type:"String",isAttr:!0},{name:"label",type:"String",isAttr:!0},{name:"type",type:"String",isAttr:!0},{name:"datePattern",type:"String",isAttr:!0},{name:"defaultValue",type:"String",isAttr:!0},{name:"properties",type:"Properties"},{name:"validation",type:"Validation"},{name:"values",type:"Value",isMany:!0}]},{name:"Validation",superClass:["Element"],properties:[{name:"constraints",type:"Constraint",isMany:!0}]},{name:"Constraint",superClass:["Element"],properties:[{name:"name",type:"String",isAttr:!0},{name:"config",type:"String",isAttr:!0}]},{name:"ConditionalEventDefinition",isAbstract:!0,extends:["bpmn:ConditionalEventDefinition"],properties:[{name:"variableName",isAttr:!0,type:"String"},{name:"variableEvent",isAttr:!0,type:"String"}]}],emumerations:[]}},df96:function(e,t,n){"use strict";n("7f7f"),n("ac6a");var r=n("a8e8").escapeHTML,i=n("e506").domify,a=n("e506").query,s=n("e506").queryAll,o=n("e506").remove,l=n("e506").classes,u=n("e506").closest,c=n("e506").attr,p=n("e506").delegate,d=n("e506").matches,f=n("6cd4"),m=n("9380"),v=n("9b02"),b=n("ec69"),g=n("13ea"),y=n("6747"),h=n("41c6"),E=n("b047c"),x=n("7d17"),w=n("ffbf").default,T=n("7a6b").getBusinessObject,P="bpp-hidden",S=300;function C(e){return"checkbox"===e.type||"radio"===e.type}function O(e){return"select-one"===e.type}function A(e){return c(e,"contenteditable")}function B(e){var t="input[name], textarea[name], [data-value], [contenteditable]",n=s(t,e);return n&&n.length||!d(e,t)||(n=[e]),n}function j(e,t){var n=s("input[name], textarea[name], select[name], [contenteditable]",e);return n&&n.length||(n=d(e,"option")?[e]:n),t||(n=m(n,(function(e){return!u(e,"."+P)}))),n}function I(e){var t={},n=j(e);return f(n,(function(e){var n=e.value;if(e.multiple){var r="",i=e.selectedOptions;f(i,(function(e){r+=e.value+","})),n=r.substring(0,r.length-1)}var a=c(e,"name")||c(e,"data-name");C(e)?n=e.checked?!c(e,"value")||e.value:null:A(e)&&(n=e.innerText),null!==n&&(t[a]=n)})),t}function D(e){var t,n=a("[data-list-entry-container]",e);if(n){t=[];var r=n.children||[];f(r,(function(e){t.push(I(e))}))}else t=I(e);return t}function L(e,t){if(e&&!t)return!1;var n=b(e).concat(b(t));return n.every((function(n){return e[n]===t[n]}))}function F(e,t){return y(e)?e.length===t.length&&e.every((function(e,n){return L(e,t[n])})):L(e,t)}function k(e){return R(M(N(M(N(e,"groups")),"entries")),"id")}function _(e){return R(M(N(e,"groups")),"id")}function V(e,t,n,r,i,a){this._eventBus=t,this._modeling=n,this._commandStack=i,this._canvas=a,this._propertiesProvider=r,this._init(e)}V.$inject=["config.propertiesPanel","eventBus","modeling","propertiesProvider","commandStack","canvas"],e.exports=V,V.prototype._init=function(e){var t=this._canvas,n=this._eventBus,r=this;n.on("root.added",(function(e){var t=e.element;X(t)||r.update(t)})),n.on("selection.changed",(function(e){var n=e.newSelection[0],i=t.getRootElement();X(i)||r.update(n)})),n.on(["propertiesPanel.changed","propertiesPanel.resized"],(function(e){var t=a(".bpp-properties-tab-bar",r._container);if(t){var n=w.get(t);n||(n=w(t,{selectors:{tabsContainer:".bpp-properties-tabs-links",tab:".bpp-properties-tabs-links li",ignore:".bpp-hidden",active:".bpp-active"}}),n.on("scroll",(function(e,t,n){var i=a("[data-tab-target]",e),s=c(i,"data-tab-target");r.activateTab(s)}))),n.update()}})),n.on("elements.changed",(function(e){var t=r._current,n=t&&t.element;n&&-1!==e.elements.indexOf(n)&&r.update(n)})),n.on("elementTemplates.changed",(function(){var e=r._current,t=e&&e.element;t&&r.update(t)})),n.on("diagram.destroy",(function(){r.detach()})),n.on("commandStack.shape.create.postExecute",(function(e){})),this._container=i('<div class="bpp-properties-panel"></div>'),this._bindListeners(this._container),e&&e.parent&&this.attachTo(e.parent)},V.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),"string"===typeof e&&(e=a(e));var t=this._container;e.appendChild(t),this._emit("attach")},V.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach"),t.removeChild(e))},V.prototype.activateTab=function(e){var t="string"===typeof e?e:e.id,n=this._current,r=n.panel,i=s(".bpp-properties-tab",r),o=s(".bpp-properties-tab-link",r);f(i,(function(e){var n=c(e,"data-tab");l(e).toggle("bpp-active",t===n)})),f(o,(function(e){var n=a("[data-tab-target]",e),r=c(n,"data-tab-target");l(e).toggle("bpp-active",t===r)}))},V.prototype.update=function(e){var t=this._current,n=!0;"undefined"===typeof e&&(e=this._canvas.getRootElement());var r=this._propertiesProvider.getTabs(e);if(t&&t.element===e&&(n=this._entriesChanged(t,r)),n){if(t){var i,s=a(".bpp-properties-tab.bpp-active",t.panel);s&&(i=c(s,"data-tab")),o(t.panel)}this._current=this._create(e,r),i?this.activateTab(i):this.activateTab(this._current.tabs[0])}this._current&&this._updateActivation(this._current),this._emit("changed")},V.prototype._entriesChanged=function(e,t){var n=b(e.entries),r=b(k(t));return!g(h(n,r))},V.prototype._emit=function(e){this._eventBus.fire("propertiesPanel."+e,{panel:this,current:this._current})},V.prototype._bindListeners=function(e){var t=this,n=function(e){var n,r,i=e.delegateTarget,a=u(i,"[data-entry]");if(a){n=c(a,"data-entry"),r=t.getEntry(n);var s=D(a);if("change"===e.type){var o=c(i,"data-on-change");if(o){var l=t.executeAction(r,a,o,e);if(!l)return t.update(t._current.element)}}t.applyChanges(r,s,a),t.updateState(r,a)}};function r(e){var t=(e.clipboardData||window.clipboardData).getData("text");document.execCommand("insertText",!1,t),e.preventDefault()}function i(e,n){var r=e.delegateTarget,i=u(r,"[data-entry]");if(i){var a=c(r,"data-blur"),s=c(i,"data-entry"),o=t.getEntry(s),l=t.executeAction(o,i,a,e);if(l){var p=D(i);t.applyChanges(o,p,i)}t.updateState(o,i)}}p.bind(e,"input, textarea, [contenteditable]","input",E(n,S)),p.bind(e,"input, textarea, select, [contenteditable]","change",n),p.bind(e,"[contenteditable]","paste",r),p.bind(e,"select","keydown",(function(e){46===e.keyCode&&(e.stopPropagation(),e.preventDefault())})),p.bind(e,"[data-action]","click",(function(e){var n=e.delegateTarget,r=u(n,"[data-entry]"),i=c(n,"data-action"),a=c(r,"data-entry"),s=t.getEntry(a),o=t.executeAction(s,r,i,e);if(o){var l=D(r);t.applyChanges(s,l,r)}t.updateState(s,r)})),p.bind(e,"[data-blur]","blur",i,!0),p.bind(e,".bpp-properties-tabs-links [data-tab-target]","click",(function(e){e.preventDefault();var n=e.delegateTarget,r=c(n,"data-tab-target");t.activateTab(r)}))},V.prototype.updateState=function(e,t){this.updateShow(e,t),this.updateDisable(e,t)},V.prototype.updateShow=function(e,t){var n=this._current;if(n){var r=s("[data-show]",t)||[];f(r,(function(r){var i=c(r,"data-show"),a=v(e,i);if(a){var s=u(r,"[data-scope]")||t,o=a(n.element,t,r,s)||!1;o?l(r).remove(P):l(r).add(P)}}))}},V.prototype.updateDisable=function(e,t){var n=this._current;if(n){var r=s("[data-disable]",t)||[];f(r,(function(r){var i=c(r,"data-disable"),a=v(e,i);if(a){var s=u(r,"[data-scope]")||t,o=a(n.element,t,r,s)||!1;c(r,"disabled",o?"":null)}}))}},V.prototype.executeAction=function(e,t,n,r){var i=this._current;if(i){var a=v(e,n);if(a){var s=u(r.target,"[data-scope]")||t;return a.apply(e,[i.element,t,r,s])}}},V.prototype.applyChanges=function(e,t,n){var r=this._current.element;if(!F(t,e.oldValues)){var i,a=e.set(r,t,n);y(a)?a.length&&(i={cmd:"properties-panel.multi-command-executor",context:M(a)}):i=a,i?this._commandStack.execute(i.cmd,i.context||{element:r}):this.update(r)}},V.prototype.applyValidationErrors=function(e,t){var n=!0,r=j(t,!0);return f(r,(function(t){var r=c(t,"name")||c(t,"data-name"),s=e&&e[r],o=a(".bpp-error-message",t.parentNode);s?(n=!1,o||(o=i("<div></div>"),l(o).add("bpp-error-message"),t.parentNode.insertBefore(o,t.nextSibling)),o.textContent=s,l(t).add("invalid")):(l(t).remove("invalid"),o&&t.parentNode.removeChild(o))})),n},V.prototype.validate=function(e,t,n){var r=this,i=this._current,s=!0;if(n=n||a('[data-entry="'+e.id+'"]',i.panel),t instanceof Array)for(var o=a("[data-list-entry-container]",n),l=o.children||[],u=0;u<t.length;u++){var c=t[u];if(e.validateListItem){var p=e.validateListItem(i.element,c,n,u),d=l[u];s=r.applyValidationErrors(p,d)&&s}}else e.validate&&(this.validationErrors=e.validate(i.element,t,n),s=r.applyValidationErrors(this.validationErrors,n)&&s);return s},V.prototype.getEntry=function(e){return this._current&&this._current.entries[e]};var M=n("991b"),R=n("4151"),N=n("dd61");function H(e,t){var n,r=A(e),i=r?e.innerText:e.value;void 0===t&&(t=""),i!==t&&(document.activeElement===e&&(n=x(U(e),i,t)),r?e.innerText=t:e.value=t,n&&z(e,n))}function G(e,t){void 0!==t&&(e.value=t)}function q(e,t){var n=e.value;e.checked=t===n||!c(e,"value")&&t}function K(e,t){e.textContent=t}function U(e){return A(e)?$(e):{start:e.selectionStart,end:e.selectionEnd}}function $(e){var t=window.getSelection(),n=t.focusNode,r=t.focusOffset,i=t.anchorOffset;if(!n)throw new Error("not selected");if(!e.contains(n))throw new Error("not selected");return{start:Math.min(r,i),end:Math.max(r,i)}}function z(e,t){A(e)?J(e,t):(e.selectionStart=t.start,e.selectionEnd=t.end)}function J(e,t){var n,r,i;n=e.firstChild||e,r=document.createRange(),r.setStart(n,t.start),r.setEnd(n,t.end),i=window.getSelection(),i.removeAllRanges(),i.addRange(r)}function X(e){return"__implicitroot"===e.id}V.prototype._create=function(e,t){if(!e)return null;var n=this._container,r=this._createPanel(e,t);n.appendChild(r);var i=k(t),a=_(t);return{tabs:t,groups:a,entries:i,element:e,panel:r}},V.prototype._bindTemplate=function(e,t,n,r,i){var a=this._eventBus;function s(t,n){return a.fire("propertiesPanel.isPropertyEditable",{entry:t,propertyName:n,element:e})}var o=B(r);f(o,(function(a){var o,l,u;"value"in a||"true"===A(a)?(o=c(a,"name")||c(a,"data-name"),l=n[o],u=s(t,o),u&&t.editable&&(u=t.editable(e,r,a,o,l,i)),c(a,"readonly",u?null:""),c(a,"disabled",u?null:""),t.setControlValue?t.setControlValue(e,r,a,o,l,i):C(a)?q(a,l):O(a)?G(a,l):H(a,l)):(o=c(a,"data-value"),l=n[o],t.setControlValue?t.setControlValue(e,r,a,o,l,i):K(a,l))}))},V.prototype._updateActivation=function(e){var t=this,n=this._eventBus,r=e.element;function s(e){return n.fire("propertiesPanel.isEntryVisible",{entry:e,element:r})}function o(e,t,n){return"function"!==typeof e.enabled||e.enabled(t,n)}function u(e,t){return"function"!==typeof e.enabled||e.enabled(t)}function p(e,t){l(e).toggle(P,!t)}function d(n,r){var i=l(n).has("bpp-active");!r&&i&&t.activateTab(e.tabs[0])}function m(e,t,n){var r=a(t,e);r&&(r.textContent=n)}var v=e.panel;f(e.tabs,(function(e){var n=a("[data-tab="+e.id+"]",v),l=a("[data-tab-target="+e.id+"]",v).parentNode,b=!1;f(e.groups,(function(e){var l=!1,u=a("[data-group="+e.id+"]",n);f(e.entries,(function(e){var n=a('[data-entry="'+e.id+'"]',u),o=s(e);l=l||o,p(n,o);var d="get"in e?e.get(r,n):{};if(d instanceof Array){for(var f=a("[data-list-entry-container]",n),m=f.children||[],v=0;v<d.length;v++){var b=d[v],g=m[v];g||(g=i(e.createListEntryTemplate(b,v,f)),f.appendChild(g)),c(g,"data-index",v),t._bindTemplate(r,e,b,g,v)}for(var y=m.length-d.length,h=0;h<y;h++)f.removeChild(f.lastChild)}else t._bindTemplate(r,e,d,n);t.updateState(e,n),t.validate(e,d,n),e.oldValues=D(n)})),"function"===typeof e.label&&m(u,".group-label",e.label(r,u)),l=l&&o(e,r,u),b=b||l,p(u,l)})),b=b&&u(e,r),p(n,b),p(l,b),d(n,b)})),m(v,"[data-label-id]",T(r).id||"")},V.prototype._createPanel=function(e,t){var n=this,a=i('<div class="bpp-properties"></div>'),s=i('<div class="bpp-properties-header"><div class="label" data-label-id></div><div class="search"><input type="search" placeholder="Search for property" /><button><span>Search</span></button></div></div>'),o=i('<div class="bpp-properties-tab-bar el-tabs"></div>'),u=i('<ul class="bpp-properties-tabs-links"></ul>'),c=i('<div class="bpp-properties-tabs-container"></div>');return a.appendChild(s),f(t,(function(e,t){if(!e.id)throw new Error("tab must have an id");var a=i('<div class="bpp-properties-tab el-tab" data-tab="'+r(e.id)+'"></div>'),s=i('<li class="bpp-properties-tab-link"><a href data-tab-target="'+r(e.id)+'">'+r(e.label)+"</a></li>"),o=e.groups;f(o,(function(e){if(!e.id)throw new Error("group must have an id");var t=i('<div class="bpp-properties-group" data-group="'+r(e.id)+'"><span class="group-label">'+r(e.label)+"</span></div>");t.addEventListener("click",(function(e){!e.defaultPrevented&&l(t).has("group-closed")&&l(t).remove("group-closed")})),f(e.entries,(function(e){if(!e.id)throw new Error("entry must have an id");var a=e.html;"string"===typeof a&&(a=i(a)),a.get&&a.constructor.prototype.jquery&&(a=a.get(0));var s=i('<div class="bpp-properties-entry" data-entry="'+r(e.id)+'"></div>');f(e.cssClasses||[],(function(e){l(s).add(e)})),s.appendChild(a),t.appendChild(s),n.updateState(e,s)})),a.appendChild(t)})),u.appendChild(s),c.appendChild(a)})),o.appendChild(u),a.appendChild(o),a.appendChild(c),a}},e611:function(e,t,n){"use strict";n("ac6a");var r=n("e812"),i=n("2ac4"),a=n("a825");e.exports=function(e,t,n,s,o,l,u){var c=function(e){return function(t){var n=s.get("flowable:"+e),r={};return r[e]=n,r}},p=function(e){return function(t,n){var r={};return r["flowable:"+e]=n[e]||void 0,i.updateBusinessObject(t,s,r)}};e.entries=e.entries.concat(a(t,s,n,{id:"error-element-message",label:u("Error Message"),referenceProperty:"errorRef",modelProperty:"errorMessage"})),o&&e.entries.push(r.textField({id:"errorCodeVariable",label:u("Error Code Variable"),modelProperty:"errorCodeVariable",get:c("errorCodeVariable"),set:p("errorCodeVariable")})),l&&e.entries.push(r.textField({id:"errorMessageVariable",label:u("Error Message Variable"),modelProperty:"errorMessageVariable",get:c("errorMessageVariable"),set:p("errorMessageVariable")}))}},e815:function(e,t,n){"use strict";n("ac6a");var r=n("e812"),i=n("7a6b").is,a=n("7a6b").getBusinessObject;e.exports=function(e,t,n,s){var o=a(t);if(i(t,"bpmn:UserTask")){var l=r.selectBox({id:"isMajor",label:s("必经节点"),modelProperty:"isMajor",selectOptions:[{name:"",value:""},{name:"是",value:"0"},{name:"否",value:"1"}]});o.get("isMajor")||(o.$attrs["isMajor"]="0"),e.entries=e.entries.concat(l)}}},e9de:function(e,t,n){"use strict";n("ac6a");var r=n("7a6b").getBusinessObject,i=n("7a6b").is,a=n("3c19"),s=n("1166"),o=n("b49c"),l=n("f189"),u=n("a8e8"),c=n("dce5"),p=n("6cd4"),d=n("2769");function f(){return u.nextId("Property_")}function m(e){var t=e&&v(e);return t&&t.values?t.values:[]}function v(e){return g(e)?b(e):e.properties}function b(e){return d(e.values,(function(e){return i(e,"flowable:Properties")}))}function g(e){return i(e,"bpmn:ExtensionElements")}e.exports=function(e,t,n,d){var b=n.getParent,y=n.modelProperties,h=n.createParent,E=r(e);if(i(e,"bpmn:Participant")&&(E=E.get("processRef")),E)return c(n,{addLabel:d("Add Property"),getElements:function(e,t){var n=b(e,t,E);return m(n)},addElement:function(e,n){var r=[],i=b(e,n,E);if(!i&&"function"===typeof h){var a=h(e,E);i=a.parent,r.push(a.cmd)}var o=v(i);o||(o=s.createElement("flowable:Properties",{},i,t),g(i)?r.push(l.addAndRemoveElementsFromList(e,i,"values","extensionElements",[o],[])):r.push(l.updateBusinessObject(e,i,{properties:o})));var u={};p(y,(function(e){u[e]=void 0})),y.indexOf("id")>=0&&(u.id=f());var c=s.createElement("flowable:Property",u,o,t);return r.push(l.addElementsTolist(e,o,"values",[c])),r},updateElement:function(e,t,n,r){var i=b(e,n,E),a=m(i)[r];return p(y,(function(e){t[e]=t[e]||void 0})),l.updateBusinessObject(e,a,t)},validate:function(e,t,n,r){if(y.indexOf("id")>=0){var i=b(e,n,E),a=m(i),s=a[r];if(s){var o=u.isIdValid(s,t.id,d);if(o)return{id:o}}}},removeElement:function(e,t,n){var r=[],a=b(e,t,E),s=v(a),u=m(a),c=u[n];return r.push(l.removeElementsFromList(e,s,"values",null,[c])),1===u.length&&(g(a)?p(a.values,(function(t){i(t,"flowable:Properties")&&r.push(o.removeEntry(E,e,t))})):r.push(l.updateBusinessObject(e,a,{properties:void 0}))),r}}),a.table(n)}},ed27:function(e,t,n){"use strict";n("ac6a");var r=n("7a6b").is,i=n("7a6b").getBusinessObject,a=n("39ea");e.exports=function(e,t,n,s){var o=i(t);(r(t,"flowable:Process")||r(t,"bpmn:Participant")&&o.get("processRef"))&&(e.entries=e.entries.concat(a(t,n,{getBusinessObject:function(e){var t=i(e);return r(t,"bpmn:Participant")?t.get("processRef"):t}},s)))}},eed6:function(e,t,n){"use strict";var r=n("dce5"),i=n("3c19"),a=n("cd48"),s=n("6abd"),o=n("f189");function l(e){return a.isAsyncBefore(e)}function u(e){return a.isAsyncAfter(e)}function c(e){return a.isExclusive(e)}function p(e,t){return a.removeFailedJobRetryTimeCycle(e,t)}function d(e){return!s.getTimerEventDefinition(e)}e.exports=function(e,t,n,a){var s=n.getBusinessObject,f=n.idPrefix||"",m=n.labelPrefix||"",v=i.checkbox({id:f+"asyncBefore",label:m+a("Asynchronous Before"),modelProperty:"asyncBefore",get:function(e,t){var n=s(e);return{asyncBefore:l(n)}},set:function(e,t){var n=s(e),i=!!t.asyncBefore,a={"flowable:asyncBefore":i,"flowable:async":!1},l=[];return u(n)||i||(a=r({"flowable:exclusive":!0},a),d(e)&&l.push(p(n,e))),l.push(o.updateBusinessObject(e,n,a)),l}}),b=i.checkbox({id:f+"asyncAfter",label:m+a("Asynchronous After"),modelProperty:"asyncAfter",get:function(e,t){var n=s(e);return{asyncAfter:u(n)}},set:function(e,t){var n=s(e),i=!!t.asyncAfter,a={"flowable:asyncAfter":i},u=[];return l(n)||i||(a=r({"flowable:exclusive":!0},a),d(e)&&u.push(p(n,e))),u.push(o.updateBusinessObject(e,n,a)),u}}),g=i.checkbox({id:f+"exclusive",label:m+a("Exclusive"),modelProperty:"exclusive",get:function(e,t){var n=s(e);return{exclusive:c(n)}},set:function(e,t){var n=s(e);return o.updateBusinessObject(e,n,{"flowable:exclusive":!!t.exclusive})},hidden:function(e){var t=s(e);return t&&!u(t)&&!l(t)}});return[v,b,g]}},efe8:function(e,t,n){"use strict";n("7f7f"),n("ac6a");var r=n("3c19"),i=n("7a6b").is,a=n("26ac").getTemplate,s=n("26ac").getTemplateId,o=n("2769"),l=n("26ac").TEMPLATE_ATTR;function u(e,t){return t.reduce((function(t,n){return t||i(e,n)}),!1)}function c(e,t,n){var r=a(e,n),i=n.get(t);if(r!==i)return{cmd:"propertiesPanel.flowable.changeTemplate",context:{element:e,oldTemplate:r,newTemplate:i}}}function p(e,t,n){var r=s(e),i={name:"",value:""},a=t.getAll().reduce((function(t,r){return u(e,r.appliesTo)?t.concat({name:n(r.name),value:r.id,isDefault:r.isDefault}):t}),[i]),l=o(a,(function(e){return f(e)})),c=o(a,(function(e){return e.value===r}));if(r&&!c&&(c=d(r,n),a.push(c)),!l)return a;var p=[];return r||p.push({name:"",value:""}),c&&c!==l&&p.push(c),p.push(l),p}function d(e,t){return{name:t("[unknown template: {templateId}]",{templateId:e}),value:e}}function f(e){return e.isDefault}e.exports=function(e,t,n,i){var s=p(t,n,i);(1!==s.length||s[0].isDefault)&&e.entries.push(r.selectBox({id:"elementTemplate-chooser",label:i("Element Template"),modelProperty:"flowable:modelerTemplate",selectOptions:s,set:function(e,t){return c(e,t[l],n)},disabled:function(){var e=a(t,n);return e&&f(e)}}))}},f091:function(e,t,n){"use strict";var r=n("1166");function i(e,t){this._elementRegistry=e,this._bpmnFactory=t}function a(e,t){if(!e)throw new Error(t+" required");return e}i.$inject=["elementRegistry","bpmnFactory"],e.exports=i,i.prototype.execute=function(e){var t=a(e.referencingObject,"referencingObject"),n=a(e.referenceProperty,"referenceProperty"),i=a(e.newObject,"newObject"),s=a(e.newObjectContainer,"newObjectContainer"),o=a(e.newObjectParent,"newObjectParent"),l=[e.element],u=r.createElement(i.type,i.properties,o,this._bpmnFactory);return e.referencedObject=u,s.push(u),e.previousReference=t[n],t[n]=u,e.changed=l,l},i.prototype.revert=function(e){var t=e.referencingObject,n=e.referenceProperty,r=e.previousReference,i=e.referencedObject,a=e.newObjectContainer;return t.set(n,r),a.splice(a.indexOf(i),1),e.changed}},f189:function(e,t,n){"use strict";var r={};e.exports=r,r.updateProperties=function(e,t){return{cmd:"element.updateProperties",context:{element:e,properties:t}}},r.updateBusinessObject=function(e,t,n){return{cmd:"properties-panel.update-businessobject",context:{element:e,businessObject:t,properties:n}}},r.addElementsTolist=function(e,t,n,r){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,objectsToAdd:r}}},r.removeElementsFromList=function(e,t,n,r,i){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,referencePropertyName:r,objectsToRemove:i}}},r.addAndRemoveElementsFromList=function(e,t,n,r,i,a){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,referencePropertyName:r,objectsToAdd:i,objectsToRemove:a}}},r.setList=function(e,t,n,r){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,updatedObjectList:r}}}},f770:function(e,t,n){"use strict";var r=n("3c19"),i=n("f189");e.exports=function(e,t,n,a){var s=n.getBusinessObject,o=r.checkbox({id:"isStartableInTasklist",label:a("Startable"),modelProperty:"isStartableInTasklist",get:function(e,t){var n=s(e),r=n.get("flowable:isStartableInTasklist");return{isStartableInTasklist:r||""}},set:function(e,t){var n=s(e);return i.updateBusinessObject(e,n,{"flowable:isStartableInTasklist":!!t.isStartableInTasklist})}});return[o]}},fe7c:function(e,t,n){"use strict";n("3b2b"),n("7f7f"),n("a481"),n("ac6a");var r=n("dce5"),i=n("3c19"),a=n("7a6b").getBusinessObject,s=n("26ac").getTemplate,o=n("f189"),l=n("1166"),u=n("26ac").findExtension,c=n("26ac").findExtensions,p=n("26ac").findInputParameter,d=n("26ac").findOutputParameter,f=n("26ac").findFlowableProperty,m=n("26ac").findFlowableInOut,v=n("7721").createFlowableProperty,b=n("7721").createInputParameter,g=n("7721").createOutputParameter,y=n("7721").createFlowableIn,h=n("7721").createFlowableOut,E=n("7721").createFlowableInWithBusinessKey,x=n("7721").createFlowableFieldInjection,w="flowable:property",T="flowable:inputParameter",P="flowable:outputParameter",S="flowable:in",C="flowable:out",O="flowable:in:businessKey",A="flowable:executionListener",B="flowable:field",j=["Boolean","Integer","String"],I=[w,T,P,S,C,O,B],D=[T,P],L=[S,C,O];function F(e,t){return function(n){var r=V(n,t);return H(e,r)}}function k(e,t,n){return function(r,i){var a=i[e];return M(r,t,a,n)}}function _(e,t,n){return function(r,i){var a=i[e],s=R(a,t,n);if(s)return H(e,s)}}function V(e,t){var n,r,i,s,o,l,v,b=a(e),g=t.binding,y=t.scope,h=g.type,E=g.name,x=t.value||"";if(y&&(b=u(b,y.name),!b))return x;if("property"===h){var j=b.get(E);return"conditionExpression"===E?j?j.body:x:"undefined"!==typeof j?j:x}if(h===w)return n=y?b.get("properties"):u(b,"flowable:Properties"),n&&(r=f(n,g),r)?r.value:x;if(-1!==D.indexOf(h)&&(i=y?b.get("inputOutput"):u(b,"flowable:InputOutput"),!i))return x;if(h===T){if(s=p(i,g),s){if(!g.scriptFormat)return s.value||"";if(s.definition)return s.definition.value}return x}if(g.type===P)return s=d(i,g),s?s.name:x;if(-1!=L.indexOf(h)){if(o=m(b,g),o){if(h===O)return o.businessKey;if(h===C)return o.target;if(h===S)return o[g.expression?"sourceExpression":"source"]}return x}if(h===A)return l=y?b.get("executionListener"):u(b,"flowable:ExecutionListener"),l.script.value;if(B===h){var I=c(b,["flowable:Field"]);return I.forEach((function(e){e.name===g.name&&(v=e)})),v?v.string||v.expression:""}throw K(t)}function M(e,t,n,r){var i,s,O,A,F,k,_,V,M,R,N=a(e),G=t.binding,q=t.scope,K=G.type,U=G.name,$=[];if(-1!==I.indexOf(K)&&(s=N.get("extensionElements"),s||(s=l.createElement("bpmn:ExtensionElements",null,e,r),$.push(o.updateBusinessObject(e,N,H("extensionElements",s))))),q&&(N=u(N,q.name),N||(N=l.createElement(q.name,null,e,r),$.push(o.addElementsTolist(N,s,"values",[N])))),"property"===K){if("conditionExpression"===U)i=l.createElement("bpmn:FormalExpression",{body:n,language:G.scriptFormat},N,r);else{var z=N.$descriptor.propertiesByName[U],J=z.type;if(-1===j.indexOf(J))throw new Error("cannot set moddle type <"+J+">");"Boolean"===J?i=!!n:"Integer"===J?(i=parseInt(n,10),isNaN(i)&&(i=void 0)):i=n}void 0!==i&&$.push(o.updateBusinessObject(e,N,H(U,i)))}if(K===w&&(O=q?N.get("properties"):u(s,"flowable:Properties"),O||(O=l.createElement("flowable:Properties",null,N,r),q?$.push(o.updateBusinessObject(e,N,{properties:O})):$.push(o.addElementsTolist(e,s,"values",[O]))),A=f(O,G),F=v(G,n,r),$.push(o.addAndRemoveElementsFromList(e,O,"values",null,[F],A?[A]:[]))),-1!==D.indexOf(K)&&(k=q?N.get("inputOutput"):u(s,"flowable:InputOutput"),k||(k=l.createElement("flowable:InputOutput",null,N,r),q?$.push(o.updateBusinessObject(e,N,{inputOutput:k})):$.push(o.addElementsTolist(e,s,"values",k)))),K===T&&(_=p(k,G),V=b(G,n,r),$.push(o.addAndRemoveElementsFromList(e,k,"inputParameters",null,[V],_?[_]:[]))),K===P&&(_=d(k,G),V=g(G,n,r),$.push(o.addAndRemoveElementsFromList(e,k,"outputParameters",null,[V],_?[_]:[]))),-1!==L.indexOf(K)&&(M=m(N,G),R=K===S?y(G,n,r):K===C?h(G,n,r):E(G,n,r),$.push(o.addAndRemoveElementsFromList(e,s,"values",null,[R],M?[M]:[]))),K===B){var X=c(N,["flowable:Field"]),W=[];X.length>0?X.forEach((function(e){e.name===G.name?W.push(x(G,n,r)):W.push(e)})):W.push(x(G,n,r)),$.push(o.addAndRemoveElementsFromList(e,s,"values",null,W,X||[]))}if($.length)return $;console.warn("no update",e,t,n)}function R(e,t,n){var r=t.constraints||{};if(r.notEmpty&&q(e))return n("Must not be empty");if(r.maxLength&&e.length>r.maxLength)return n("Must have max length {length}",{length:r.maxLength});if(r.minLength&&e.length<r.minLength)return n("Must have min length {length}",{length:r.minLength});var i,a=r.pattern;return a&&("string"!==typeof a&&(i=a.message,a=a.value),!G(e,a))?i||n("Must match pattern {pattern}",{pattern:a}):void 0}function N(e,t){return t?r({},e,{scope:{name:t}}):e}function H(e,t){var n={};return n[e]=t,n}function G(e,t){var n=new RegExp(t);return n.test(e)}function q(e){return!e||/^\s*$/.test(e)}function K(e){var t=e.binding;return new Error("unknown binding: <"+t.type+">")}e.exports=function(e,t,n,r){var a=s(e,t);if(!a)return[];var o,l,u=function(e,t,a){var s,o=t.type,l={id:e,description:t.description,label:t.label?r(t.label):t.label,modelProperty:e,get:F(e,t),set:k(e,t,n),validate:_(e,t,r)};return"Boolean"===o&&(s=i.checkbox(l)),"String"===o&&(s=i.textField(l)),"Text"===o&&(s=i.textBox(l)),"Dropdown"===o&&(l.selectOptions=t.choices,s=i.selectBox(l)),s},c=[],p={id:"customField",label:r("Custom Fields"),entries:[]};if(a.properties.forEach((function(e,t){o="custom-"+a.id+"-"+t,l=u(o,e,t),l&&p.entries.push(l)})),p.entries.length>0&&c.push(p),a.scopes)for(var d in a.scopes){var f=a.scopes[d],m=d.replace(/:/g,"_"),v={id:"customField-"+m,label:r("Custom Fields for scope: ")+d,entries:[]};f.properties.forEach((function(e,t){var n="custom-"+a.id+"-"+m+"-"+t,r=N(e,d);l=u(n,r,t),l&&v.entries.push(l)})),v.entries.length>0&&c.push(v)}return c},e.exports.getPropertyValue=V,e.exports.setPropertyValue=M},fed5:function(e,t,n){"use strict";n("ac6a");var r=n("3c19"),i=n("2ac4"),a=n("7a6b").is,s=n("7a6b").getBusinessObject;e.exports=function(e,t,n,o,l){function u(e,t){var n=s(e),r=n.get(t);return r}a(t,"bpmn:UserTask")&&e.entries.push(r.dateField({id:"startTime",label:"开始时间",modelProperty:"startTime",description:"ISO 8601格式",get:function(e){return{startTime:u(e,"startTime")}},set:function(e,t){var n=s(e);return i.updateBusinessObject(e,n,t)}}))}},ffa3:function(e,t,n){"use strict";n("ac6a");var r=n("7a6b").is,i=n("7a6b").getBusinessObject,a=n("f770");e.exports=function(e,t,n,s){var o=i(t);(r(t,"flowable:Process")||r(t,"bpmn:Participant")&&o.get("processRef"))&&(e.entries=e.entries.concat(a(t,n,{getBusinessObject:function(e){var t=i(e);return r(t,"bpmn:Participant")?t.get("processRef"):t}},s)))}}}]);