(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fb471a6"],{"1f81":function(t,a,e){"use strict";e("5a28")},3010:function(t,a,e){},"49d5":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"head-info",class:t.center&&"center"},[e("span",[t._v(t._s(t.title))]),t._v(" "),e("p",[t._v(t._s(t.content))])])},n=[],o=(e("c5f6"),{name:"HeadInfo",props:{title:{type:String,default:""},content:{type:Number,default:0},bordered:{type:Boolean,default:!0},center:{type:Boolean,default:!0}}}),r=o,i=(e("1f81"),e("2877")),c=Object(i["a"])(r,s,n,!1,null,"0ddec6ac",null);a["default"]=c.exports},"5a28":function(t,a,e){},"8c69":function(t,a,e){"use strict";e("3010")},9406:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home-page"},[e("el-row",{staticClass:"head-info",attrs:{gutter:8}},[e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"head-info-card box-card",attrs:{shadow:"hover"}},[e("el-row",{attrs:{span:12}},[e("div",{staticClass:"head-info-avatar"},[e("img",{attrs:{alt:"头像",src:t.avatar}})]),t._v(" "),e("div",{staticClass:"head-info-count"},[e("div",{staticClass:"head-info-welcome"},[t._v("\n              "+t._s(t.welcomeMessage)+"\n            ")]),t._v(" "),e("div",{staticClass:"head-info-desc"},[e("p",[t._v("\n                "+t._s(t.sysOrg?t.sysOrg.orgName:"暂无部门")+" |\n                "+t._s(t.sysRole?t.sysRole.roleName:"暂无角色")+"\n              ")])])])]),t._v(" "),e("el-divider"),t._v(" "),e("el-row",{attrs:{span:12}},[e("div",[e("el-row",[e("el-col",{attrs:{span:8}},[e("head-info",{attrs:{title:"今日IP",content:t.todayIp}})],1),t._v(" "),e("el-col",{attrs:{span:8}},[e("head-info",{attrs:{title:"今日访问",content:t.todayVisitCount}})],1),t._v(" "),e("el-col",{attrs:{span:8}},[e("head-info",{attrs:{title:"总访问量",content:t.totalVisitCount}})],1)],1)],1)])],1)],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"head-info-card box-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("快捷方式")])]),t._v(" "),e("span",t._l(t.menuList,(function(a,s){return e("div",{key:s,staticStyle:{float:"left"}},[e("router-link",{class:["pan-btn",t.colorList[s%7]],attrs:{to:a.path}},[e("svg-icon",{attrs:{"icon-class":a.icon}}),t._v("\n              "+t._s(a.name)+"\n            ")],1)],1)})),0)])],1)],1),t._v(" "),e("el-row",{staticClass:"count-info",attrs:{gutter:8}},[e("el-col",{staticClass:"visit-count-wrapper",attrs:{span:24}},[e("el-card",{staticClass:"visit-count box-card",attrs:{shadow:"hover"}},[e("div",{staticStyle:{height:"400px"},attrs:{id:"dashboard_chart"}})])],1)],1)],1)},n=[],o=e("2d63"),r=(e("7f7f"),e("db72")),i=e("2f62"),c=e("49d5"),l=e("0fea"),d={name:"Dashboard",components:{HeadInfo:c["default"]},data:function(){return{todayIp:0,todayVisitCount:0,totalVisitCount:0,menuList:[],colorList:["blue-btn","red-btn","light-blue-btn","pink-btn","green-btn","tiffany-btn","yellow-btn"],welcomeMessage:""}},computed:Object(r["a"])({},Object(i["b"])(["avatar","name","sysUser","sysRole","sysOrg"])),mounted:function(){this.welcomeMessage=this.welcome(),this.getChart()},methods:{welcome:function(){var t=new Date,a=t.getHours(),e=a<6?"早上好":a<=11?"上午好":a<=13?"中午好":a<=18?"下午好":"晚上好",s=["喝杯咖啡休息下吧☕","要不要和朋友打局LOL","几天没见又更好看了呢😍","今天又写了几个Bug🐞呢","今天在群里吹水了吗","今天吃了什么好吃的呢","今天您微笑了吗😊","今天帮助别人解决问题了吗","准备吃些什么呢","周末要不要去看电影？"],n=Math.floor(Math.random()*s.length);return"".concat(e,"，").concat(this.name,"，").concat(s[n])},getChart:function(){var t=this;Object(l["d"])("/sys/user/index",this.sysUser).then((function(a){var e=a.data;t.todayIp=e.todayIp,t.todayVisitCount=e.todayVisitCount,t.totalVisitCount=e.totalVisitCount,t.menuList=e.menuList;for(var s=[],n=[],r=6;r>=0;r--){var i,c=t.$moment().subtract(r,"days").format("MM-DD"),l=!1,d=Object(o["a"])(e.lastSevenVisitCount);try{for(d.s();!(i=d.n()).done;){var u=i.value;u.days===c&&(l=!0,s.push(u.count))}}catch(g){d.e(g)}finally{d.f()}l||s.push(0),n.push(c)}for(var f=[],h=6;h>=0;h--){var v,p=t.$moment().subtract(h,"days").format("MM-DD"),m=!1,y=Object(o["a"])(e.lastSevenUserVisitCount);try{for(y.s();!(v=y.n()).done;){var b=v.value;b.days===p&&(m=!0,f.push(b.count))}}catch(g){y.e(g)}finally{y.f()}m||f.push(0)}var _=t.$echarts.init(document.getElementById("dashboard_chart"));_.setOption({title:{text:"近七日系统访问记录",left:"left"},xAxis:{data:n},yAxis:{minInterval:1},legend:{data:["您","总数"]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},series:[{name:"您",type:"bar",data:f},{name:"总数",type:"bar",data:s}]})})).catch((function(a){console.error(a),t.$message.error("获取首页信息失败")}))}}},u=d,f=(e("8c69"),e("2877")),h=Object(f["a"])(u,s,n,!1,null,"f8fa8f46",null);a["default"]=h.exports}}]);